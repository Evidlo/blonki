var Ro=Object.defineProperty;var Ii=r=>{throw TypeError(r)};var Fo=(r,e,t)=>e in r?Ro(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var Xt=(r,e,t)=>Fo(r,typeof e!="symbol"?e+"":e,t),da=(r,e,t)=>e.has(r)||Ii("Cannot "+t);var Mt=(r,e,t)=>(da(r,e,"read from private field"),t?t.call(r):e.get(r)),fe=(r,e,t)=>e.has(r)?Ii("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),be=(r,e,t,i)=>(da(r,e,"write to private field"),i?i.call(r,t):e.set(r,t),t),ur=(r,e,t)=>(da(r,e,"access private method"),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();const es=!1;var Zn=Array.isArray,zo=Array.prototype.indexOf,za=Array.from,Sa=Object.defineProperty,Cr=Object.getOwnPropertyDescriptor,rs=Object.getOwnPropertyDescriptors,Lo=Object.prototype,Po=Array.prototype,La=Object.getPrototypeOf,Ti=Object.isExtensible;const Fn=()=>{};function Bo(r){return r()}function Pn(r){for(var e=0;e<r.length;e++)r[e]()}function Mo(){var r,e,t=new Promise((i,a)=>{r=i,e=a});return{promise:t,resolve:r,reject:e}}const _e=2,Pa=4,$n=8,Lr=16,He=32,_r=64,ns=128,xe=256,Bn=512,ie=1024,Se=2048,ir=4096,Te=8192,yr=16384,Ba=32768,Ma=65536,Ci=1<<17,Uo=1<<18,vn=1<<19,as=1<<20,Ea=1<<21,Ua=1<<22,pr=1<<23,qe=Symbol("$state"),jo=Symbol("legacy props"),ja=new class extends Error{constructor(){super(...arguments);Xt(this,"name","StaleReactionError");Xt(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};function qo(){throw new Error("https://svelte.dev/e/await_outside_boundary")}function is(r){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function Go(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function Ho(r){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Wo(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Ko(r){throw new Error("https://svelte.dev/e/effect_orphan")}function Zo(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function $o(r){throw new Error("https://svelte.dev/e/props_invalid_value")}function Jo(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Vo(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Yo(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}const Xo=1,Qo=2,tl=16,el=1,rl=2,nl=4,al=8,il=16,sl=1,ol=2,ne=Symbol(),ll="http://www.w3.org/1999/xhtml";function ul(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}let cl=!1;function ss(r){return r===this.v}function os(r,e){return r!=r?e==e:r!==e||r!==null&&typeof r=="object"||typeof r=="function"}function ls(r){return!os(r,this.v)}let Pr=!1,fl=!1;function dl(){Pr=!0}let Vt=null;function Mn(r){Vt=r}function wr(r,e=!1,t){Vt={p:Vt,c:null,e:null,s:r,x:null,l:Pr&&!e?{s:null,u:null,$:[]}:null}}function br(r){var e=Vt,t=e.e;if(t!==null){e.e=null;for(var i of t)Ss(i)}return Vt=e.p,{}}function mn(){return!Pr||Vt!==null&&Vt.l===null}const hl=new WeakMap;function pl(r){var e=Ft;if(e===null)return Nt.f|=pr,r;if((e.f&Ba)===0){if((e.f&ns)===0)throw!e.parent&&r instanceof Error&&us(r),r;e.b.error(r)}else qa(r,e)}function qa(r,e){for(;e!==null;){if((e.f&ns)!==0)try{e.b.error(r);return}catch(t){r=t}e=e.parent}throw r instanceof Error&&us(r),r}function us(r){const e=hl.get(r);e&&(Sa(r,"message",{value:e.message}),Sa(r,"stack",{value:e.stack}))}let er=[],Un=[];function cs(){var r=er;er=[],Pn(r)}function vl(){var r=Un;Un=[],Pn(r)}function ml(){return er.length>0||Un.length>0}function Ga(r){if(er.length===0&&!en){var e=er;queueMicrotask(()=>{e===er&&cs()})}er.push(r)}function gl(){er.length>0&&cs(),Un.length>0&&vl()}function _l(){const r=Ft.b;return r===null&&qo(),r}function Jn(r){var e=_e|Se,t=Nt!==null&&(Nt.f&_e)!==0?Nt:null;return Ft===null||t!==null&&(t.f&xe)!==0?e|=xe:Ft.f|=vn,{ctx:Vt,deps:null,effects:null,equals:ss,f:e,fn:r,reactions:null,rv:0,v:ne,wv:0,parent:t??Ft,ac:null}}function yl(r,e){let t=Ft;t===null&&Go();var i=t.b,a=void 0,l=sn(ne),c=null,u=!Nt;return Nl(()=>{try{var p=r();c&&Promise.resolve(p).catch(()=>{})}catch(m){p=Promise.reject(m)}var s=()=>p;a=(c==null?void 0:c.then(s,s))??Promise.resolve(p),c=a;var _=Gt,y=i.is_pending();u&&(i.update_pending_count(1),y||_.increment());const b=(m,g=void 0)=>{c=null,y||_.activate(),g?g!==ja&&(l.f|=pr,on(l,g)):((l.f&pr)!==0&&(l.f^=pr),on(l,m)),u&&(i.update_pending_count(-1),y||_.decrement()),hs()};if(a.then(b,m=>b(null,m||"unknown")),_)return()=>{queueMicrotask(()=>_.neuter())}}),new Promise(p=>{function s(_){function y(){_===a?p(l):s(a)}_.then(y,y)}s(a)})}function Ha(r){const e=Jn(r);return e.equals=ls,e}function fs(r){var e=r.effects;if(e!==null){r.effects=null;for(var t=0;t<e.length;t+=1)Ge(e[t])}}function wl(r){for(var e=r.parent;e!==null;){if((e.f&_e)===0)return e;e=e.parent}return null}function Wa(r){var e,t=Ft;ar(wl(r));try{fs(r),e=Ls(r)}finally{ar(t)}return e}function ds(r){var e=Wa(r);if(r.equals(e)||(r.v=e,r.wv=Fs()),!kr){var t=(rr||(r.f&xe)!==0)&&r.deps!==null?ir:ie;he(r,t)}}function bl(r,e,t){const i=mn()?Jn:Ha;if(e.length===0){t(r.map(i));return}var a=Gt,l=Ft,c=kl(),u=_l();Promise.all(e.map(p=>yl(p))).then(p=>{a==null||a.activate(),c();try{t([...r.map(i),...p])}catch(s){(l.f&yr)===0&&qa(s,l)}a==null||a.deactivate(),hs()}).catch(p=>{u.error(p)})}function kl(){var r=Ft,e=Nt,t=Vt,i=Gt;return function(){ar(r),Pe(e),Mn(t),i==null||i.activate()}}function hs(){ar(null),Pe(null),Mn(null)}const ha=new Set;let Gt=null,zn=null,Di=new Set,gr=[],Vn=null,Aa=!1,en=!1;var cn,Nr,Qe,fn,dn,dr,Rr,hr,tr,Fr,hn,pn,Ce,ps,Ln,Ia;const Kn=class Kn{constructor(){fe(this,Ce);Xt(this,"current",new Map);fe(this,cn,new Map);fe(this,Nr,new Set);fe(this,Qe,0);fe(this,fn,null);fe(this,dn,!1);fe(this,dr,[]);fe(this,Rr,[]);fe(this,hr,[]);fe(this,tr,[]);fe(this,Fr,[]);fe(this,hn,[]);fe(this,pn,[]);Xt(this,"skipped_effects",new Set)}process(e){var a;gr=[],zn=null;for(const l of e)ur(this,Ce,ps).call(this,l);if(Mt(this,dr).length===0&&Mt(this,Qe)===0){ur(this,Ce,Ia).call(this);var t=Mt(this,hr),i=Mt(this,tr);be(this,hr,[]),be(this,tr,[]),be(this,Fr,[]),zn=Gt,Gt=null,Oi(t),Oi(i),Gt===null?Gt=this:ha.delete(this),(a=Mt(this,fn))==null||a.resolve()}else ur(this,Ce,Ln).call(this,Mt(this,hr)),ur(this,Ce,Ln).call(this,Mt(this,tr)),ur(this,Ce,Ln).call(this,Mt(this,Fr));for(const l of Mt(this,dr))Or(l);for(const l of Mt(this,Rr))Or(l);be(this,dr,[]),be(this,Rr,[])}capture(e,t){Mt(this,cn).has(e)||Mt(this,cn).set(e,t),this.current.set(e,e.v)}activate(){Gt=this}deactivate(){Gt=null,zn=null;for(const e of Di)if(Di.delete(e),e(),Gt!==null)break}neuter(){be(this,dn,!0)}flush(){gr.length>0?vs():ur(this,Ce,Ia).call(this),Gt===this&&(Mt(this,Qe)===0&&ha.delete(this),this.deactivate())}increment(){be(this,Qe,Mt(this,Qe)+1)}decrement(){if(be(this,Qe,Mt(this,Qe)-1),Mt(this,Qe)===0){for(const e of Mt(this,hn))he(e,Se),zr(e);for(const e of Mt(this,pn))he(e,ir),zr(e);be(this,hr,[]),be(this,tr,[]),this.flush()}else this.deactivate()}add_callback(e){Mt(this,Nr).add(e)}settled(){return(Mt(this,fn)??be(this,fn,Mo())).promise}static ensure(){if(Gt===null){const e=Gt=new Kn;ha.add(Gt),en||Kn.enqueue(()=>{Gt===e&&e.flush()})}return Gt}static enqueue(e){Ga(e)}};cn=new WeakMap,Nr=new WeakMap,Qe=new WeakMap,fn=new WeakMap,dn=new WeakMap,dr=new WeakMap,Rr=new WeakMap,hr=new WeakMap,tr=new WeakMap,Fr=new WeakMap,hn=new WeakMap,pn=new WeakMap,Ce=new WeakSet,ps=function(e){var _;e.f^=ie;for(var t=e.first;t!==null;){var i=t.f,a=(i&(He|_r))!==0,l=a&&(i&ie)!==0,c=l||(i&Te)!==0||this.skipped_effects.has(t);if(!c&&t.fn!==null){if(a)t.f^=ie;else if((i&Pa)!==0)Mt(this,tr).push(t);else if((i&ie)===0)if((i&Ua)!==0){var u=(_=t.b)!=null&&_.is_pending()?Mt(this,Rr):Mt(this,dr);u.push(t)}else Qn(t)&&((t.f&Lr)!==0&&Mt(this,Fr).push(t),Or(t));var p=t.first;if(p!==null){t=p;continue}}var s=t.parent;for(t=t.next;t===null&&s!==null;)t=s.next,s=s.parent}},Ln=function(e){for(const t of e)((t.f&Se)!==0?Mt(this,hn):Mt(this,pn)).push(t),he(t,ie);e.length=0},Ia=function(){if(!Mt(this,dn))for(const e of Mt(this,Nr))e();Mt(this,Nr).clear()};let an=Kn;function xl(r){var e=en;en=!0;try{for(var t;;){if(gl(),gr.length===0&&!ml()&&(Gt==null||Gt.flush(),gr.length===0))return Vn=null,t;vs()}}finally{en=e}}function vs(){var r=Dr;Aa=!0;try{var e=0;for(zi(!0);gr.length>0;){var t=an.ensure();if(e++>1e3){var i,a;Sl()}t.process(gr),nr.clear()}}finally{Aa=!1,zi(r),Vn=null}}function Sl(){try{Zo()}catch(r){qa(r,Vn)}}let Ue=null;function Oi(r){var e=r.length;if(e!==0){for(var t=0;t<e;){var i=r[t++];if((i.f&(yr|Te))===0&&Qn(i)&&(Ue=[],Or(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null&&i.ac===null?Ds(i):i.fn=null),(Ue==null?void 0:Ue.length)>0)){nr.clear();for(const a of Ue)Or(a);Ue=[]}}Ue=null}}function zr(r){for(var e=Vn=r;e.parent!==null;){e=e.parent;var t=e.f;if(Aa&&e===Ft&&(t&Lr)!==0)return;if((t&(_r|He))!==0){if((t&ie)===0)return;e.f^=ie}}gr.push(e)}const nr=new Map;function sn(r,e){var t={f:0,v:r,reactions:null,equals:ss,rv:0,wv:0};return t}function Ye(r,e){const t=sn(r);return Ll(t),t}function re(r,e=!1,t=!0){var a;const i=sn(r);return e||(i.equals=ls),Pr&&t&&Vt!==null&&Vt.l!==null&&((a=Vt.l).s??(a.s=[])).push(i),i}function Fe(r,e){return Dt(r,We(()=>q(r))),e}function Dt(r,e,t=!1){Nt!==null&&(!Le||(Nt.f&Ci)!==0)&&mn()&&(Nt.f&(_e|Lr|Ua|Ci))!==0&&!(ce!=null&&ce.includes(r))&&Yo();let i=t?Tr(e):e;return on(r,i)}function on(r,e){if(!r.equals(e)){var t=r.v;kr?nr.set(r,e):nr.set(r,t),r.v=e;var i=an.ensure();i.capture(r,t),(r.f&_e)!==0&&((r.f&Se)!==0&&Wa(r),he(r,(r.f&xe)===0?ie:ir)),r.wv=Fs(),ms(r,Se),mn()&&Ft!==null&&(Ft.f&ie)!==0&&(Ft.f&(He|_r))===0&&(ke===null?Pl([r]):ke.push(r))}return e}function pa(r){Dt(r,r.v+1)}function ms(r,e){var t=r.reactions;if(t!==null)for(var i=mn(),a=t.length,l=0;l<a;l++){var c=t[l],u=c.f;if(!(!i&&c===Ft)){var p=(u&Se)===0;p&&he(c,e),(u&_e)!==0?ms(c,ir):p&&((u&Lr)!==0&&Ue!==null&&Ue.push(c),zr(c))}}}function Tr(r){if(typeof r!="object"||r===null||qe in r)return r;const e=La(r);if(e!==Lo&&e!==Po)return r;var t=new Map,i=Zn(r),a=Ye(0),l=vr,c=u=>{if(vr===l)return u();var p=Nt,s=vr;Pe(null),Pi(l);var _=u();return Pe(p),Pi(s),_};return i&&t.set("length",Ye(r.length)),new Proxy(r,{defineProperty(u,p,s){(!("value"in s)||s.configurable===!1||s.enumerable===!1||s.writable===!1)&&Jo();var _=t.get(p);return _===void 0?_=c(()=>{var y=Ye(s.value);return t.set(p,y),y}):Dt(_,s.value,!0),!0},deleteProperty(u,p){var s=t.get(p);if(s===void 0){if(p in u){const _=c(()=>Ye(ne));t.set(p,_),pa(a)}}else Dt(s,ne),pa(a);return!0},get(u,p,s){var m;if(p===qe)return r;var _=t.get(p),y=p in u;if(_===void 0&&(!y||(m=Cr(u,p))!=null&&m.writable)&&(_=c(()=>{var g=Tr(y?u[p]:ne),v=Ye(g);return v}),t.set(p,_)),_!==void 0){var b=q(_);return b===ne?void 0:b}return Reflect.get(u,p,s)},getOwnPropertyDescriptor(u,p){var s=Reflect.getOwnPropertyDescriptor(u,p);if(s&&"value"in s){var _=t.get(p);_&&(s.value=q(_))}else if(s===void 0){var y=t.get(p),b=y==null?void 0:y.v;if(y!==void 0&&b!==ne)return{enumerable:!0,configurable:!0,value:b,writable:!0}}return s},has(u,p){var b;if(p===qe)return!0;var s=t.get(p),_=s!==void 0&&s.v!==ne||Reflect.has(u,p);if(s!==void 0||Ft!==null&&(!_||(b=Cr(u,p))!=null&&b.writable)){s===void 0&&(s=c(()=>{var m=_?Tr(u[p]):ne,g=Ye(m);return g}),t.set(p,s));var y=q(s);if(y===ne)return!1}return _},set(u,p,s,_){var I;var y=t.get(p),b=p in u;if(i&&p==="length")for(var m=s;m<y.v;m+=1){var g=t.get(m+"");g!==void 0?Dt(g,ne):m in u&&(g=c(()=>Ye(ne)),t.set(m+"",g))}if(y===void 0)(!b||(I=Cr(u,p))!=null&&I.writable)&&(y=c(()=>Ye(void 0)),Dt(y,Tr(s)),t.set(p,y));else{b=y.v!==ne;var v=c(()=>Tr(s));Dt(y,v)}var k=Reflect.getOwnPropertyDescriptor(u,p);if(k!=null&&k.set&&k.set.call(_,s),!b){if(i&&typeof p=="string"){var x=t.get("length"),S=Number(p);Number.isInteger(S)&&S>=x.v&&Dt(x,S+1)}pa(a)}return!0},ownKeys(u){q(a);var p=Reflect.ownKeys(u).filter(y=>{var b=t.get(y);return b===void 0||b.v!==ne});for(var[s,_]of t)_.v!==ne&&!(s in u)&&p.push(s);return p},setPrototypeOf(){Vo()}})}function Ni(r){try{if(r!==null&&typeof r=="object"&&qe in r)return r[qe]}catch{}return r}function El(r,e){return Object.is(Ni(r),Ni(e))}var Ri,gs,_s,ys;function Al(){if(Ri===void 0){Ri=window,gs=/Firefox/.test(navigator.userAgent);var r=Element.prototype,e=Node.prototype,t=Text.prototype;_s=Cr(e,"firstChild").get,ys=Cr(e,"nextSibling").get,Ti(r)&&(r.__click=void 0,r.__className=void 0,r.__attributes=null,r.__style=void 0,r.__e=void 0),Ti(t)&&(t.__t=void 0)}}function gn(r=""){return document.createTextNode(r)}function jn(r){return _s.call(r)}function Yn(r){return ys.call(r)}function et(r,e){return jn(r)}function Ie(r,e){{var t=jn(r);return t instanceof Comment&&t.data===""?Yn(t):t}}function ct(r,e=1,t=!1){let i=r;for(;e--;)i=Yn(i);return i}function Il(r){r.textContent=""}function ws(){return!1}let Fi=!1;function Tl(){Fi||(Fi=!0,document.addEventListener("reset",r=>{Promise.resolve().then(()=>{var e;if(!r.defaultPrevented)for(const t of r.target.elements)(e=t.__on_r)==null||e.call(t)})},{capture:!0}))}function Xn(r){var e=Nt,t=Ft;Pe(null),ar(null);try{return r()}finally{Pe(e),ar(t)}}function bs(r,e,t,i=t){r.addEventListener(e,()=>Xn(t));const a=r.__on_r;a?r.__on_r=()=>{a(),i(!0)}:r.__on_r=()=>i(!0),Tl()}function ks(r){Ft===null&&Nt===null&&Ko(),Nt!==null&&(Nt.f&xe)!==0&&Ft===null&&Wo(),kr&&Ho()}function Cl(r,e){var t=e.last;t===null?e.last=e.first=r:(t.next=r,r.prev=t,e.last=r)}function Be(r,e,t,i=!0){var a=Ft;a!==null&&(a.f&Te)!==0&&(r|=Te);var l={ctx:Vt,deps:null,nodes_start:null,nodes_end:null,f:r|Se,first:null,fn:e,last:null,next:null,parent:a,b:a&&a.b,prev:null,teardown:null,transitions:null,wv:0,ac:null};if(t)try{Or(l),l.f|=Ba}catch(p){throw Ge(l),p}else e!==null&&zr(l);if(i){var c=l;if(t&&c.deps===null&&c.teardown===null&&c.nodes_start===null&&c.first===c.last&&(c.f&vn)===0&&(c=c.first),c!==null&&(c.parent=a,a!==null&&Cl(c,a),Nt!==null&&(Nt.f&_e)!==0&&(r&_r)===0)){var u=Nt;(u.effects??(u.effects=[])).push(c)}}return l}function xs(r){const e=Be($n,null,!1);return he(e,ie),e.teardown=r,e}function Ta(r){ks();var e=Ft.f,t=!Nt&&(e&He)!==0&&(e&Ba)===0;if(t){var i=Vt;(i.e??(i.e=[])).push(r)}else return Ss(r)}function Ss(r){return Be(Pa|as,r,!1)}function Dl(r){return ks(),Be($n|as,r,!0)}function Ol(r){an.ensure();const e=Be(_r|vn,r,!0);return(t={})=>new Promise(i=>{t.outro?Ka(e,()=>{Ge(e),i(void 0)}):(Ge(e),i(void 0))})}function Es(r){return Be(Pa,r,!1)}function Nl(r){return Be(Ua|vn,r,!0)}function As(r,e=0){return Be($n|e,r,!0)}function de(r,e=[],t=[]){bl(e,t,i=>{Be($n,()=>r(...i.map(q)),!0)})}function Is(r,e=0){var t=Be(Lr|e,r,!0);return t}function ln(r,e=!0){return Be(He|vn,r,!0,e)}function Ts(r){var e=r.teardown;if(e!==null){const t=kr,i=Nt;Li(!0),Pe(null);try{e.call(null)}finally{Li(t),Pe(i)}}}function Cs(r,e=!1){var t=r.first;for(r.first=r.last=null;t!==null;){const a=t.ac;a!==null&&Xn(()=>{a.abort(ja)});var i=t.next;(t.f&_r)!==0?t.parent=null:Ge(t,e),t=i}}function Rl(r){for(var e=r.first;e!==null;){var t=e.next;(e.f&He)===0&&Ge(e),e=t}}function Ge(r,e=!0){var t=!1;(e||(r.f&Uo)!==0)&&r.nodes_start!==null&&r.nodes_end!==null&&(Fl(r.nodes_start,r.nodes_end),t=!0),Cs(r,e&&!t),qn(r,0),he(r,yr);var i=r.transitions;if(i!==null)for(const l of i)l.stop();Ts(r);var a=r.parent;a!==null&&a.first!==null&&Ds(r),r.next=r.prev=r.teardown=r.ctx=r.deps=r.fn=r.nodes_start=r.nodes_end=r.ac=null}function Fl(r,e){for(;r!==null;){var t=r===e?null:Yn(r);r.remove(),r=t}}function Ds(r){var e=r.parent,t=r.prev,i=r.next;t!==null&&(t.next=i),i!==null&&(i.prev=t),e!==null&&(e.first===r&&(e.first=i),e.last===r&&(e.last=t))}function Ka(r,e){var t=[];Za(r,t,!0),Os(t,()=>{Ge(r),e&&e()})}function Os(r,e){var t=r.length;if(t>0){var i=()=>--t||e();for(var a of r)a.out(i)}else e()}function Za(r,e,t){if((r.f&Te)===0){if(r.f^=Te,r.transitions!==null)for(const c of r.transitions)(c.is_global||t)&&e.push(c);for(var i=r.first;i!==null;){var a=i.next,l=(i.f&Ma)!==0||(i.f&He)!==0;Za(i,e,l?t:!1),i=a}}}function $a(r){Ns(r,!0)}function Ns(r,e){if((r.f&Te)!==0){r.f^=Te,(r.f&ie)===0&&(he(r,Se),zr(r));for(var t=r.first;t!==null;){var i=t.next,a=(t.f&Ma)!==0||(t.f&He)!==0;Ns(t,a?e:!1),t=i}if(r.transitions!==null)for(const l of r.transitions)(l.is_global||e)&&l.in()}}let Xe=null;function zl(r){var e=Xe;try{if(Xe=new Set,We(r),e!==null)for(var t of Xe)e.add(t);return Xe}finally{Xe=e}}function va(r){for(var e of zl(r))on(e,e.v)}let Dr=!1;function zi(r){Dr=r}let kr=!1;function Li(r){kr=r}let Nt=null,Le=!1;function Pe(r){Nt=r}let Ft=null;function ar(r){Ft=r}let ce=null;function Ll(r){Nt!==null&&(ce===null?ce=[r]:ce.push(r))}let le=null,ge=0,ke=null;function Pl(r){ke=r}let Rs=1,un=0,vr=un;function Pi(r){vr=r}let rr=!1;function Fs(){return++Rs}function Qn(r){var y;var e=r.f;if((e&Se)!==0)return!0;if((e&ir)!==0){var t=r.deps,i=(e&xe)!==0;if(t!==null){var a,l,c=(e&Bn)!==0,u=i&&Ft!==null&&!rr,p=t.length;if((c||u)&&(Ft===null||(Ft.f&yr)===0)){var s=r,_=s.parent;for(a=0;a<p;a++)l=t[a],(c||!((y=l==null?void 0:l.reactions)!=null&&y.includes(s)))&&(l.reactions??(l.reactions=[])).push(s);c&&(s.f^=Bn),u&&_!==null&&(_.f&xe)===0&&(s.f^=xe)}for(a=0;a<p;a++)if(l=t[a],Qn(l)&&ds(l),l.wv>r.wv)return!0}(!i||Ft!==null&&!rr)&&he(r,ie)}return!1}function zs(r,e,t=!0){var i=r.reactions;if(i!==null&&!(ce!=null&&ce.includes(r)))for(var a=0;a<i.length;a++){var l=i[a];(l.f&_e)!==0?zs(l,e,!1):e===l&&(t?he(l,Se):(l.f&ie)!==0&&he(l,ir),zr(l))}}function Ls(r){var v;var e=le,t=ge,i=ke,a=Nt,l=rr,c=ce,u=Vt,p=Le,s=vr,_=r.f;le=null,ge=0,ke=null,rr=(_&xe)!==0&&(Le||!Dr||Nt===null),Nt=(_&(He|_r))===0?r:null,ce=null,Mn(r.ctx),Le=!1,vr=++un,r.ac!==null&&(Xn(()=>{r.ac.abort(ja)}),r.ac=null);try{r.f|=Ea;var y=r.fn,b=y(),m=r.deps;if(le!==null){var g;if(qn(r,ge),m!==null&&ge>0)for(m.length=ge+le.length,g=0;g<le.length;g++)m[ge+g]=le[g];else r.deps=m=le;if(!rr||(_&_e)!==0&&r.reactions!==null)for(g=ge;g<m.length;g++)((v=m[g]).reactions??(v.reactions=[])).push(r)}else m!==null&&ge<m.length&&(qn(r,ge),m.length=ge);if(mn()&&ke!==null&&!Le&&m!==null&&(r.f&(_e|ir|Se))===0)for(g=0;g<ke.length;g++)zs(ke[g],r);return a!==null&&a!==r&&(un++,ke!==null&&(i===null?i=ke:i.push(...ke))),(r.f&pr)!==0&&(r.f^=pr),b}catch(k){return pl(k)}finally{r.f^=Ea,le=e,ge=t,ke=i,Nt=a,rr=l,ce=c,Mn(u),Le=p,vr=s}}function Bl(r,e){let t=e.reactions;if(t!==null){var i=zo.call(t,r);if(i!==-1){var a=t.length-1;a===0?t=e.reactions=null:(t[i]=t[a],t.pop())}}t===null&&(e.f&_e)!==0&&(le===null||!le.includes(e))&&(he(e,ir),(e.f&(xe|Bn))===0&&(e.f^=Bn),fs(e),qn(e,0))}function qn(r,e){var t=r.deps;if(t!==null)for(var i=e;i<t.length;i++)Bl(r,t[i])}function Or(r){var e=r.f;if((e&yr)===0){he(r,ie);var t=Ft,i=Dr;Ft=r,Dr=!0;try{(e&Lr)!==0?Rl(r):Cs(r),Ts(r);var a=Ls(r);r.teardown=typeof a=="function"?a:null,r.wv=Rs;var l;es&&fl&&(r.f&Se)!==0&&r.deps}finally{Dr=i,Ft=t}}}async function Ml(){await Promise.resolve(),xl()}function q(r){var e=r.f,t=(e&_e)!==0;if(Xe==null||Xe.add(r),Nt!==null&&!Le){var i=Ft!==null&&(Ft.f&yr)!==0;if(!i&&!(ce!=null&&ce.includes(r))){var a=Nt.deps;if((Nt.f&Ea)!==0)r.rv<un&&(r.rv=un,le===null&&a!==null&&a[ge]===r?ge++:le===null?le=[r]:(!rr||!le.includes(r))&&le.push(r));else{(Nt.deps??(Nt.deps=[])).push(r);var l=r.reactions;l===null?r.reactions=[Nt]:l.includes(Nt)||l.push(Nt)}}}else if(t&&r.deps===null&&r.effects===null){var c=r,u=c.parent;u!==null&&(u.f&xe)===0&&(c.f^=xe)}if(kr){if(nr.has(r))return nr.get(r);if(t){c=r;var p=c.v;return((c.f&ie)===0&&c.reactions!==null||Ps(c))&&(p=Wa(c)),nr.set(c,p),p}}else t&&(c=r,Qn(c)&&ds(c));if((r.f&pr)!==0)throw r.v;return r.v}function Ps(r){if(r.v===ne)return!0;if(r.deps===null)return!1;for(const e of r.deps)if(nr.has(e)||(e.f&_e)!==0&&Ps(e))return!0;return!1}function We(r){var e=Le;try{return Le=!0,r()}finally{Le=e}}const Ul=-7169;function he(r,e){r.f=r.f&Ul|e}function jl(r){if(!(typeof r!="object"||!r||r instanceof EventTarget)){if(qe in r)Ca(r);else if(!Array.isArray(r))for(let e in r){const t=r[e];typeof t=="object"&&t&&qe in t&&Ca(t)}}}function Ca(r,e=new Set){if(typeof r=="object"&&r!==null&&!(r instanceof EventTarget)&&!e.has(r)){e.add(r),r instanceof Date&&r.getTime();for(let i in r)try{Ca(r[i],e)}catch{}const t=La(r);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const i=rs(t);for(let a in i){const l=i[a].get;if(l)try{l.call(r)}catch{}}}}}const ql=["touchstart","touchmove"];function Gl(r){return ql.includes(r)}const Hl=new Set,Bi=new Set;function Wl(r,e,t,i={}){function a(l){if(i.capture||Xr.call(e,l),!l.cancelBubble)return Xn(()=>t==null?void 0:t.call(this,l))}return r.startsWith("pointer")||r.startsWith("touch")||r==="wheel"?Ga(()=>{e.addEventListener(r,a,i)}):e.addEventListener(r,a,i),a}function St(r,e,t,i,a){var l={capture:i,passive:a},c=Wl(r,e,t,l);(e===document.body||e===window||e===document||e instanceof HTMLMediaElement)&&xs(()=>{e.removeEventListener(r,c,l)})}let Mi=null;function Xr(r){var S;var e=this,t=e.ownerDocument,i=r.type,a=((S=r.composedPath)==null?void 0:S.call(r))||[],l=a[0]||r.target;Mi=r;var c=0,u=Mi===r&&r.__root;if(u){var p=a.indexOf(u);if(p!==-1&&(e===document||e===window)){r.__root=e;return}var s=a.indexOf(e);if(s===-1)return;p<=s&&(c=p)}if(l=a[c]||r.target,l!==e){Sa(r,"currentTarget",{configurable:!0,get(){return l||t}});var _=Nt,y=Ft;Pe(null),ar(null);try{for(var b,m=[];l!==null;){var g=l.assignedSlot||l.parentNode||l.host||null;try{var v=l["__"+i];if(v!=null&&(!l.disabled||r.target===l))if(Zn(v)){var[k,...x]=v;k.apply(l,[r,...x])}else v.call(l,r)}catch(I){b?m.push(I):b=I}if(r.cancelBubble||g===e||g===null)break;l=g}if(b){for(let I of m)queueMicrotask(()=>{throw I});throw b}}finally{r.__root=e,delete r.currentTarget,Pe(_),ar(y)}}}function Kl(r){var e=document.createElement("template");return e.innerHTML=r.replaceAll("<!>","<!---->"),e.content}function Da(r,e){var t=Ft;t.nodes_start===null&&(t.nodes_start=r,t.nodes_end=e)}function zt(r,e){var t=(e&sl)!==0,i=(e&ol)!==0,a,l=!r.startsWith("<!>");return()=>{a===void 0&&(a=Kl(l?r:"<!>"+r),t||(a=jn(a)));var c=i||gs?document.importNode(a,!0):a.cloneNode(!0);if(t){var u=jn(c),p=c.lastChild;Da(u,p)}else Da(c,c);return c}}function je(){var r=document.createDocumentFragment(),e=document.createComment(""),t=gn();return r.append(e,t),Da(e,t),r}function Tt(r,e){r!==null&&r.before(e)}function Kt(r,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(r.__t??(r.__t=r.nodeValue))&&(r.__t=t,r.nodeValue=t+"")}function Zl(r,e){return $l(r,e)}const Ar=new Map;function $l(r,{target:e,anchor:t,props:i={},events:a,context:l,intro:c=!0}){Al();var u=new Set,p=y=>{for(var b=0;b<y.length;b++){var m=y[b];if(!u.has(m)){u.add(m);var g=Gl(m);e.addEventListener(m,Xr,{passive:g});var v=Ar.get(m);v===void 0?(document.addEventListener(m,Xr,{passive:g}),Ar.set(m,1)):Ar.set(m,v+1)}}};p(za(Hl)),Bi.add(p);var s=void 0,_=Ol(()=>{var y=t??e.appendChild(gn());return ln(()=>{if(l){wr({});var b=Vt;b.c=l}a&&(i.$$events=a),s=r(y,i)||{},l&&br()}),()=>{var g;for(var b of u){e.removeEventListener(b,Xr);var m=Ar.get(b);--m===0?(document.removeEventListener(b,Xr),Ar.delete(b)):Ar.set(b,m)}Bi.delete(p),y!==t&&((g=y.parentNode)==null||g.removeChild(y))}});return Jl.set(s,_),s}let Jl=new WeakMap;function ee(r,e,t=!1){var i=r,a=null,l=null,c=ne,u=t?Ma:0,p=!1;const s=(m,g=!0)=>{p=!0,b(g,m)};var _=null;function y(){_!==null&&(_.lastChild.remove(),i.before(_),_=null);var m=c?a:l,g=c?l:a;m&&$a(m),g&&Ka(g,()=>{c?l=null:a=null})}const b=(m,g)=>{if(c!==(c=m)){var v=ws(),k=i;if(v&&(_=document.createDocumentFragment(),_.append(k=gn())),c?a??(a=g&&ln(()=>g(k))):l??(l=g&&ln(()=>g(k))),v){var x=Gt,S=c?a:l,I=c?l:a;S&&x.skipped_effects.delete(S),I&&x.skipped_effects.add(I),x.add_callback(y)}else y()}};Is(()=>{p=!1,e(s),p||b(null,null)},u)}function Gn(r,e){return e}function Vl(r,e,t){for(var i=r.items,a=[],l=e.length,c=0;c<l;c++)Za(e[c].e,a,!0);var u=l>0&&a.length===0&&t!==null;if(u){var p=t.parentNode;Il(p),p.append(t),i.clear(),ze(r,e[0].prev,e[l-1].next)}Os(a,()=>{for(var s=0;s<l;s++){var _=e[s];u||(i.delete(_.k),ze(r,_.prev,_.next)),Ge(_.e,!u)}})}function Hn(r,e,t,i,a,l=null){var c=r,u={flags:e,items:new Map,first:null};{var p=r;c=p.appendChild(gn())}var s=null,_=!1,y=new Map,b=Ha(()=>{var k=t();return Zn(k)?k:k==null?[]:za(k)}),m,g;function v(){Yl(g,m,u,y,c,a,e,i,t),l!==null&&(m.length===0?s?$a(s):s=ln(()=>l(c)):s!==null&&Ka(s,()=>{s=null}))}Is(()=>{g??(g=Ft),m=q(b);var k=m.length;if(!(_&&k===0)){_=k===0;var x,S,I,N;if(ws()){var F=new Set,P=Gt;for(S=0;S<k;S+=1){I=m[S],N=i(I,S);var j=u.items.get(N)??y.get(N);j?Bs(j,I,S):(x=Ms(null,u,null,null,I,N,S,a,e,t,!0),y.set(N,x)),F.add(N)}for(const[$,z]of u.items)F.has($)||P.skipped_effects.add(z.e);P.add_callback(v)}else v();q(b)}})}function Yl(r,e,t,i,a,l,c,u,p){var s=e.length,_=t.items,y=t.first,b=y,m,g=null,v=[],k=[],x,S,I,N;for(N=0;N<s;N+=1){if(x=e[N],S=u(x,N),I=_.get(S),I===void 0){var F=i.get(S);if(F!==void 0){i.delete(S),_.set(S,F);var P=g?g.next:b;ze(t,g,F),ze(t,F,P),ma(F,P,a),g=F}else{var j=b?b.e.nodes_start:a;g=Ms(j,t,g,g===null?t.first:g.next,x,S,N,l,c,p)}_.set(S,g),v=[],k=[],b=g.next;continue}if(Bs(I,x,N),(I.e.f&Te)!==0&&$a(I.e),I!==b){if(m!==void 0&&m.has(I)){if(v.length<k.length){var $=k[0],z;g=$.prev;var J=v[0],ft=v[v.length-1];for(z=0;z<v.length;z+=1)ma(v[z],$,a);for(z=0;z<k.length;z+=1)m.delete(k[z]);ze(t,J.prev,ft.next),ze(t,g,J),ze(t,ft,$),b=$,g=ft,N-=1,v=[],k=[]}else m.delete(I),ma(I,b,a),ze(t,I.prev,I.next),ze(t,I,g===null?t.first:g.next),ze(t,g,I),g=I;continue}for(v=[],k=[];b!==null&&b.k!==S;)(b.e.f&Te)===0&&(m??(m=new Set)).add(b),k.push(b),b=b.next;if(b===null)continue;I=b}v.push(I),g=I,b=I.next}if(b!==null||m!==void 0){for(var T=m===void 0?[]:za(m);b!==null;)(b.e.f&Te)===0&&T.push(b),b=b.next;var U=T.length;if(U>0){var h=s===0?a:null;Vl(t,T,h)}}r.first=t.first&&t.first.e,r.last=g&&g.e;for(var B of i.values())Ge(B.e);i.clear()}function Bs(r,e,t,i){on(r.v,e),r.i=t}function Ms(r,e,t,i,a,l,c,u,p,s,_){var y=(p&Xo)!==0,b=(p&tl)===0,m=y?b?re(a,!1,!1):sn(a):a,g=(p&Qo)===0?c:sn(c),v={i:g,v:m,k:l,a:null,e:null,prev:t,next:i};try{if(r===null){var k=document.createDocumentFragment();k.append(r=gn())}return v.e=ln(()=>u(r,m,g,s),cl),v.e.prev=t&&t.e,v.e.next=i&&i.e,t===null?_||(e.first=v):(t.next=v,t.e.next=v.e),i!==null&&(i.prev=v,i.e.prev=v.e),v}finally{}}function ma(r,e,t){for(var i=r.next?r.next.e.nodes_start:t,a=e?e.e.nodes_start:t,l=r.e.nodes_start;l!==null&&l!==i;){var c=Yn(l);a.before(l),l=c}}function ze(r,e,t){e===null?r.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function Xl(r,e,t,i,a){var u;var l=(u=e.$$slots)==null?void 0:u[t],c=!1;l===!0&&(l=e.children,c=!0),l===void 0||l(r,c?()=>i:i)}function Ql(r,e,t){var i=r==null?"":""+r;return i===""?null:i}function tu(r,e){return r==null?null:String(r)}function cr(r,e,t,i,a,l){var c=r.__className;if(c!==t||c===void 0){var u=Ql(t);u==null?r.removeAttribute("class"):r.className=u,r.__className=t}return l}function Us(r,e,t,i){var a=r.__style;if(a!==e){var l=tu(e);l==null?r.removeAttribute("style"):r.style.cssText=l,r.__style=e}return i}function js(r,e,t=!1){if(r.multiple){if(e==null)return;if(!Zn(e))return ul();for(var i of r.options)i.selected=e.includes(rn(i));return}for(i of r.options){var a=rn(i);if(El(a,e)){i.selected=!0;return}}(!t||e!==void 0)&&(r.selectedIndex=-1)}function eu(r){var e=new MutationObserver(()=>{js(r,r.__value)});e.observe(r,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),xs(()=>{e.disconnect()})}function ga(r,e,t=e){var i=!0;bs(r,"change",a=>{var l=a?"[selected]":":checked",c;if(r.multiple)c=[].map.call(r.querySelectorAll(l),rn);else{var u=r.querySelector(l)??r.querySelector("option:not([disabled])");c=u&&rn(u)}t(c)}),Es(()=>{var a=e();if(js(r,a,i),i&&a===void 0){var l=r.querySelector(":checked");l!==null&&(a=rn(l),t(a))}r.__value=a,i=!1}),eu(r)}function rn(r){return"__value"in r?r.__value:r.value}const ru=Symbol("is custom element"),nu=Symbol("is html");function Ui(r,e){var t=qs(r);t.value===(t.value=e??void 0)||r.value===e&&(e!==0||r.nodeName!=="PROGRESS")||(r.value=e??"")}function ji(r,e,t,i){var a=qs(r);a[e]!==(a[e]=t)&&(t==null?r.removeAttribute(e):typeof t!="string"&&au(r).includes(e)?r[e]=t:r.setAttribute(e,t))}function qs(r){return r.__attributes??(r.__attributes={[ru]:r.nodeName.includes("-"),[nu]:r.namespaceURI===ll})}var qi=new Map;function au(r){var e=r.getAttribute("is")||r.nodeName,t=qi.get(e);if(t)return t;qi.set(e,t=[]);for(var i,a=r,l=Element.prototype;l!==a;){i=rs(a);for(var c in i)i[c].set&&t.push(c);a=La(a)}return t}function Jr(r,e,t=e){var i=new WeakSet;bs(r,"input",async a=>{var l=a?r.defaultValue:r.value;if(l=_a(r)?ya(l):l,t(l),Gt!==null&&i.add(Gt),await Ml(),l!==(l=e())){var c=r.selectionStart,u=r.selectionEnd;r.value=l??"",u!==null&&(r.selectionStart=c,r.selectionEnd=Math.min(u,r.value.length))}}),We(e)==null&&r.value&&(t(_a(r)?ya(r.value):r.value),Gt!==null&&i.add(Gt)),As(()=>{var a=e();if(r===document.activeElement){var l=zn??Gt;if(i.has(l))return}_a(r)&&a===ya(r.value)||r.type==="date"&&!a&&!r.value||a!==r.value&&(r.value=a??"")})}function _a(r){var e=r.type;return e==="number"||e==="range"}function ya(r){return r===""?null:+r}function Gi(r,e){return r===e||(r==null?void 0:r[qe])===e}function iu(r={},e,t,i){return Es(()=>{var a,l;return As(()=>{a=l,l=[],We(()=>{r!==t(...l)&&(e(r,...l),a&&Gi(t(...a),r)&&e(null,...a))})}),()=>{Ga(()=>{l&&Gi(t(...l),r)&&e(null,...l)})}}),r}function Vr(r){return function(...e){var t=e[0];return t.stopPropagation(),r==null?void 0:r.apply(this,e)}}function Br(r=!1){const e=Vt,t=e.l.u;if(!t)return;let i=()=>jl(e.s);if(r){let a=0,l={};const c=Jn(()=>{let u=!1;const p=e.s;for(const s in p)p[s]!==l[s]&&(l[s]=p[s],u=!0);return u&&a++,a});i=()=>q(c)}t.b.length&&Dl(()=>{Hi(e,i),Pn(t.b)}),Ta(()=>{const a=We(()=>t.m.map(Bo));return()=>{for(const l of a)typeof l=="function"&&l()}}),t.a.length&&Ta(()=>{Hi(e,i),Pn(t.a)})}function Hi(r,e){if(r.l.s)for(const t of r.l.s)q(t);e()}function su(r,e,t){if(r==null)return e(void 0),Fn;const i=We(()=>r.subscribe(e,t));return i.unsubscribe?()=>i.unsubscribe():i}const Ir=[];function xr(r,e=Fn){let t=null;const i=new Set;function a(u){if(os(r,u)&&(r=u,t)){const p=!Ir.length;for(const s of i)s[1](),Ir.push(s,r);if(p){for(let s=0;s<Ir.length;s+=2)Ir[s][0](Ir[s+1]);Ir.length=0}}}function l(u){a(u(r))}function c(u,p=Fn){const s=[u,p];return i.add(s),i.size===1&&(t=e(a,l)||Fn),u(r),()=>{i.delete(s),i.size===0&&t&&(t(),t=null)}}return{set:a,update:l,subscribe:c}}function Zt(r){let e;return su(r,t=>e=t)(),e}let Dn=!1;function ou(r){var e=Dn;try{return Dn=!1,[r(),Dn]}finally{Dn=e}}function Wi(r,e=1){const t=r();return r(t+e),t}function wa(r,e,t,i){var I;var a=!Pr||(t&rl)!==0,l=(t&al)!==0,c=(t&il)!==0,u=i,p=!0,s=()=>(p&&(p=!1,u=c?We(i):i),u),_;if(l){var y=qe in r||jo in r;_=((I=Cr(r,e))==null?void 0:I.set)??(y&&e in r?N=>r[e]=N:void 0)}var b,m=!1;l?[b,m]=ou(()=>r[e]):b=r[e],b===void 0&&i!==void 0&&(b=s(),_&&(a&&$o(),_(b)));var g;if(a?g=()=>{var N=r[e];return N===void 0?s():(p=!0,N)}:g=()=>{var N=r[e];return N!==void 0&&(u=void 0),N===void 0?u:N},a&&(t&nl)===0)return g;if(_){var v=r.$$legacy;return(function(N,F){return arguments.length>0?((!a||!F||v||m)&&_(F?g():N),N):g()})}var k=!1,x=((t&el)!==0?Jn:Ha)(()=>(k=!1,g()));l&&q(x);var S=Ft;return(function(N,F){if(arguments.length>0){const P=F?q(x):a&&l?Tr(N):N;return Dt(x,P),k=!0,u!==void 0&&(u=P),N}return kr&&k||(S.f&yr)!==0?x.v:q(x)})}function Mr(r){Vt===null&&is(),Pr&&Vt.l!==null?lu(Vt).m.push(r):Ta(()=>{const e=We(r);if(typeof e=="function")return e})}function Gs(r){Vt===null&&is(),Mr(()=>()=>We(r))}function lu(r){var e=r.l;return e.u??(e.u={a:[],b:[],m:[]})}const uu="5";var ts;typeof window<"u"&&((ts=window.__svelte??(window.__svelte={})).v??(ts.v=new Set)).add(uu);dl();const cu={currentView:"learn",viewHistory:[]},fr=xr(cu),fu={storageType:"localStorage",srsAlgorithm:"sm2",sm2InitialInterval:1,sm2EasyInterval:4,sm2MinInterval:1,sm2MaxInterval:36500,theme:"auto",cardsPerSession:20},ue=xr(fu);var On=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}function du(r){if(Object.prototype.hasOwnProperty.call(r,"__esModule"))return r;var e=r.default;if(typeof e=="function"){var t=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(r).forEach(function(i){var a=Object.getOwnPropertyDescriptor(r,i);Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:function(){return r[i]}})}),t}function Nn(r){throw new Error('Could not dynamically require "'+r+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ba={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Ki;function hu(){return Ki||(Ki=1,(function(r,e){(function(t){r.exports=t()})(function(){return(function t(i,a,l){function c(s,_){if(!a[s]){if(!i[s]){var y=typeof Nn=="function"&&Nn;if(!_&&y)return y(s,!0);if(u)return u(s,!0);var b=new Error("Cannot find module '"+s+"'");throw b.code="MODULE_NOT_FOUND",b}var m=a[s]={exports:{}};i[s][0].call(m.exports,function(g){var v=i[s][1][g];return c(v||g)},m,m.exports,t,i,a,l)}return a[s].exports}for(var u=typeof Nn=="function"&&Nn,p=0;p<l.length;p++)c(l[p]);return c})({1:[function(t,i,a){var l=t("./utils"),c=t("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(p){for(var s,_,y,b,m,g,v,k=[],x=0,S=p.length,I=S,N=l.getTypeOf(p)!=="string";x<p.length;)I=S-x,y=N?(s=p[x++],_=x<S?p[x++]:0,x<S?p[x++]:0):(s=p.charCodeAt(x++),_=x<S?p.charCodeAt(x++):0,x<S?p.charCodeAt(x++):0),b=s>>2,m=(3&s)<<4|_>>4,g=1<I?(15&_)<<2|y>>6:64,v=2<I?63&y:64,k.push(u.charAt(b)+u.charAt(m)+u.charAt(g)+u.charAt(v));return k.join("")},a.decode=function(p){var s,_,y,b,m,g,v=0,k=0,x="data:";if(p.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var S,I=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===u.charAt(64)&&I--,p.charAt(p.length-2)===u.charAt(64)&&I--,I%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=c.uint8array?new Uint8Array(0|I):new Array(0|I);v<p.length;)s=u.indexOf(p.charAt(v++))<<2|(b=u.indexOf(p.charAt(v++)))>>4,_=(15&b)<<4|(m=u.indexOf(p.charAt(v++)))>>2,y=(3&m)<<6|(g=u.indexOf(p.charAt(v++))),S[k++]=s,m!==64&&(S[k++]=_),g!==64&&(S[k++]=y);return S}},{"./support":30,"./utils":32}],2:[function(t,i,a){var l=t("./external"),c=t("./stream/DataWorker"),u=t("./stream/Crc32Probe"),p=t("./stream/DataLengthProbe");function s(_,y,b,m,g){this.compressedSize=_,this.uncompressedSize=y,this.crc32=b,this.compression=m,this.compressedContent=g}s.prototype={getContentWorker:function(){var _=new c(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),y=this;return _.on("end",function(){if(this.streamInfo.data_length!==y.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new c(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(_,y,b){return _.pipe(new u).pipe(new p("uncompressedSize")).pipe(y.compressWorker(b)).pipe(new p("compressedSize")).withStreamInfo("compression",y)},i.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,i,a){var l=t("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},a.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,i,a){var l=t("./utils"),c=(function(){for(var u,p=[],s=0;s<256;s++){u=s;for(var _=0;_<8;_++)u=1&u?3988292384^u>>>1:u>>>1;p[s]=u}return p})();i.exports=function(u,p){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?(function(s,_,y,b){var m=c,g=b+y;s^=-1;for(var v=b;v<g;v++)s=s>>>8^m[255&(s^_[v])];return-1^s})(0|p,u,u.length,0):(function(s,_,y,b){var m=c,g=b+y;s^=-1;for(var v=b;v<g;v++)s=s>>>8^m[255&(s^_.charCodeAt(v))];return-1^s})(0|p,u,u.length,0):0}},{"./utils":32}],5:[function(t,i,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(t,i,a){var l=null;l=typeof Promise<"u"?Promise:t("lie"),i.exports={Promise:l}},{lie:37}],7:[function(t,i,a){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",c=t("pako"),u=t("./utils"),p=t("./stream/GenericWorker"),s=l?"uint8array":"array";function _(y,b){p.call(this,"FlateWorker/"+y),this._pako=null,this._pakoAction=y,this._pakoOptions=b,this.meta={}}a.magic="\b\0",u.inherits(_,p),_.prototype.processChunk=function(y){this.meta=y.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(s,y.data),!1)},_.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new c[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var y=this;this._pako.onData=function(b){y.push({data:b,meta:y.meta})}},a.compressWorker=function(y){return new _("Deflate",y)},a.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,i,a){function l(m,g){var v,k="";for(v=0;v<g;v++)k+=String.fromCharCode(255&m),m>>>=8;return k}function c(m,g,v,k,x,S){var I,N,F=m.file,P=m.compression,j=S!==s.utf8encode,$=u.transformTo("string",S(F.name)),z=u.transformTo("string",s.utf8encode(F.name)),J=F.comment,ft=u.transformTo("string",S(J)),T=u.transformTo("string",s.utf8encode(J)),U=z.length!==F.name.length,h=T.length!==J.length,B="",lt="",H="",ht=F.dir,Z=F.date,rt={crc32:0,compressedSize:0,uncompressedSize:0};g&&!v||(rt.crc32=m.crc32,rt.compressedSize=m.compressedSize,rt.uncompressedSize=m.uncompressedSize);var L=0;g&&(L|=8),j||!U&&!h||(L|=2048);var C=0,st=0;ht&&(C|=16),x==="UNIX"?(st=798,C|=(function(at,gt){var _t=at;return at||(_t=gt?16893:33204),(65535&_t)<<16})(F.unixPermissions,ht)):(st=20,C|=(function(at){return 63&(at||0)})(F.dosPermissions)),I=Z.getUTCHours(),I<<=6,I|=Z.getUTCMinutes(),I<<=5,I|=Z.getUTCSeconds()/2,N=Z.getUTCFullYear()-1980,N<<=4,N|=Z.getUTCMonth()+1,N<<=5,N|=Z.getUTCDate(),U&&(lt=l(1,1)+l(_($),4)+z,B+="up"+l(lt.length,2)+lt),h&&(H=l(1,1)+l(_(ft),4)+T,B+="uc"+l(H.length,2)+H);var nt="";return nt+=`
\0`,nt+=l(L,2),nt+=P.magic,nt+=l(I,2),nt+=l(N,2),nt+=l(rt.crc32,4),nt+=l(rt.compressedSize,4),nt+=l(rt.uncompressedSize,4),nt+=l($.length,2),nt+=l(B.length,2),{fileRecord:y.LOCAL_FILE_HEADER+nt+$+B,dirRecord:y.CENTRAL_FILE_HEADER+l(st,2)+nt+l(ft.length,2)+"\0\0\0\0"+l(C,4)+l(k,4)+$+B+ft}}var u=t("../utils"),p=t("../stream/GenericWorker"),s=t("../utf8"),_=t("../crc32"),y=t("../signature");function b(m,g,v,k){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=g,this.zipPlatform=v,this.encodeFileName=k,this.streamFiles=m,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(b,p),b.prototype.push=function(m){var g=m.meta.percent||0,v=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(m):(this.bytesWritten+=m.data.length,p.prototype.push.call(this,{data:m.data,meta:{currentFile:this.currentFile,percent:v?(g+100*(v-k-1))/v:100}}))},b.prototype.openedSource=function(m){this.currentSourceOffset=this.bytesWritten,this.currentFile=m.file.name;var g=this.streamFiles&&!m.file.dir;if(g){var v=c(m,g,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:v.fileRecord,meta:{percent:0}})}else this.accumulate=!0},b.prototype.closedSource=function(m){this.accumulate=!1;var g=this.streamFiles&&!m.file.dir,v=c(m,g,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(v.dirRecord),g)this.push({data:(function(k){return y.DATA_DESCRIPTOR+l(k.crc32,4)+l(k.compressedSize,4)+l(k.uncompressedSize,4)})(m),meta:{percent:100}});else for(this.push({data:v.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},b.prototype.flush=function(){for(var m=this.bytesWritten,g=0;g<this.dirRecords.length;g++)this.push({data:this.dirRecords[g],meta:{percent:100}});var v=this.bytesWritten-m,k=(function(x,S,I,N,F){var P=u.transformTo("string",F(N));return y.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(x,2)+l(x,2)+l(S,4)+l(I,4)+l(P.length,2)+P})(this.dirRecords.length,v,m,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},b.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},b.prototype.registerPrevious=function(m){this._sources.push(m);var g=this;return m.on("data",function(v){g.processChunk(v)}),m.on("end",function(){g.closedSource(g.previous.streamInfo),g._sources.length?g.prepareNextSource():g.end()}),m.on("error",function(v){g.error(v)}),this},b.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},b.prototype.error=function(m){var g=this._sources;if(!p.prototype.error.call(this,m))return!1;for(var v=0;v<g.length;v++)try{g[v].error(m)}catch{}return!0},b.prototype.lock=function(){p.prototype.lock.call(this);for(var m=this._sources,g=0;g<m.length;g++)m[g].lock()},i.exports=b},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,i,a){var l=t("../compressions"),c=t("./ZipFileWorker");a.generateWorker=function(u,p,s){var _=new c(p.streamFiles,s,p.platform,p.encodeFileName),y=0;try{u.forEach(function(b,m){y++;var g=(function(S,I){var N=S||I,F=l[N];if(!F)throw new Error(N+" is not a valid compression method !");return F})(m.options.compression,p.compression),v=m.options.compressionOptions||p.compressionOptions||{},k=m.dir,x=m.date;m._compressWorker(g,v).withStreamInfo("file",{name:b,dir:k,date:x,comment:m.comment||"",unixPermissions:m.unixPermissions,dosPermissions:m.dosPermissions}).pipe(_)}),_.entriesCount=y}catch(b){_.error(b)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,i,a){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var c=new l;for(var u in this)typeof this[u]!="function"&&(c[u]=this[u]);return c}}(l.prototype=t("./object")).loadAsync=t("./load"),l.support=t("./support"),l.defaults=t("./defaults"),l.version="3.10.1",l.loadAsync=function(c,u){return new l().loadAsync(c,u)},l.external=t("./external"),i.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,i,a){var l=t("./utils"),c=t("./external"),u=t("./utf8"),p=t("./zipEntries"),s=t("./stream/Crc32Probe"),_=t("./nodejsUtils");function y(b){return new c.Promise(function(m,g){var v=b.decompressed.getContentWorker().pipe(new s);v.on("error",function(k){g(k)}).on("end",function(){v.streamInfo.crc32!==b.decompressed.crc32?g(new Error("Corrupted zip : CRC32 mismatch")):m()}).resume()})}i.exports=function(b,m){var g=this;return m=l.extend(m||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),_.isNode&&_.isStream(b)?c.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",b,!0,m.optimizedBinaryString,m.base64).then(function(v){var k=new p(m);return k.load(v),k}).then(function(v){var k=[c.Promise.resolve(v)],x=v.files;if(m.checkCRC32)for(var S=0;S<x.length;S++)k.push(y(x[S]));return c.Promise.all(k)}).then(function(v){for(var k=v.shift(),x=k.files,S=0;S<x.length;S++){var I=x[S],N=I.fileNameStr,F=l.resolve(I.fileNameStr);g.file(F,I.decompressed,{binary:!0,optimizedBinaryString:!0,date:I.date,dir:I.dir,comment:I.fileCommentStr.length?I.fileCommentStr:null,unixPermissions:I.unixPermissions,dosPermissions:I.dosPermissions,createFolders:m.createFolders}),I.dir||(g.file(F).unsafeOriginalName=N)}return k.zipComment.length&&(g.comment=k.zipComment),g})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,i,a){var l=t("../utils"),c=t("../stream/GenericWorker");function u(p,s){c.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(s)}l.inherits(u,c),u.prototype._bindStream=function(p){var s=this;(this._stream=p).pause(),p.on("data",function(_){s.push({data:_,meta:{percent:0}})}).on("error",function(_){s.isPaused?this.generatedError=_:s.error(_)}).on("end",function(){s.isPaused?s._upstreamEnded=!0:s.end()})},u.prototype.pause=function(){return!!c.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},i.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,i,a){var l=t("readable-stream").Readable;function c(u,p,s){l.call(this,p),this._helper=u;var _=this;u.on("data",function(y,b){_.push(y)||_._helper.pause(),s&&s(b)}).on("error",function(y){_.emit("error",y)}).on("end",function(){_.push(null)})}t("../utils").inherits(c,l),c.prototype._read=function(){this._helper.resume()},i.exports=c},{"../utils":32,"readable-stream":16}],14:[function(t,i,a){i.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,c){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,c);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,c)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var c=new Buffer(l);return c.fill(0),c},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(t,i,a){function l(F,P,j){var $,z=u.getTypeOf(P),J=u.extend(j||{},_);J.date=J.date||new Date,J.compression!==null&&(J.compression=J.compression.toUpperCase()),typeof J.unixPermissions=="string"&&(J.unixPermissions=parseInt(J.unixPermissions,8)),J.unixPermissions&&16384&J.unixPermissions&&(J.dir=!0),J.dosPermissions&&16&J.dosPermissions&&(J.dir=!0),J.dir&&(F=x(F)),J.createFolders&&($=k(F))&&S.call(this,$,!0);var ft=z==="string"&&J.binary===!1&&J.base64===!1;j&&j.binary!==void 0||(J.binary=!ft),(P instanceof y&&P.uncompressedSize===0||J.dir||!P||P.length===0)&&(J.base64=!1,J.binary=!0,P="",J.compression="STORE",z="string");var T=null;T=P instanceof y||P instanceof p?P:g.isNode&&g.isStream(P)?new v(F,P):u.prepareContent(F,P,J.binary,J.optimizedBinaryString,J.base64);var U=new b(F,T,J);this.files[F]=U}var c=t("./utf8"),u=t("./utils"),p=t("./stream/GenericWorker"),s=t("./stream/StreamHelper"),_=t("./defaults"),y=t("./compressedObject"),b=t("./zipObject"),m=t("./generate"),g=t("./nodejsUtils"),v=t("./nodejs/NodejsStreamInputAdapter"),k=function(F){F.slice(-1)==="/"&&(F=F.substring(0,F.length-1));var P=F.lastIndexOf("/");return 0<P?F.substring(0,P):""},x=function(F){return F.slice(-1)!=="/"&&(F+="/"),F},S=function(F,P){return P=P!==void 0?P:_.createFolders,F=x(F),this.files[F]||l.call(this,F,null,{dir:!0,createFolders:P}),this.files[F]};function I(F){return Object.prototype.toString.call(F)==="[object RegExp]"}var N={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(F){var P,j,$;for(P in this.files)$=this.files[P],(j=P.slice(this.root.length,P.length))&&P.slice(0,this.root.length)===this.root&&F(j,$)},filter:function(F){var P=[];return this.forEach(function(j,$){F(j,$)&&P.push($)}),P},file:function(F,P,j){if(arguments.length!==1)return F=this.root+F,l.call(this,F,P,j),this;if(I(F)){var $=F;return this.filter(function(J,ft){return!ft.dir&&$.test(J)})}var z=this.files[this.root+F];return z&&!z.dir?z:null},folder:function(F){if(!F)return this;if(I(F))return this.filter(function(z,J){return J.dir&&F.test(z)});var P=this.root+F,j=S.call(this,P),$=this.clone();return $.root=j.name,$},remove:function(F){F=this.root+F;var P=this.files[F];if(P||(F.slice(-1)!=="/"&&(F+="/"),P=this.files[F]),P&&!P.dir)delete this.files[F];else for(var j=this.filter(function(z,J){return J.name.slice(0,F.length)===F}),$=0;$<j.length;$++)delete this.files[j[$].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(F){var P,j={};try{if((j=u.extend(F||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:c.utf8encode})).type=j.type.toLowerCase(),j.compression=j.compression.toUpperCase(),j.type==="binarystring"&&(j.type="string"),!j.type)throw new Error("No output type specified.");u.checkSupport(j.type),j.platform!=="darwin"&&j.platform!=="freebsd"&&j.platform!=="linux"&&j.platform!=="sunos"||(j.platform="UNIX"),j.platform==="win32"&&(j.platform="DOS");var $=j.comment||this.comment||"";P=m.generateWorker(this,j,$)}catch(z){(P=new p("error")).error(z)}return new s(P,j.type||"string",j.mimeType)},generateAsync:function(F,P){return this.generateInternalStream(F).accumulate(P)},generateNodeStream:function(F,P){return(F=F||{}).type||(F.type="nodebuffer"),this.generateInternalStream(F).toNodejsStream(P)}};i.exports=N},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,i,a){i.exports=t("stream")},{stream:void 0}],17:[function(t,i,a){var l=t("./DataReader");function c(u){l.call(this,u);for(var p=0;p<this.data.length;p++)u[p]=255&u[p]}t("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data[this.zero+u]},c.prototype.lastIndexOfSignature=function(u){for(var p=u.charCodeAt(0),s=u.charCodeAt(1),_=u.charCodeAt(2),y=u.charCodeAt(3),b=this.length-4;0<=b;--b)if(this.data[b]===p&&this.data[b+1]===s&&this.data[b+2]===_&&this.data[b+3]===y)return b-this.zero;return-1},c.prototype.readAndCheckSignature=function(u){var p=u.charCodeAt(0),s=u.charCodeAt(1),_=u.charCodeAt(2),y=u.charCodeAt(3),b=this.readData(4);return p===b[0]&&s===b[1]&&_===b[2]&&y===b[3]},c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},i.exports=c},{"../utils":32,"./DataReader":18}],18:[function(t,i,a){var l=t("../utils");function c(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}c.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var p,s=0;for(this.checkOffset(u),p=this.index+u-1;p>=this.index;p--)s=(s<<8)+this.byteAt(p);return this.index+=u,s},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},i.exports=c},{"../utils":32}],19:[function(t,i,a){var l=t("./Uint8ArrayReader");function c(u){l.call(this,u)}t("../utils").inherits(c,l),c.prototype.readData=function(u){this.checkOffset(u);var p=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},i.exports=c},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,i,a){var l=t("./DataReader");function c(u){l.call(this,u)}t("../utils").inherits(c,l),c.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},c.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},c.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},c.prototype.readData=function(u){this.checkOffset(u);var p=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},i.exports=c},{"../utils":32,"./DataReader":18}],21:[function(t,i,a){var l=t("./ArrayReader");function c(u){l.call(this,u)}t("../utils").inherits(c,l),c.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,p},i.exports=c},{"../utils":32,"./ArrayReader":17}],22:[function(t,i,a){var l=t("../utils"),c=t("../support"),u=t("./ArrayReader"),p=t("./StringReader"),s=t("./NodeBufferReader"),_=t("./Uint8ArrayReader");i.exports=function(y){var b=l.getTypeOf(y);return l.checkSupport(b),b!=="string"||c.uint8array?b==="nodebuffer"?new s(y):c.uint8array?new _(l.transformTo("uint8array",y)):new u(l.transformTo("array",y)):new p(y)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,i,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,i,a){var l=t("./GenericWorker"),c=t("../utils");function u(p){l.call(this,"ConvertWorker to "+p),this.destType=p}c.inherits(u,l),u.prototype.processChunk=function(p){this.push({data:c.transformTo(this.destType,p.data),meta:p.meta})},i.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(t,i,a){var l=t("./GenericWorker"),c=t("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(u,l),u.prototype.processChunk=function(p){this.streamInfo.crc32=c(p.data,this.streamInfo.crc32||0),this.push(p)},i.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,i,a){var l=t("../utils"),c=t("./GenericWorker");function u(p){c.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}l.inherits(u,c),u.prototype.processChunk=function(p){if(p){var s=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=s+p.data.length}c.prototype.processChunk.call(this,p)},i.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(t,i,a){var l=t("../utils"),c=t("./GenericWorker");function u(p){c.call(this,"DataWorker");var s=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(_){s.dataIsReady=!0,s.data=_,s.max=_&&_.length||0,s.type=l.getTypeOf(_),s.isPaused||s._tickAndRepeat()},function(_){s.error(_)})}l.inherits(u,c),u.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,s=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,s);break;case"uint8array":p=this.data.subarray(this.index,s);break;case"array":case"nodebuffer":p=this.data.slice(this.index,s)}return this.index=s,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},i.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(t,i,a){function l(c){this.name=c||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(c){this.emit("data",c)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(c){this.emit("error",c)}return!0},error:function(c){return!this.isFinished&&(this.isPaused?this.generatedError=c:(this.isFinished=!0,this.emit("error",c),this.previous&&this.previous.error(c),this.cleanUp()),!0)},on:function(c,u){return this._listeners[c].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(c,u){if(this._listeners[c])for(var p=0;p<this._listeners[c].length;p++)this._listeners[c][p].call(this,u)},pipe:function(c){return c.registerPrevious(this)},registerPrevious:function(c){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=c.streamInfo,this.mergeStreamInfo(),this.previous=c;var u=this;return c.on("data",function(p){u.processChunk(p)}),c.on("end",function(){u.end()}),c.on("error",function(p){u.error(p)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var c=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),c=!0),this.previous&&this.previous.resume(),!c},flush:function(){},processChunk:function(c){this.push(c)},withStreamInfo:function(c,u){return this.extraStreamInfo[c]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var c in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,c)&&(this.streamInfo[c]=this.extraStreamInfo[c])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var c="Worker "+this.name;return this.previous?this.previous+" -> "+c:c}},i.exports=l},{}],29:[function(t,i,a){var l=t("../utils"),c=t("./ConvertWorker"),u=t("./GenericWorker"),p=t("../base64"),s=t("../support"),_=t("../external"),y=null;if(s.nodestream)try{y=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function b(g,v){return new _.Promise(function(k,x){var S=[],I=g._internalType,N=g._outputType,F=g._mimeType;g.on("data",function(P,j){S.push(P),v&&v(j)}).on("error",function(P){S=[],x(P)}).on("end",function(){try{var P=(function(j,$,z){switch(j){case"blob":return l.newBlob(l.transformTo("arraybuffer",$),z);case"base64":return p.encode($);default:return l.transformTo(j,$)}})(N,(function(j,$){var z,J=0,ft=null,T=0;for(z=0;z<$.length;z++)T+=$[z].length;switch(j){case"string":return $.join("");case"array":return Array.prototype.concat.apply([],$);case"uint8array":for(ft=new Uint8Array(T),z=0;z<$.length;z++)ft.set($[z],J),J+=$[z].length;return ft;case"nodebuffer":return Buffer.concat($);default:throw new Error("concat : unsupported type '"+j+"'")}})(I,S),F);k(P)}catch(j){x(j)}S=[]}).resume()})}function m(g,v,k){var x=v;switch(v){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=v,this._mimeType=k,l.checkSupport(x),this._worker=g.pipe(new c(x)),g.lock()}catch(S){this._worker=new u("error"),this._worker.error(S)}}m.prototype={accumulate:function(g){return b(this,g)},on:function(g,v){var k=this;return g==="data"?this._worker.on(g,function(x){v.call(k,x.data,x.meta)}):this._worker.on(g,function(){l.delay(v,arguments,k)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(g){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new y(this,{objectMode:this._outputType!=="nodebuffer"},g)}},i.exports=m},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,i,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var l=new ArrayBuffer(0);try{a.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);c.append(l),a.blob=c.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!t("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(t,i,a){for(var l=t("./utils"),c=t("./support"),u=t("./nodejsUtils"),p=t("./stream/GenericWorker"),s=new Array(256),_=0;_<256;_++)s[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;s[254]=s[254]=1;function y(){p.call(this,"utf-8 decode"),this.leftOver=null}function b(){p.call(this,"utf-8 encode")}a.utf8encode=function(m){return c.nodebuffer?u.newBufferFrom(m,"utf-8"):(function(g){var v,k,x,S,I,N=g.length,F=0;for(S=0;S<N;S++)(64512&(k=g.charCodeAt(S)))==55296&&S+1<N&&(64512&(x=g.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),S++),F+=k<128?1:k<2048?2:k<65536?3:4;for(v=c.uint8array?new Uint8Array(F):new Array(F),S=I=0;I<F;S++)(64512&(k=g.charCodeAt(S)))==55296&&S+1<N&&(64512&(x=g.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),S++),k<128?v[I++]=k:(k<2048?v[I++]=192|k>>>6:(k<65536?v[I++]=224|k>>>12:(v[I++]=240|k>>>18,v[I++]=128|k>>>12&63),v[I++]=128|k>>>6&63),v[I++]=128|63&k);return v})(m)},a.utf8decode=function(m){return c.nodebuffer?l.transformTo("nodebuffer",m).toString("utf-8"):(function(g){var v,k,x,S,I=g.length,N=new Array(2*I);for(v=k=0;v<I;)if((x=g[v++])<128)N[k++]=x;else if(4<(S=s[x]))N[k++]=65533,v+=S-1;else{for(x&=S===2?31:S===3?15:7;1<S&&v<I;)x=x<<6|63&g[v++],S--;1<S?N[k++]=65533:x<65536?N[k++]=x:(x-=65536,N[k++]=55296|x>>10&1023,N[k++]=56320|1023&x)}return N.length!==k&&(N.subarray?N=N.subarray(0,k):N.length=k),l.applyFromCharCode(N)})(m=l.transformTo(c.uint8array?"uint8array":"array",m))},l.inherits(y,p),y.prototype.processChunk=function(m){var g=l.transformTo(c.uint8array?"uint8array":"array",m.data);if(this.leftOver&&this.leftOver.length){if(c.uint8array){var v=g;(g=new Uint8Array(v.length+this.leftOver.length)).set(this.leftOver,0),g.set(v,this.leftOver.length)}else g=this.leftOver.concat(g);this.leftOver=null}var k=(function(S,I){var N;for((I=I||S.length)>S.length&&(I=S.length),N=I-1;0<=N&&(192&S[N])==128;)N--;return N<0||N===0?I:N+s[S[N]]>I?N:I})(g),x=g;k!==g.length&&(c.uint8array?(x=g.subarray(0,k),this.leftOver=g.subarray(k,g.length)):(x=g.slice(0,k),this.leftOver=g.slice(k,g.length))),this.push({data:a.utf8decode(x),meta:m.meta})},y.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=y,l.inherits(b,p),b.prototype.processChunk=function(m){this.push({data:a.utf8encode(m.data),meta:m.meta})},a.Utf8EncodeWorker=b},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,i,a){var l=t("./support"),c=t("./base64"),u=t("./nodejsUtils"),p=t("./external");function s(v){return v}function _(v,k){for(var x=0;x<v.length;++x)k[x]=255&v.charCodeAt(x);return k}t("setimmediate"),a.newBlob=function(v,k){a.checkSupport("blob");try{return new Blob([v],{type:k})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(v),x.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var y={stringifyByChunk:function(v,k,x){var S=[],I=0,N=v.length;if(N<=x)return String.fromCharCode.apply(null,v);for(;I<N;)k==="array"||k==="nodebuffer"?S.push(String.fromCharCode.apply(null,v.slice(I,Math.min(I+x,N)))):S.push(String.fromCharCode.apply(null,v.subarray(I,Math.min(I+x,N)))),I+=x;return S.join("")},stringifyByChar:function(v){for(var k="",x=0;x<v.length;x++)k+=String.fromCharCode(v[x]);return k},applyCanBeUsed:{uint8array:(function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}})()}};function b(v){var k=65536,x=a.getTypeOf(v),S=!0;if(x==="uint8array"?S=y.applyCanBeUsed.uint8array:x==="nodebuffer"&&(S=y.applyCanBeUsed.nodebuffer),S)for(;1<k;)try{return y.stringifyByChunk(v,x,k)}catch{k=Math.floor(k/2)}return y.stringifyByChar(v)}function m(v,k){for(var x=0;x<v.length;x++)k[x]=v[x];return k}a.applyFromCharCode=b;var g={};g.string={string:s,array:function(v){return _(v,new Array(v.length))},arraybuffer:function(v){return g.string.uint8array(v).buffer},uint8array:function(v){return _(v,new Uint8Array(v.length))},nodebuffer:function(v){return _(v,u.allocBuffer(v.length))}},g.array={string:b,array:s,arraybuffer:function(v){return new Uint8Array(v).buffer},uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(v)}},g.arraybuffer={string:function(v){return b(new Uint8Array(v))},array:function(v){return m(new Uint8Array(v),new Array(v.byteLength))},arraybuffer:s,uint8array:function(v){return new Uint8Array(v)},nodebuffer:function(v){return u.newBufferFrom(new Uint8Array(v))}},g.uint8array={string:b,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return v.buffer},uint8array:s,nodebuffer:function(v){return u.newBufferFrom(v)}},g.nodebuffer={string:b,array:function(v){return m(v,new Array(v.length))},arraybuffer:function(v){return g.nodebuffer.uint8array(v).buffer},uint8array:function(v){return m(v,new Uint8Array(v.length))},nodebuffer:s},a.transformTo=function(v,k){if(k=k||"",!v)return k;a.checkSupport(v);var x=a.getTypeOf(k);return g[x][v](k)},a.resolve=function(v){for(var k=v.split("/"),x=[],S=0;S<k.length;S++){var I=k[S];I==="."||I===""&&S!==0&&S!==k.length-1||(I===".."?x.pop():x.push(I))}return x.join("/")},a.getTypeOf=function(v){return typeof v=="string"?"string":Object.prototype.toString.call(v)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(v)?"nodebuffer":l.uint8array&&v instanceof Uint8Array?"uint8array":l.arraybuffer&&v instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(v){if(!l[v.toLowerCase()])throw new Error(v+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(v){var k,x,S="";for(x=0;x<(v||"").length;x++)S+="\\x"+((k=v.charCodeAt(x))<16?"0":"")+k.toString(16).toUpperCase();return S},a.delay=function(v,k,x){setImmediate(function(){v.apply(x||null,k||[])})},a.inherits=function(v,k){function x(){}x.prototype=k.prototype,v.prototype=new x},a.extend=function(){var v,k,x={};for(v=0;v<arguments.length;v++)for(k in arguments[v])Object.prototype.hasOwnProperty.call(arguments[v],k)&&x[k]===void 0&&(x[k]=arguments[v][k]);return x},a.prepareContent=function(v,k,x,S,I){return p.Promise.resolve(k).then(function(N){return l.blob&&(N instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(N))!==-1)&&typeof FileReader<"u"?new p.Promise(function(F,P){var j=new FileReader;j.onload=function($){F($.target.result)},j.onerror=function($){P($.target.error)},j.readAsArrayBuffer(N)}):N}).then(function(N){var F=a.getTypeOf(N);return F?(F==="arraybuffer"?N=a.transformTo("uint8array",N):F==="string"&&(I?N=c.decode(N):x&&S!==!0&&(N=(function(P){return _(P,l.uint8array?new Uint8Array(P.length):new Array(P.length))})(N))),N):p.Promise.reject(new Error("Can't read the data of '"+v+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,i,a){var l=t("./reader/readerFor"),c=t("./utils"),u=t("./signature"),p=t("./zipEntry"),s=t("./support");function _(y){this.files=[],this.loadOptions=y}_.prototype={checkSignature:function(y){if(!this.reader.readAndCheckSignature(y)){this.reader.index-=4;var b=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+c.pretty(b)+", expected "+c.pretty(y)+")")}},isSignature:function(y,b){var m=this.reader.index;this.reader.setIndex(y);var g=this.reader.readString(4)===b;return this.reader.setIndex(m),g},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var y=this.reader.readData(this.zipCommentLength),b=s.uint8array?"uint8array":"array",m=c.transformTo(b,y);this.zipComment=this.loadOptions.decodeFileName(m)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var y,b,m,g=this.zip64EndOfCentralSize-44;0<g;)y=this.reader.readInt(2),b=this.reader.readInt(4),m=this.reader.readData(b),this.zip64ExtensibleData[y]={id:y,length:b,value:m}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var y,b;for(y=0;y<this.files.length;y++)b=this.files[y],this.reader.setIndex(b.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),b.readLocalPart(this.reader),b.handleUTF8(),b.processAttributes()},readCentralDir:function(){var y;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(y=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(y);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var y=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(y<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(y);var b=y;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===c.MAX_VALUE_16BITS||this.diskWithCentralDirStart===c.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===c.MAX_VALUE_16BITS||this.centralDirRecords===c.MAX_VALUE_16BITS||this.centralDirSize===c.MAX_VALUE_32BITS||this.centralDirOffset===c.MAX_VALUE_32BITS){if(this.zip64=!0,(y=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(y),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var m=this.centralDirOffset+this.centralDirSize;this.zip64&&(m+=20,m+=12+this.zip64EndOfCentralSize);var g=b-m;if(0<g)this.isSignature(b,u.CENTRAL_FILE_HEADER)||(this.reader.zero=g);else if(g<0)throw new Error("Corrupted zip: missing "+Math.abs(g)+" bytes.")},prepareReader:function(y){this.reader=l(y)},load:function(y){this.prepareReader(y),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},i.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,i,a){var l=t("./reader/readerFor"),c=t("./utils"),u=t("./compressedObject"),p=t("./crc32"),s=t("./utf8"),_=t("./compressions"),y=t("./support");function b(m,g){this.options=m,this.loadOptions=g}b.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(m){var g,v;if(m.skip(22),this.fileNameLength=m.readInt(2),v=m.readInt(2),this.fileName=m.readData(this.fileNameLength),m.skip(v),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((g=(function(k){for(var x in _)if(Object.prototype.hasOwnProperty.call(_,x)&&_[x].magic===k)return _[x];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+c.pretty(this.compressionMethod)+" unknown (inner file : "+c.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,g,m.readData(this.compressedSize))},readCentralPart:function(m){this.versionMadeBy=m.readInt(2),m.skip(2),this.bitFlag=m.readInt(2),this.compressionMethod=m.readString(2),this.date=m.readDate(),this.crc32=m.readInt(4),this.compressedSize=m.readInt(4),this.uncompressedSize=m.readInt(4);var g=m.readInt(2);if(this.extraFieldsLength=m.readInt(2),this.fileCommentLength=m.readInt(2),this.diskNumberStart=m.readInt(2),this.internalFileAttributes=m.readInt(2),this.externalFileAttributes=m.readInt(4),this.localHeaderOffset=m.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");m.skip(g),this.readExtraFields(m),this.parseZIP64ExtraField(m),this.fileComment=m.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var m=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),m==0&&(this.dosPermissions=63&this.externalFileAttributes),m==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var m=l(this.extraFields[1].value);this.uncompressedSize===c.MAX_VALUE_32BITS&&(this.uncompressedSize=m.readInt(8)),this.compressedSize===c.MAX_VALUE_32BITS&&(this.compressedSize=m.readInt(8)),this.localHeaderOffset===c.MAX_VALUE_32BITS&&(this.localHeaderOffset=m.readInt(8)),this.diskNumberStart===c.MAX_VALUE_32BITS&&(this.diskNumberStart=m.readInt(4))}},readExtraFields:function(m){var g,v,k,x=m.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});m.index+4<x;)g=m.readInt(2),v=m.readInt(2),k=m.readData(v),this.extraFields[g]={id:g,length:v,value:k};m.setIndex(x)},handleUTF8:function(){var m=y.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var g=this.findExtraFieldUnicodePath();if(g!==null)this.fileNameStr=g;else{var v=c.transformTo(m,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(v)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var x=c.transformTo(m,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var m=this.extraFields[28789];if(m){var g=l(m.value);return g.readInt(1)!==1||p(this.fileName)!==g.readInt(4)?null:s.utf8decode(g.readData(m.length-5))}return null},findExtraFieldUnicodeComment:function(){var m=this.extraFields[25461];if(m){var g=l(m.value);return g.readInt(1)!==1||p(this.fileComment)!==g.readInt(4)?null:s.utf8decode(g.readData(m.length-5))}return null}},i.exports=b},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,i,a){function l(g,v,k){this.name=g,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=v,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var c=t("./stream/StreamHelper"),u=t("./stream/DataWorker"),p=t("./utf8"),s=t("./compressedObject"),_=t("./stream/GenericWorker");l.prototype={internalStream:function(g){var v=null,k="string";try{if(!g)throw new Error("No output type specified.");var x=(k=g.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),v=this._decompressWorker();var S=!this._dataBinary;S&&!x&&(v=v.pipe(new p.Utf8EncodeWorker)),!S&&x&&(v=v.pipe(new p.Utf8DecodeWorker))}catch(I){(v=new _("error")).error(I)}return new c(v,k,"")},async:function(g,v){return this.internalStream(g).accumulate(v)},nodeStream:function(g,v){return this.internalStream(g||"nodebuffer").toNodejsStream(v)},_compressWorker:function(g,v){if(this._data instanceof s&&this._data.compression.magic===g.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new p.Utf8EncodeWorker)),s.createWorkerFrom(k,g,v)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof _?this._data:new u(this._data)}};for(var y=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],b=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},m=0;m<y.length;m++)l.prototype[y[m]]=b;i.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,i,a){(function(l){var c,u,p=l.MutationObserver||l.WebKitMutationObserver;if(p){var s=0,_=new p(g),y=l.document.createTextNode("");_.observe(y,{characterData:!0}),c=function(){y.data=s=++s%2}}else if(l.setImmediate||l.MessageChannel===void 0)c="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var v=l.document.createElement("script");v.onreadystatechange=function(){g(),v.onreadystatechange=null,v.parentNode.removeChild(v),v=null},l.document.documentElement.appendChild(v)}:function(){setTimeout(g,0)};else{var b=new l.MessageChannel;b.port1.onmessage=g,c=function(){b.port2.postMessage(0)}}var m=[];function g(){var v,k;u=!0;for(var x=m.length;x;){for(k=m,m=[],v=-1;++v<x;)k[v]();x=m.length}u=!1}i.exports=function(v){m.push(v)!==1||u||c()}}).call(this,typeof On<"u"?On:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,i,a){var l=t("immediate");function c(){}var u={},p=["REJECTED"],s=["FULFILLED"],_=["PENDING"];function y(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,x!==c&&v(this,x)}function b(x,S,I){this.promise=x,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof I=="function"&&(this.onRejected=I,this.callRejected=this.otherCallRejected)}function m(x,S,I){l(function(){var N;try{N=S(I)}catch(F){return u.reject(x,F)}N===x?u.reject(x,new TypeError("Cannot resolve promise with itself")):u.resolve(x,N)})}function g(x){var S=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof S=="function")return function(){S.apply(x,arguments)}}function v(x,S){var I=!1;function N(j){I||(I=!0,u.reject(x,j))}function F(j){I||(I=!0,u.resolve(x,j))}var P=k(function(){S(F,N)});P.status==="error"&&N(P.value)}function k(x,S){var I={};try{I.value=x(S),I.status="success"}catch(N){I.status="error",I.value=N}return I}(i.exports=y).prototype.finally=function(x){if(typeof x!="function")return this;var S=this.constructor;return this.then(function(I){return S.resolve(x()).then(function(){return I})},function(I){return S.resolve(x()).then(function(){throw I})})},y.prototype.catch=function(x){return this.then(null,x)},y.prototype.then=function(x,S){if(typeof x!="function"&&this.state===s||typeof S!="function"&&this.state===p)return this;var I=new this.constructor(c);return this.state!==_?m(I,this.state===s?x:S,this.outcome):this.queue.push(new b(I,x,S)),I},b.prototype.callFulfilled=function(x){u.resolve(this.promise,x)},b.prototype.otherCallFulfilled=function(x){m(this.promise,this.onFulfilled,x)},b.prototype.callRejected=function(x){u.reject(this.promise,x)},b.prototype.otherCallRejected=function(x){m(this.promise,this.onRejected,x)},u.resolve=function(x,S){var I=k(g,S);if(I.status==="error")return u.reject(x,I.value);var N=I.value;if(N)v(x,N);else{x.state=s,x.outcome=S;for(var F=-1,P=x.queue.length;++F<P;)x.queue[F].callFulfilled(S)}return x},u.reject=function(x,S){x.state=p,x.outcome=S;for(var I=-1,N=x.queue.length;++I<N;)x.queue[I].callRejected(S);return x},y.resolve=function(x){return x instanceof this?x:u.resolve(new this(c),x)},y.reject=function(x){var S=new this(c);return u.reject(S,x)},y.all=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=x.length,N=!1;if(!I)return this.resolve([]);for(var F=new Array(I),P=0,j=-1,$=new this(c);++j<I;)z(x[j],j);return $;function z(J,ft){S.resolve(J).then(function(T){F[ft]=T,++P!==I||N||(N=!0,u.resolve($,F))},function(T){N||(N=!0,u.reject($,T))})}},y.race=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var I=x.length,N=!1;if(!I)return this.resolve([]);for(var F=-1,P=new this(c);++F<I;)j=x[F],S.resolve(j).then(function($){N||(N=!0,u.resolve(P,$))},function($){N||(N=!0,u.reject(P,$))});var j;return P}},{immediate:36}],38:[function(t,i,a){var l={};(0,t("./lib/utils/common").assign)(l,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),i.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,i,a){var l=t("./zlib/deflate"),c=t("./utils/common"),u=t("./utils/strings"),p=t("./zlib/messages"),s=t("./zlib/zstream"),_=Object.prototype.toString,y=0,b=-1,m=0,g=8;function v(x){if(!(this instanceof v))return new v(x);this.options=c.assign({level:b,method:g,chunkSize:16384,windowBits:15,memLevel:8,strategy:m,to:""},x||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var I=l.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(I!==y)throw new Error(p[I]);if(S.header&&l.deflateSetHeader(this.strm,S.header),S.dictionary){var N;if(N=typeof S.dictionary=="string"?u.string2buf(S.dictionary):_.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(I=l.deflateSetDictionary(this.strm,N))!==y)throw new Error(p[I]);this._dict_set=!0}}function k(x,S){var I=new v(S);if(I.push(x,!0),I.err)throw I.msg||p[I.err];return I.result}v.prototype.push=function(x,S){var I,N,F=this.strm,P=this.options.chunkSize;if(this.ended)return!1;N=S===~~S?S:S===!0?4:0,typeof x=="string"?F.input=u.string2buf(x):_.call(x)==="[object ArrayBuffer]"?F.input=new Uint8Array(x):F.input=x,F.next_in=0,F.avail_in=F.input.length;do{if(F.avail_out===0&&(F.output=new c.Buf8(P),F.next_out=0,F.avail_out=P),(I=l.deflate(F,N))!==1&&I!==y)return this.onEnd(I),!(this.ended=!0);F.avail_out!==0&&(F.avail_in!==0||N!==4&&N!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(c.shrinkBuf(F.output,F.next_out))):this.onData(c.shrinkBuf(F.output,F.next_out)))}while((0<F.avail_in||F.avail_out===0)&&I!==1);return N===4?(I=l.deflateEnd(this.strm),this.onEnd(I),this.ended=!0,I===y):N!==2||(this.onEnd(y),!(F.avail_out=0))},v.prototype.onData=function(x){this.chunks.push(x)},v.prototype.onEnd=function(x){x===y&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},a.Deflate=v,a.deflate=k,a.deflateRaw=function(x,S){return(S=S||{}).raw=!0,k(x,S)},a.gzip=function(x,S){return(S=S||{}).gzip=!0,k(x,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,i,a){var l=t("./zlib/inflate"),c=t("./utils/common"),u=t("./utils/strings"),p=t("./zlib/constants"),s=t("./zlib/messages"),_=t("./zlib/zstream"),y=t("./zlib/gzheader"),b=Object.prototype.toString;function m(v){if(!(this instanceof m))return new m(v);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},v||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||v&&v.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&(15&k.windowBits)==0&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var x=l.inflateInit2(this.strm,k.windowBits);if(x!==p.Z_OK)throw new Error(s[x]);this.header=new y,l.inflateGetHeader(this.strm,this.header)}function g(v,k){var x=new m(k);if(x.push(v,!0),x.err)throw x.msg||s[x.err];return x.result}m.prototype.push=function(v,k){var x,S,I,N,F,P,j=this.strm,$=this.options.chunkSize,z=this.options.dictionary,J=!1;if(this.ended)return!1;S=k===~~k?k:k===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof v=="string"?j.input=u.binstring2buf(v):b.call(v)==="[object ArrayBuffer]"?j.input=new Uint8Array(v):j.input=v,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new c.Buf8($),j.next_out=0,j.avail_out=$),(x=l.inflate(j,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&z&&(P=typeof z=="string"?u.string2buf(z):b.call(z)==="[object ArrayBuffer]"?new Uint8Array(z):z,x=l.inflateSetDictionary(this.strm,P)),x===p.Z_BUF_ERROR&&J===!0&&(x=p.Z_OK,J=!1),x!==p.Z_STREAM_END&&x!==p.Z_OK)return this.onEnd(x),!(this.ended=!0);j.next_out&&(j.avail_out!==0&&x!==p.Z_STREAM_END&&(j.avail_in!==0||S!==p.Z_FINISH&&S!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(I=u.utf8border(j.output,j.next_out),N=j.next_out-I,F=u.buf2string(j.output,I),j.next_out=N,j.avail_out=$-N,N&&c.arraySet(j.output,j.output,I,N,0),this.onData(F)):this.onData(c.shrinkBuf(j.output,j.next_out)))),j.avail_in===0&&j.avail_out===0&&(J=!0)}while((0<j.avail_in||j.avail_out===0)&&x!==p.Z_STREAM_END);return x===p.Z_STREAM_END&&(S=p.Z_FINISH),S===p.Z_FINISH?(x=l.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===p.Z_OK):S!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(j.avail_out=0))},m.prototype.onData=function(v){this.chunks.push(v)},m.prototype.onEnd=function(v){v===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},a.Inflate=m,a.inflate=g,a.inflateRaw=function(v,k){return(k=k||{}).raw=!0,g(v,k)},a.ungzip=g},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,i,a){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(p){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var _=s.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var y in _)_.hasOwnProperty(y)&&(p[y]=_[y])}}return p},a.shrinkBuf=function(p,s){return p.length===s?p:p.subarray?p.subarray(0,s):(p.length=s,p)};var c={arraySet:function(p,s,_,y,b){if(s.subarray&&p.subarray)p.set(s.subarray(_,_+y),b);else for(var m=0;m<y;m++)p[b+m]=s[_+m]},flattenChunks:function(p){var s,_,y,b,m,g;for(s=y=0,_=p.length;s<_;s++)y+=p[s].length;for(g=new Uint8Array(y),s=b=0,_=p.length;s<_;s++)m=p[s],g.set(m,b),b+=m.length;return g}},u={arraySet:function(p,s,_,y,b){for(var m=0;m<y;m++)p[b+m]=s[_+m]},flattenChunks:function(p){return[].concat.apply([],p)}};a.setTyped=function(p){p?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,c)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,u))},a.setTyped(l)},{}],42:[function(t,i,a){var l=t("./common"),c=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var p=new l.Buf8(256),s=0;s<256;s++)p[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function _(y,b){if(b<65537&&(y.subarray&&u||!y.subarray&&c))return String.fromCharCode.apply(null,l.shrinkBuf(y,b));for(var m="",g=0;g<b;g++)m+=String.fromCharCode(y[g]);return m}p[254]=p[254]=1,a.string2buf=function(y){var b,m,g,v,k,x=y.length,S=0;for(v=0;v<x;v++)(64512&(m=y.charCodeAt(v)))==55296&&v+1<x&&(64512&(g=y.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),v++),S+=m<128?1:m<2048?2:m<65536?3:4;for(b=new l.Buf8(S),v=k=0;k<S;v++)(64512&(m=y.charCodeAt(v)))==55296&&v+1<x&&(64512&(g=y.charCodeAt(v+1)))==56320&&(m=65536+(m-55296<<10)+(g-56320),v++),m<128?b[k++]=m:(m<2048?b[k++]=192|m>>>6:(m<65536?b[k++]=224|m>>>12:(b[k++]=240|m>>>18,b[k++]=128|m>>>12&63),b[k++]=128|m>>>6&63),b[k++]=128|63&m);return b},a.buf2binstring=function(y){return _(y,y.length)},a.binstring2buf=function(y){for(var b=new l.Buf8(y.length),m=0,g=b.length;m<g;m++)b[m]=y.charCodeAt(m);return b},a.buf2string=function(y,b){var m,g,v,k,x=b||y.length,S=new Array(2*x);for(m=g=0;m<x;)if((v=y[m++])<128)S[g++]=v;else if(4<(k=p[v]))S[g++]=65533,m+=k-1;else{for(v&=k===2?31:k===3?15:7;1<k&&m<x;)v=v<<6|63&y[m++],k--;1<k?S[g++]=65533:v<65536?S[g++]=v:(v-=65536,S[g++]=55296|v>>10&1023,S[g++]=56320|1023&v)}return _(S,g)},a.utf8border=function(y,b){var m;for((b=b||y.length)>y.length&&(b=y.length),m=b-1;0<=m&&(192&y[m])==128;)m--;return m<0||m===0?b:m+p[y[m]]>b?m:b}},{"./common":41}],43:[function(t,i,a){i.exports=function(l,c,u,p){for(var s=65535&l|0,_=l>>>16&65535|0,y=0;u!==0;){for(u-=y=2e3<u?2e3:u;_=_+(s=s+c[p++]|0)|0,--y;);s%=65521,_%=65521}return s|_<<16|0}},{}],44:[function(t,i,a){i.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,i,a){var l=(function(){for(var c,u=[],p=0;p<256;p++){c=p;for(var s=0;s<8;s++)c=1&c?3988292384^c>>>1:c>>>1;u[p]=c}return u})();i.exports=function(c,u,p,s){var _=l,y=s+p;c^=-1;for(var b=s;b<y;b++)c=c>>>8^_[255&(c^u[b])];return-1^c}},{}],46:[function(t,i,a){var l,c=t("../utils/common"),u=t("./trees"),p=t("./adler32"),s=t("./crc32"),_=t("./messages"),y=0,b=4,m=0,g=-2,v=-1,k=4,x=2,S=8,I=9,N=286,F=30,P=19,j=2*N+1,$=15,z=3,J=258,ft=J+z+1,T=42,U=113,h=1,B=2,lt=3,H=4;function ht(f,K){return f.msg=_[K],K}function Z(f){return(f<<1)-(4<f?9:0)}function rt(f){for(var K=f.length;0<=--K;)f[K]=0}function L(f){var K=f.state,G=K.pending;G>f.avail_out&&(G=f.avail_out),G!==0&&(c.arraySet(f.output,K.pending_buf,K.pending_out,G,f.next_out),f.next_out+=G,K.pending_out+=G,f.total_out+=G,f.avail_out-=G,K.pending-=G,K.pending===0&&(K.pending_out=0))}function C(f,K){u._tr_flush_block(f,0<=f.block_start?f.block_start:-1,f.strstart-f.block_start,K),f.block_start=f.strstart,L(f.strm)}function st(f,K){f.pending_buf[f.pending++]=K}function nt(f,K){f.pending_buf[f.pending++]=K>>>8&255,f.pending_buf[f.pending++]=255&K}function at(f,K){var G,A,w=f.max_chain_length,O=f.strstart,V=f.prev_length,Y=f.nice_match,R=f.strstart>f.w_size-ft?f.strstart-(f.w_size-ft):0,Q=f.window,ut=f.w_mask,ot=f.prev,dt=f.strstart+J,It=Q[O+V-1],wt=Q[O+V];f.prev_length>=f.good_match&&(w>>=2),Y>f.lookahead&&(Y=f.lookahead);do if(Q[(G=K)+V]===wt&&Q[G+V-1]===It&&Q[G]===Q[O]&&Q[++G]===Q[O+1]){O+=2,G++;do;while(Q[++O]===Q[++G]&&Q[++O]===Q[++G]&&Q[++O]===Q[++G]&&Q[++O]===Q[++G]&&Q[++O]===Q[++G]&&Q[++O]===Q[++G]&&Q[++O]===Q[++G]&&Q[++O]===Q[++G]&&O<dt);if(A=J-(dt-O),O=dt-J,V<A){if(f.match_start=K,Y<=(V=A))break;It=Q[O+V-1],wt=Q[O+V]}}while((K=ot[K&ut])>R&&--w!=0);return V<=f.lookahead?V:f.lookahead}function gt(f){var K,G,A,w,O,V,Y,R,Q,ut,ot=f.w_size;do{if(w=f.window_size-f.lookahead-f.strstart,f.strstart>=ot+(ot-ft)){for(c.arraySet(f.window,f.window,ot,ot,0),f.match_start-=ot,f.strstart-=ot,f.block_start-=ot,K=G=f.hash_size;A=f.head[--K],f.head[K]=ot<=A?A-ot:0,--G;);for(K=G=ot;A=f.prev[--K],f.prev[K]=ot<=A?A-ot:0,--G;);w+=ot}if(f.strm.avail_in===0)break;if(V=f.strm,Y=f.window,R=f.strstart+f.lookahead,Q=w,ut=void 0,ut=V.avail_in,Q<ut&&(ut=Q),G=ut===0?0:(V.avail_in-=ut,c.arraySet(Y,V.input,V.next_in,ut,R),V.state.wrap===1?V.adler=p(V.adler,Y,ut,R):V.state.wrap===2&&(V.adler=s(V.adler,Y,ut,R)),V.next_in+=ut,V.total_in+=ut,ut),f.lookahead+=G,f.lookahead+f.insert>=z)for(O=f.strstart-f.insert,f.ins_h=f.window[O],f.ins_h=(f.ins_h<<f.hash_shift^f.window[O+1])&f.hash_mask;f.insert&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[O+z-1])&f.hash_mask,f.prev[O&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=O,O++,f.insert--,!(f.lookahead+f.insert<z)););}while(f.lookahead<ft&&f.strm.avail_in!==0)}function _t(f,K){for(var G,A;;){if(f.lookahead<ft){if(gt(f),f.lookahead<ft&&K===y)return h;if(f.lookahead===0)break}if(G=0,f.lookahead>=z&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+z-1])&f.hash_mask,G=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),G!==0&&f.strstart-G<=f.w_size-ft&&(f.match_length=at(f,G)),f.match_length>=z)if(A=u._tr_tally(f,f.strstart-f.match_start,f.match_length-z),f.lookahead-=f.match_length,f.match_length<=f.max_lazy_match&&f.lookahead>=z){for(f.match_length--;f.strstart++,f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+z-1])&f.hash_mask,G=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart,--f.match_length!=0;);f.strstart++}else f.strstart+=f.match_length,f.match_length=0,f.ins_h=f.window[f.strstart],f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+1])&f.hash_mask;else A=u._tr_tally(f,0,f.window[f.strstart]),f.lookahead--,f.strstart++;if(A&&(C(f,!1),f.strm.avail_out===0))return h}return f.insert=f.strstart<z-1?f.strstart:z-1,K===b?(C(f,!0),f.strm.avail_out===0?lt:H):f.last_lit&&(C(f,!1),f.strm.avail_out===0)?h:B}function pt(f,K){for(var G,A,w;;){if(f.lookahead<ft){if(gt(f),f.lookahead<ft&&K===y)return h;if(f.lookahead===0)break}if(G=0,f.lookahead>=z&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+z-1])&f.hash_mask,G=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),f.prev_length=f.match_length,f.prev_match=f.match_start,f.match_length=z-1,G!==0&&f.prev_length<f.max_lazy_match&&f.strstart-G<=f.w_size-ft&&(f.match_length=at(f,G),f.match_length<=5&&(f.strategy===1||f.match_length===z&&4096<f.strstart-f.match_start)&&(f.match_length=z-1)),f.prev_length>=z&&f.match_length<=f.prev_length){for(w=f.strstart+f.lookahead-z,A=u._tr_tally(f,f.strstart-1-f.prev_match,f.prev_length-z),f.lookahead-=f.prev_length-1,f.prev_length-=2;++f.strstart<=w&&(f.ins_h=(f.ins_h<<f.hash_shift^f.window[f.strstart+z-1])&f.hash_mask,G=f.prev[f.strstart&f.w_mask]=f.head[f.ins_h],f.head[f.ins_h]=f.strstart),--f.prev_length!=0;);if(f.match_available=0,f.match_length=z-1,f.strstart++,A&&(C(f,!1),f.strm.avail_out===0))return h}else if(f.match_available){if((A=u._tr_tally(f,0,f.window[f.strstart-1]))&&C(f,!1),f.strstart++,f.lookahead--,f.strm.avail_out===0)return h}else f.match_available=1,f.strstart++,f.lookahead--}return f.match_available&&(A=u._tr_tally(f,0,f.window[f.strstart-1]),f.match_available=0),f.insert=f.strstart<z-1?f.strstart:z-1,K===b?(C(f,!0),f.strm.avail_out===0?lt:H):f.last_lit&&(C(f,!1),f.strm.avail_out===0)?h:B}function mt(f,K,G,A,w){this.good_length=f,this.max_lazy=K,this.nice_length=G,this.max_chain=A,this.func=w}function yt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new c.Buf16(2*j),this.dyn_dtree=new c.Buf16(2*(2*F+1)),this.bl_tree=new c.Buf16(2*(2*P+1)),rt(this.dyn_ltree),rt(this.dyn_dtree),rt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new c.Buf16($+1),this.heap=new c.Buf16(2*N+1),rt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new c.Buf16(2*N+1),rt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function bt(f){var K;return f&&f.state?(f.total_in=f.total_out=0,f.data_type=x,(K=f.state).pending=0,K.pending_out=0,K.wrap<0&&(K.wrap=-K.wrap),K.status=K.wrap?T:U,f.adler=K.wrap===2?0:1,K.last_flush=y,u._tr_init(K),m):ht(f,g)}function At(f){var K=bt(f);return K===m&&(function(G){G.window_size=2*G.w_size,rt(G.head),G.max_lazy_match=l[G.level].max_lazy,G.good_match=l[G.level].good_length,G.nice_match=l[G.level].nice_length,G.max_chain_length=l[G.level].max_chain,G.strstart=0,G.block_start=0,G.lookahead=0,G.insert=0,G.match_length=G.prev_length=z-1,G.match_available=0,G.ins_h=0})(f.state),K}function Pt(f,K,G,A,w,O){if(!f)return g;var V=1;if(K===v&&(K=6),A<0?(V=0,A=-A):15<A&&(V=2,A-=16),w<1||I<w||G!==S||A<8||15<A||K<0||9<K||O<0||k<O)return ht(f,g);A===8&&(A=9);var Y=new yt;return(f.state=Y).strm=f,Y.wrap=V,Y.gzhead=null,Y.w_bits=A,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=w+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+z-1)/z),Y.window=new c.Buf8(2*Y.w_size),Y.head=new c.Buf16(Y.hash_size),Y.prev=new c.Buf16(Y.w_size),Y.lit_bufsize=1<<w+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new c.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=K,Y.strategy=O,Y.method=G,At(f)}l=[new mt(0,0,0,0,function(f,K){var G=65535;for(G>f.pending_buf_size-5&&(G=f.pending_buf_size-5);;){if(f.lookahead<=1){if(gt(f),f.lookahead===0&&K===y)return h;if(f.lookahead===0)break}f.strstart+=f.lookahead,f.lookahead=0;var A=f.block_start+G;if((f.strstart===0||f.strstart>=A)&&(f.lookahead=f.strstart-A,f.strstart=A,C(f,!1),f.strm.avail_out===0)||f.strstart-f.block_start>=f.w_size-ft&&(C(f,!1),f.strm.avail_out===0))return h}return f.insert=0,K===b?(C(f,!0),f.strm.avail_out===0?lt:H):(f.strstart>f.block_start&&(C(f,!1),f.strm.avail_out),h)}),new mt(4,4,8,4,_t),new mt(4,5,16,8,_t),new mt(4,6,32,32,_t),new mt(4,4,16,16,pt),new mt(8,16,32,32,pt),new mt(8,16,128,128,pt),new mt(8,32,128,256,pt),new mt(32,128,258,1024,pt),new mt(32,258,258,4096,pt)],a.deflateInit=function(f,K){return Pt(f,K,S,15,8,0)},a.deflateInit2=Pt,a.deflateReset=At,a.deflateResetKeep=bt,a.deflateSetHeader=function(f,K){return f&&f.state?f.state.wrap!==2?g:(f.state.gzhead=K,m):g},a.deflate=function(f,K){var G,A,w,O;if(!f||!f.state||5<K||K<0)return f?ht(f,g):g;if(A=f.state,!f.output||!f.input&&f.avail_in!==0||A.status===666&&K!==b)return ht(f,f.avail_out===0?-5:g);if(A.strm=f,G=A.last_flush,A.last_flush=K,A.status===T)if(A.wrap===2)f.adler=0,st(A,31),st(A,139),st(A,8),A.gzhead?(st(A,(A.gzhead.text?1:0)+(A.gzhead.hcrc?2:0)+(A.gzhead.extra?4:0)+(A.gzhead.name?8:0)+(A.gzhead.comment?16:0)),st(A,255&A.gzhead.time),st(A,A.gzhead.time>>8&255),st(A,A.gzhead.time>>16&255),st(A,A.gzhead.time>>24&255),st(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),st(A,255&A.gzhead.os),A.gzhead.extra&&A.gzhead.extra.length&&(st(A,255&A.gzhead.extra.length),st(A,A.gzhead.extra.length>>8&255)),A.gzhead.hcrc&&(f.adler=s(f.adler,A.pending_buf,A.pending,0)),A.gzindex=0,A.status=69):(st(A,0),st(A,0),st(A,0),st(A,0),st(A,0),st(A,A.level===9?2:2<=A.strategy||A.level<2?4:0),st(A,3),A.status=U);else{var V=S+(A.w_bits-8<<4)<<8;V|=(2<=A.strategy||A.level<2?0:A.level<6?1:A.level===6?2:3)<<6,A.strstart!==0&&(V|=32),V+=31-V%31,A.status=U,nt(A,V),A.strstart!==0&&(nt(A,f.adler>>>16),nt(A,65535&f.adler)),f.adler=1}if(A.status===69)if(A.gzhead.extra){for(w=A.pending;A.gzindex<(65535&A.gzhead.extra.length)&&(A.pending!==A.pending_buf_size||(A.gzhead.hcrc&&A.pending>w&&(f.adler=s(f.adler,A.pending_buf,A.pending-w,w)),L(f),w=A.pending,A.pending!==A.pending_buf_size));)st(A,255&A.gzhead.extra[A.gzindex]),A.gzindex++;A.gzhead.hcrc&&A.pending>w&&(f.adler=s(f.adler,A.pending_buf,A.pending-w,w)),A.gzindex===A.gzhead.extra.length&&(A.gzindex=0,A.status=73)}else A.status=73;if(A.status===73)if(A.gzhead.name){w=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>w&&(f.adler=s(f.adler,A.pending_buf,A.pending-w,w)),L(f),w=A.pending,A.pending===A.pending_buf_size)){O=1;break}O=A.gzindex<A.gzhead.name.length?255&A.gzhead.name.charCodeAt(A.gzindex++):0,st(A,O)}while(O!==0);A.gzhead.hcrc&&A.pending>w&&(f.adler=s(f.adler,A.pending_buf,A.pending-w,w)),O===0&&(A.gzindex=0,A.status=91)}else A.status=91;if(A.status===91)if(A.gzhead.comment){w=A.pending;do{if(A.pending===A.pending_buf_size&&(A.gzhead.hcrc&&A.pending>w&&(f.adler=s(f.adler,A.pending_buf,A.pending-w,w)),L(f),w=A.pending,A.pending===A.pending_buf_size)){O=1;break}O=A.gzindex<A.gzhead.comment.length?255&A.gzhead.comment.charCodeAt(A.gzindex++):0,st(A,O)}while(O!==0);A.gzhead.hcrc&&A.pending>w&&(f.adler=s(f.adler,A.pending_buf,A.pending-w,w)),O===0&&(A.status=103)}else A.status=103;if(A.status===103&&(A.gzhead.hcrc?(A.pending+2>A.pending_buf_size&&L(f),A.pending+2<=A.pending_buf_size&&(st(A,255&f.adler),st(A,f.adler>>8&255),f.adler=0,A.status=U)):A.status=U),A.pending!==0){if(L(f),f.avail_out===0)return A.last_flush=-1,m}else if(f.avail_in===0&&Z(K)<=Z(G)&&K!==b)return ht(f,-5);if(A.status===666&&f.avail_in!==0)return ht(f,-5);if(f.avail_in!==0||A.lookahead!==0||K!==y&&A.status!==666){var Y=A.strategy===2?(function(R,Q){for(var ut;;){if(R.lookahead===0&&(gt(R),R.lookahead===0)){if(Q===y)return h;break}if(R.match_length=0,ut=u._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++,ut&&(C(R,!1),R.strm.avail_out===0))return h}return R.insert=0,Q===b?(C(R,!0),R.strm.avail_out===0?lt:H):R.last_lit&&(C(R,!1),R.strm.avail_out===0)?h:B})(A,K):A.strategy===3?(function(R,Q){for(var ut,ot,dt,It,wt=R.window;;){if(R.lookahead<=J){if(gt(R),R.lookahead<=J&&Q===y)return h;if(R.lookahead===0)break}if(R.match_length=0,R.lookahead>=z&&0<R.strstart&&(ot=wt[dt=R.strstart-1])===wt[++dt]&&ot===wt[++dt]&&ot===wt[++dt]){It=R.strstart+J;do;while(ot===wt[++dt]&&ot===wt[++dt]&&ot===wt[++dt]&&ot===wt[++dt]&&ot===wt[++dt]&&ot===wt[++dt]&&ot===wt[++dt]&&ot===wt[++dt]&&dt<It);R.match_length=J-(It-dt),R.match_length>R.lookahead&&(R.match_length=R.lookahead)}if(R.match_length>=z?(ut=u._tr_tally(R,1,R.match_length-z),R.lookahead-=R.match_length,R.strstart+=R.match_length,R.match_length=0):(ut=u._tr_tally(R,0,R.window[R.strstart]),R.lookahead--,R.strstart++),ut&&(C(R,!1),R.strm.avail_out===0))return h}return R.insert=0,Q===b?(C(R,!0),R.strm.avail_out===0?lt:H):R.last_lit&&(C(R,!1),R.strm.avail_out===0)?h:B})(A,K):l[A.level].func(A,K);if(Y!==lt&&Y!==H||(A.status=666),Y===h||Y===lt)return f.avail_out===0&&(A.last_flush=-1),m;if(Y===B&&(K===1?u._tr_align(A):K!==5&&(u._tr_stored_block(A,0,0,!1),K===3&&(rt(A.head),A.lookahead===0&&(A.strstart=0,A.block_start=0,A.insert=0))),L(f),f.avail_out===0))return A.last_flush=-1,m}return K!==b?m:A.wrap<=0?1:(A.wrap===2?(st(A,255&f.adler),st(A,f.adler>>8&255),st(A,f.adler>>16&255),st(A,f.adler>>24&255),st(A,255&f.total_in),st(A,f.total_in>>8&255),st(A,f.total_in>>16&255),st(A,f.total_in>>24&255)):(nt(A,f.adler>>>16),nt(A,65535&f.adler)),L(f),0<A.wrap&&(A.wrap=-A.wrap),A.pending!==0?m:1)},a.deflateEnd=function(f){var K;return f&&f.state?(K=f.state.status)!==T&&K!==69&&K!==73&&K!==91&&K!==103&&K!==U&&K!==666?ht(f,g):(f.state=null,K===U?ht(f,-3):m):g},a.deflateSetDictionary=function(f,K){var G,A,w,O,V,Y,R,Q,ut=K.length;if(!f||!f.state||(O=(G=f.state).wrap)===2||O===1&&G.status!==T||G.lookahead)return g;for(O===1&&(f.adler=p(f.adler,K,ut,0)),G.wrap=0,ut>=G.w_size&&(O===0&&(rt(G.head),G.strstart=0,G.block_start=0,G.insert=0),Q=new c.Buf8(G.w_size),c.arraySet(Q,K,ut-G.w_size,G.w_size,0),K=Q,ut=G.w_size),V=f.avail_in,Y=f.next_in,R=f.input,f.avail_in=ut,f.next_in=0,f.input=K,gt(G);G.lookahead>=z;){for(A=G.strstart,w=G.lookahead-(z-1);G.ins_h=(G.ins_h<<G.hash_shift^G.window[A+z-1])&G.hash_mask,G.prev[A&G.w_mask]=G.head[G.ins_h],G.head[G.ins_h]=A,A++,--w;);G.strstart=A,G.lookahead=z-1,gt(G)}return G.strstart+=G.lookahead,G.block_start=G.strstart,G.insert=G.lookahead,G.lookahead=0,G.match_length=G.prev_length=z-1,G.match_available=0,f.next_in=Y,f.input=R,f.avail_in=V,G.wrap=O,m},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,i,a){i.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,i,a){i.exports=function(l,c){var u,p,s,_,y,b,m,g,v,k,x,S,I,N,F,P,j,$,z,J,ft,T,U,h,B;u=l.state,p=l.next_in,h=l.input,s=p+(l.avail_in-5),_=l.next_out,B=l.output,y=_-(c-l.avail_out),b=_+(l.avail_out-257),m=u.dmax,g=u.wsize,v=u.whave,k=u.wnext,x=u.window,S=u.hold,I=u.bits,N=u.lencode,F=u.distcode,P=(1<<u.lenbits)-1,j=(1<<u.distbits)-1;t:do{I<15&&(S+=h[p++]<<I,I+=8,S+=h[p++]<<I,I+=8),$=N[S&P];e:for(;;){if(S>>>=z=$>>>24,I-=z,(z=$>>>16&255)===0)B[_++]=65535&$;else{if(!(16&z)){if((64&z)==0){$=N[(65535&$)+(S&(1<<z)-1)];continue e}if(32&z){u.mode=12;break t}l.msg="invalid literal/length code",u.mode=30;break t}J=65535&$,(z&=15)&&(I<z&&(S+=h[p++]<<I,I+=8),J+=S&(1<<z)-1,S>>>=z,I-=z),I<15&&(S+=h[p++]<<I,I+=8,S+=h[p++]<<I,I+=8),$=F[S&j];r:for(;;){if(S>>>=z=$>>>24,I-=z,!(16&(z=$>>>16&255))){if((64&z)==0){$=F[(65535&$)+(S&(1<<z)-1)];continue r}l.msg="invalid distance code",u.mode=30;break t}if(ft=65535&$,I<(z&=15)&&(S+=h[p++]<<I,(I+=8)<z&&(S+=h[p++]<<I,I+=8)),m<(ft+=S&(1<<z)-1)){l.msg="invalid distance too far back",u.mode=30;break t}if(S>>>=z,I-=z,(z=_-y)<ft){if(v<(z=ft-z)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break t}if(U=x,(T=0)===k){if(T+=g-z,z<J){for(J-=z;B[_++]=x[T++],--z;);T=_-ft,U=B}}else if(k<z){if(T+=g+k-z,(z-=k)<J){for(J-=z;B[_++]=x[T++],--z;);if(T=0,k<J){for(J-=z=k;B[_++]=x[T++],--z;);T=_-ft,U=B}}}else if(T+=k-z,z<J){for(J-=z;B[_++]=x[T++],--z;);T=_-ft,U=B}for(;2<J;)B[_++]=U[T++],B[_++]=U[T++],B[_++]=U[T++],J-=3;J&&(B[_++]=U[T++],1<J&&(B[_++]=U[T++]))}else{for(T=_-ft;B[_++]=B[T++],B[_++]=B[T++],B[_++]=B[T++],2<(J-=3););J&&(B[_++]=B[T++],1<J&&(B[_++]=B[T++]))}break}}break}}while(p<s&&_<b);p-=J=I>>3,S&=(1<<(I-=J<<3))-1,l.next_in=p,l.next_out=_,l.avail_in=p<s?s-p+5:5-(p-s),l.avail_out=_<b?b-_+257:257-(_-b),u.hold=S,u.bits=I}},{}],49:[function(t,i,a){var l=t("../utils/common"),c=t("./adler32"),u=t("./crc32"),p=t("./inffast"),s=t("./inftrees"),_=1,y=2,b=0,m=-2,g=1,v=852,k=592;function x(T){return(T>>>24&255)+(T>>>8&65280)+((65280&T)<<8)+((255&T)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function I(T){var U;return T&&T.state?(U=T.state,T.total_in=T.total_out=U.total=0,T.msg="",U.wrap&&(T.adler=1&U.wrap),U.mode=g,U.last=0,U.havedict=0,U.dmax=32768,U.head=null,U.hold=0,U.bits=0,U.lencode=U.lendyn=new l.Buf32(v),U.distcode=U.distdyn=new l.Buf32(k),U.sane=1,U.back=-1,b):m}function N(T){var U;return T&&T.state?((U=T.state).wsize=0,U.whave=0,U.wnext=0,I(T)):m}function F(T,U){var h,B;return T&&T.state?(B=T.state,U<0?(h=0,U=-U):(h=1+(U>>4),U<48&&(U&=15)),U&&(U<8||15<U)?m:(B.window!==null&&B.wbits!==U&&(B.window=null),B.wrap=h,B.wbits=U,N(T))):m}function P(T,U){var h,B;return T?(B=new S,(T.state=B).window=null,(h=F(T,U))!==b&&(T.state=null),h):m}var j,$,z=!0;function J(T){if(z){var U;for(j=new l.Buf32(512),$=new l.Buf32(32),U=0;U<144;)T.lens[U++]=8;for(;U<256;)T.lens[U++]=9;for(;U<280;)T.lens[U++]=7;for(;U<288;)T.lens[U++]=8;for(s(_,T.lens,0,288,j,0,T.work,{bits:9}),U=0;U<32;)T.lens[U++]=5;s(y,T.lens,0,32,$,0,T.work,{bits:5}),z=!1}T.lencode=j,T.lenbits=9,T.distcode=$,T.distbits=5}function ft(T,U,h,B){var lt,H=T.state;return H.window===null&&(H.wsize=1<<H.wbits,H.wnext=0,H.whave=0,H.window=new l.Buf8(H.wsize)),B>=H.wsize?(l.arraySet(H.window,U,h-H.wsize,H.wsize,0),H.wnext=0,H.whave=H.wsize):(B<(lt=H.wsize-H.wnext)&&(lt=B),l.arraySet(H.window,U,h-B,lt,H.wnext),(B-=lt)?(l.arraySet(H.window,U,h-B,B,0),H.wnext=B,H.whave=H.wsize):(H.wnext+=lt,H.wnext===H.wsize&&(H.wnext=0),H.whave<H.wsize&&(H.whave+=lt))),0}a.inflateReset=N,a.inflateReset2=F,a.inflateResetKeep=I,a.inflateInit=function(T){return P(T,15)},a.inflateInit2=P,a.inflate=function(T,U){var h,B,lt,H,ht,Z,rt,L,C,st,nt,at,gt,_t,pt,mt,yt,bt,At,Pt,f,K,G,A,w=0,O=new l.Buf8(4),V=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!T||!T.state||!T.output||!T.input&&T.avail_in!==0)return m;(h=T.state).mode===12&&(h.mode=13),ht=T.next_out,lt=T.output,rt=T.avail_out,H=T.next_in,B=T.input,Z=T.avail_in,L=h.hold,C=h.bits,st=Z,nt=rt,K=b;t:for(;;)switch(h.mode){case g:if(h.wrap===0){h.mode=13;break}for(;C<16;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}if(2&h.wrap&&L===35615){O[h.check=0]=255&L,O[1]=L>>>8&255,h.check=u(h.check,O,2,0),C=L=0,h.mode=2;break}if(h.flags=0,h.head&&(h.head.done=!1),!(1&h.wrap)||(((255&L)<<8)+(L>>8))%31){T.msg="incorrect header check",h.mode=30;break}if((15&L)!=8){T.msg="unknown compression method",h.mode=30;break}if(C-=4,f=8+(15&(L>>>=4)),h.wbits===0)h.wbits=f;else if(f>h.wbits){T.msg="invalid window size",h.mode=30;break}h.dmax=1<<f,T.adler=h.check=1,h.mode=512&L?10:12,C=L=0;break;case 2:for(;C<16;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}if(h.flags=L,(255&h.flags)!=8){T.msg="unknown compression method",h.mode=30;break}if(57344&h.flags){T.msg="unknown header flags set",h.mode=30;break}h.head&&(h.head.text=L>>8&1),512&h.flags&&(O[0]=255&L,O[1]=L>>>8&255,h.check=u(h.check,O,2,0)),C=L=0,h.mode=3;case 3:for(;C<32;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}h.head&&(h.head.time=L),512&h.flags&&(O[0]=255&L,O[1]=L>>>8&255,O[2]=L>>>16&255,O[3]=L>>>24&255,h.check=u(h.check,O,4,0)),C=L=0,h.mode=4;case 4:for(;C<16;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}h.head&&(h.head.xflags=255&L,h.head.os=L>>8),512&h.flags&&(O[0]=255&L,O[1]=L>>>8&255,h.check=u(h.check,O,2,0)),C=L=0,h.mode=5;case 5:if(1024&h.flags){for(;C<16;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}h.length=L,h.head&&(h.head.extra_len=L),512&h.flags&&(O[0]=255&L,O[1]=L>>>8&255,h.check=u(h.check,O,2,0)),C=L=0}else h.head&&(h.head.extra=null);h.mode=6;case 6:if(1024&h.flags&&(Z<(at=h.length)&&(at=Z),at&&(h.head&&(f=h.head.extra_len-h.length,h.head.extra||(h.head.extra=new Array(h.head.extra_len)),l.arraySet(h.head.extra,B,H,at,f)),512&h.flags&&(h.check=u(h.check,B,at,H)),Z-=at,H+=at,h.length-=at),h.length))break t;h.length=0,h.mode=7;case 7:if(2048&h.flags){if(Z===0)break t;for(at=0;f=B[H+at++],h.head&&f&&h.length<65536&&(h.head.name+=String.fromCharCode(f)),f&&at<Z;);if(512&h.flags&&(h.check=u(h.check,B,at,H)),Z-=at,H+=at,f)break t}else h.head&&(h.head.name=null);h.length=0,h.mode=8;case 8:if(4096&h.flags){if(Z===0)break t;for(at=0;f=B[H+at++],h.head&&f&&h.length<65536&&(h.head.comment+=String.fromCharCode(f)),f&&at<Z;);if(512&h.flags&&(h.check=u(h.check,B,at,H)),Z-=at,H+=at,f)break t}else h.head&&(h.head.comment=null);h.mode=9;case 9:if(512&h.flags){for(;C<16;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}if(L!==(65535&h.check)){T.msg="header crc mismatch",h.mode=30;break}C=L=0}h.head&&(h.head.hcrc=h.flags>>9&1,h.head.done=!0),T.adler=h.check=0,h.mode=12;break;case 10:for(;C<32;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}T.adler=h.check=x(L),C=L=0,h.mode=11;case 11:if(h.havedict===0)return T.next_out=ht,T.avail_out=rt,T.next_in=H,T.avail_in=Z,h.hold=L,h.bits=C,2;T.adler=h.check=1,h.mode=12;case 12:if(U===5||U===6)break t;case 13:if(h.last){L>>>=7&C,C-=7&C,h.mode=27;break}for(;C<3;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}switch(h.last=1&L,C-=1,3&(L>>>=1)){case 0:h.mode=14;break;case 1:if(J(h),h.mode=20,U!==6)break;L>>>=2,C-=2;break t;case 2:h.mode=17;break;case 3:T.msg="invalid block type",h.mode=30}L>>>=2,C-=2;break;case 14:for(L>>>=7&C,C-=7&C;C<32;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}if((65535&L)!=(L>>>16^65535)){T.msg="invalid stored block lengths",h.mode=30;break}if(h.length=65535&L,C=L=0,h.mode=15,U===6)break t;case 15:h.mode=16;case 16:if(at=h.length){if(Z<at&&(at=Z),rt<at&&(at=rt),at===0)break t;l.arraySet(lt,B,H,at,ht),Z-=at,H+=at,rt-=at,ht+=at,h.length-=at;break}h.mode=12;break;case 17:for(;C<14;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}if(h.nlen=257+(31&L),L>>>=5,C-=5,h.ndist=1+(31&L),L>>>=5,C-=5,h.ncode=4+(15&L),L>>>=4,C-=4,286<h.nlen||30<h.ndist){T.msg="too many length or distance symbols",h.mode=30;break}h.have=0,h.mode=18;case 18:for(;h.have<h.ncode;){for(;C<3;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}h.lens[V[h.have++]]=7&L,L>>>=3,C-=3}for(;h.have<19;)h.lens[V[h.have++]]=0;if(h.lencode=h.lendyn,h.lenbits=7,G={bits:h.lenbits},K=s(0,h.lens,0,19,h.lencode,0,h.work,G),h.lenbits=G.bits,K){T.msg="invalid code lengths set",h.mode=30;break}h.have=0,h.mode=19;case 19:for(;h.have<h.nlen+h.ndist;){for(;mt=(w=h.lencode[L&(1<<h.lenbits)-1])>>>16&255,yt=65535&w,!((pt=w>>>24)<=C);){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}if(yt<16)L>>>=pt,C-=pt,h.lens[h.have++]=yt;else{if(yt===16){for(A=pt+2;C<A;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}if(L>>>=pt,C-=pt,h.have===0){T.msg="invalid bit length repeat",h.mode=30;break}f=h.lens[h.have-1],at=3+(3&L),L>>>=2,C-=2}else if(yt===17){for(A=pt+3;C<A;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}C-=pt,f=0,at=3+(7&(L>>>=pt)),L>>>=3,C-=3}else{for(A=pt+7;C<A;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}C-=pt,f=0,at=11+(127&(L>>>=pt)),L>>>=7,C-=7}if(h.have+at>h.nlen+h.ndist){T.msg="invalid bit length repeat",h.mode=30;break}for(;at--;)h.lens[h.have++]=f}}if(h.mode===30)break;if(h.lens[256]===0){T.msg="invalid code -- missing end-of-block",h.mode=30;break}if(h.lenbits=9,G={bits:h.lenbits},K=s(_,h.lens,0,h.nlen,h.lencode,0,h.work,G),h.lenbits=G.bits,K){T.msg="invalid literal/lengths set",h.mode=30;break}if(h.distbits=6,h.distcode=h.distdyn,G={bits:h.distbits},K=s(y,h.lens,h.nlen,h.ndist,h.distcode,0,h.work,G),h.distbits=G.bits,K){T.msg="invalid distances set",h.mode=30;break}if(h.mode=20,U===6)break t;case 20:h.mode=21;case 21:if(6<=Z&&258<=rt){T.next_out=ht,T.avail_out=rt,T.next_in=H,T.avail_in=Z,h.hold=L,h.bits=C,p(T,nt),ht=T.next_out,lt=T.output,rt=T.avail_out,H=T.next_in,B=T.input,Z=T.avail_in,L=h.hold,C=h.bits,h.mode===12&&(h.back=-1);break}for(h.back=0;mt=(w=h.lencode[L&(1<<h.lenbits)-1])>>>16&255,yt=65535&w,!((pt=w>>>24)<=C);){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}if(mt&&(240&mt)==0){for(bt=pt,At=mt,Pt=yt;mt=(w=h.lencode[Pt+((L&(1<<bt+At)-1)>>bt)])>>>16&255,yt=65535&w,!(bt+(pt=w>>>24)<=C);){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}L>>>=bt,C-=bt,h.back+=bt}if(L>>>=pt,C-=pt,h.back+=pt,h.length=yt,mt===0){h.mode=26;break}if(32&mt){h.back=-1,h.mode=12;break}if(64&mt){T.msg="invalid literal/length code",h.mode=30;break}h.extra=15&mt,h.mode=22;case 22:if(h.extra){for(A=h.extra;C<A;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}h.length+=L&(1<<h.extra)-1,L>>>=h.extra,C-=h.extra,h.back+=h.extra}h.was=h.length,h.mode=23;case 23:for(;mt=(w=h.distcode[L&(1<<h.distbits)-1])>>>16&255,yt=65535&w,!((pt=w>>>24)<=C);){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}if((240&mt)==0){for(bt=pt,At=mt,Pt=yt;mt=(w=h.distcode[Pt+((L&(1<<bt+At)-1)>>bt)])>>>16&255,yt=65535&w,!(bt+(pt=w>>>24)<=C);){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}L>>>=bt,C-=bt,h.back+=bt}if(L>>>=pt,C-=pt,h.back+=pt,64&mt){T.msg="invalid distance code",h.mode=30;break}h.offset=yt,h.extra=15&mt,h.mode=24;case 24:if(h.extra){for(A=h.extra;C<A;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}h.offset+=L&(1<<h.extra)-1,L>>>=h.extra,C-=h.extra,h.back+=h.extra}if(h.offset>h.dmax){T.msg="invalid distance too far back",h.mode=30;break}h.mode=25;case 25:if(rt===0)break t;if(at=nt-rt,h.offset>at){if((at=h.offset-at)>h.whave&&h.sane){T.msg="invalid distance too far back",h.mode=30;break}gt=at>h.wnext?(at-=h.wnext,h.wsize-at):h.wnext-at,at>h.length&&(at=h.length),_t=h.window}else _t=lt,gt=ht-h.offset,at=h.length;for(rt<at&&(at=rt),rt-=at,h.length-=at;lt[ht++]=_t[gt++],--at;);h.length===0&&(h.mode=21);break;case 26:if(rt===0)break t;lt[ht++]=h.length,rt--,h.mode=21;break;case 27:if(h.wrap){for(;C<32;){if(Z===0)break t;Z--,L|=B[H++]<<C,C+=8}if(nt-=rt,T.total_out+=nt,h.total+=nt,nt&&(T.adler=h.check=h.flags?u(h.check,lt,nt,ht-nt):c(h.check,lt,nt,ht-nt)),nt=rt,(h.flags?L:x(L))!==h.check){T.msg="incorrect data check",h.mode=30;break}C=L=0}h.mode=28;case 28:if(h.wrap&&h.flags){for(;C<32;){if(Z===0)break t;Z--,L+=B[H++]<<C,C+=8}if(L!==(4294967295&h.total)){T.msg="incorrect length check",h.mode=30;break}C=L=0}h.mode=29;case 29:K=1;break t;case 30:K=-3;break t;case 31:return-4;case 32:default:return m}return T.next_out=ht,T.avail_out=rt,T.next_in=H,T.avail_in=Z,h.hold=L,h.bits=C,(h.wsize||nt!==T.avail_out&&h.mode<30&&(h.mode<27||U!==4))&&ft(T,T.output,T.next_out,nt-T.avail_out)?(h.mode=31,-4):(st-=T.avail_in,nt-=T.avail_out,T.total_in+=st,T.total_out+=nt,h.total+=nt,h.wrap&&nt&&(T.adler=h.check=h.flags?u(h.check,lt,nt,T.next_out-nt):c(h.check,lt,nt,T.next_out-nt)),T.data_type=h.bits+(h.last?64:0)+(h.mode===12?128:0)+(h.mode===20||h.mode===15?256:0),(st==0&&nt===0||U===4)&&K===b&&(K=-5),K)},a.inflateEnd=function(T){if(!T||!T.state)return m;var U=T.state;return U.window&&(U.window=null),T.state=null,b},a.inflateGetHeader=function(T,U){var h;return T&&T.state?(2&(h=T.state).wrap)==0?m:((h.head=U).done=!1,b):m},a.inflateSetDictionary=function(T,U){var h,B=U.length;return T&&T.state?(h=T.state).wrap!==0&&h.mode!==11?m:h.mode===11&&c(1,U,B,0)!==h.check?-3:ft(T,U,B,B)?(h.mode=31,-4):(h.havedict=1,b):m},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,i,a){var l=t("../utils/common"),c=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];i.exports=function(_,y,b,m,g,v,k,x){var S,I,N,F,P,j,$,z,J,ft=x.bits,T=0,U=0,h=0,B=0,lt=0,H=0,ht=0,Z=0,rt=0,L=0,C=null,st=0,nt=new l.Buf16(16),at=new l.Buf16(16),gt=null,_t=0;for(T=0;T<=15;T++)nt[T]=0;for(U=0;U<m;U++)nt[y[b+U]]++;for(lt=ft,B=15;1<=B&&nt[B]===0;B--);if(B<lt&&(lt=B),B===0)return g[v++]=20971520,g[v++]=20971520,x.bits=1,0;for(h=1;h<B&&nt[h]===0;h++);for(lt<h&&(lt=h),T=Z=1;T<=15;T++)if(Z<<=1,(Z-=nt[T])<0)return-1;if(0<Z&&(_===0||B!==1))return-1;for(at[1]=0,T=1;T<15;T++)at[T+1]=at[T]+nt[T];for(U=0;U<m;U++)y[b+U]!==0&&(k[at[y[b+U]]++]=U);if(j=_===0?(C=gt=k,19):_===1?(C=c,st-=257,gt=u,_t-=257,256):(C=p,gt=s,-1),T=h,P=v,ht=U=L=0,N=-1,F=(rt=1<<(H=lt))-1,_===1&&852<rt||_===2&&592<rt)return 1;for(;;){for($=T-ht,J=k[U]<j?(z=0,k[U]):k[U]>j?(z=gt[_t+k[U]],C[st+k[U]]):(z=96,0),S=1<<T-ht,h=I=1<<H;g[P+(L>>ht)+(I-=S)]=$<<24|z<<16|J|0,I!==0;);for(S=1<<T-1;L&S;)S>>=1;if(S!==0?(L&=S-1,L+=S):L=0,U++,--nt[T]==0){if(T===B)break;T=y[b+k[U]]}if(lt<T&&(L&F)!==N){for(ht===0&&(ht=lt),P+=h,Z=1<<(H=T-ht);H+ht<B&&!((Z-=nt[H+ht])<=0);)H++,Z<<=1;if(rt+=1<<H,_===1&&852<rt||_===2&&592<rt)return 1;g[N=L&F]=lt<<24|H<<16|P-v|0}}return L!==0&&(g[P+L]=T-ht<<24|64<<16|0),x.bits=lt,0}},{"../utils/common":41}],51:[function(t,i,a){i.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,i,a){var l=t("../utils/common"),c=0,u=1;function p(w){for(var O=w.length;0<=--O;)w[O]=0}var s=0,_=29,y=256,b=y+1+_,m=30,g=19,v=2*b+1,k=15,x=16,S=7,I=256,N=16,F=17,P=18,j=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],$=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],J=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ft=new Array(2*(b+2));p(ft);var T=new Array(2*m);p(T);var U=new Array(512);p(U);var h=new Array(256);p(h);var B=new Array(_);p(B);var lt,H,ht,Z=new Array(m);function rt(w,O,V,Y,R){this.static_tree=w,this.extra_bits=O,this.extra_base=V,this.elems=Y,this.max_length=R,this.has_stree=w&&w.length}function L(w,O){this.dyn_tree=w,this.max_code=0,this.stat_desc=O}function C(w){return w<256?U[w]:U[256+(w>>>7)]}function st(w,O){w.pending_buf[w.pending++]=255&O,w.pending_buf[w.pending++]=O>>>8&255}function nt(w,O,V){w.bi_valid>x-V?(w.bi_buf|=O<<w.bi_valid&65535,st(w,w.bi_buf),w.bi_buf=O>>x-w.bi_valid,w.bi_valid+=V-x):(w.bi_buf|=O<<w.bi_valid&65535,w.bi_valid+=V)}function at(w,O,V){nt(w,V[2*O],V[2*O+1])}function gt(w,O){for(var V=0;V|=1&w,w>>>=1,V<<=1,0<--O;);return V>>>1}function _t(w,O,V){var Y,R,Q=new Array(k+1),ut=0;for(Y=1;Y<=k;Y++)Q[Y]=ut=ut+V[Y-1]<<1;for(R=0;R<=O;R++){var ot=w[2*R+1];ot!==0&&(w[2*R]=gt(Q[ot]++,ot))}}function pt(w){var O;for(O=0;O<b;O++)w.dyn_ltree[2*O]=0;for(O=0;O<m;O++)w.dyn_dtree[2*O]=0;for(O=0;O<g;O++)w.bl_tree[2*O]=0;w.dyn_ltree[2*I]=1,w.opt_len=w.static_len=0,w.last_lit=w.matches=0}function mt(w){8<w.bi_valid?st(w,w.bi_buf):0<w.bi_valid&&(w.pending_buf[w.pending++]=w.bi_buf),w.bi_buf=0,w.bi_valid=0}function yt(w,O,V,Y){var R=2*O,Q=2*V;return w[R]<w[Q]||w[R]===w[Q]&&Y[O]<=Y[V]}function bt(w,O,V){for(var Y=w.heap[V],R=V<<1;R<=w.heap_len&&(R<w.heap_len&&yt(O,w.heap[R+1],w.heap[R],w.depth)&&R++,!yt(O,Y,w.heap[R],w.depth));)w.heap[V]=w.heap[R],V=R,R<<=1;w.heap[V]=Y}function At(w,O,V){var Y,R,Q,ut,ot=0;if(w.last_lit!==0)for(;Y=w.pending_buf[w.d_buf+2*ot]<<8|w.pending_buf[w.d_buf+2*ot+1],R=w.pending_buf[w.l_buf+ot],ot++,Y===0?at(w,R,O):(at(w,(Q=h[R])+y+1,O),(ut=j[Q])!==0&&nt(w,R-=B[Q],ut),at(w,Q=C(--Y),V),(ut=$[Q])!==0&&nt(w,Y-=Z[Q],ut)),ot<w.last_lit;);at(w,I,O)}function Pt(w,O){var V,Y,R,Q=O.dyn_tree,ut=O.stat_desc.static_tree,ot=O.stat_desc.has_stree,dt=O.stat_desc.elems,It=-1;for(w.heap_len=0,w.heap_max=v,V=0;V<dt;V++)Q[2*V]!==0?(w.heap[++w.heap_len]=It=V,w.depth[V]=0):Q[2*V+1]=0;for(;w.heap_len<2;)Q[2*(R=w.heap[++w.heap_len]=It<2?++It:0)]=1,w.depth[R]=0,w.opt_len--,ot&&(w.static_len-=ut[2*R+1]);for(O.max_code=It,V=w.heap_len>>1;1<=V;V--)bt(w,Q,V);for(R=dt;V=w.heap[1],w.heap[1]=w.heap[w.heap_len--],bt(w,Q,1),Y=w.heap[1],w.heap[--w.heap_max]=V,w.heap[--w.heap_max]=Y,Q[2*R]=Q[2*V]+Q[2*Y],w.depth[R]=(w.depth[V]>=w.depth[Y]?w.depth[V]:w.depth[Y])+1,Q[2*V+1]=Q[2*Y+1]=R,w.heap[1]=R++,bt(w,Q,1),2<=w.heap_len;);w.heap[--w.heap_max]=w.heap[1],(function(wt,Ct){var qt,Ut,jt,Ht,se,kt,te=Ct.dyn_tree,Ke=Ct.max_code,pe=Ct.stat_desc.static_tree,Ur=Ct.stat_desc.has_stree,ve=Ct.stat_desc.extra_bits,Ze=Ct.stat_desc.extra_base,X=Ct.stat_desc.max_length,De=0;for(Ht=0;Ht<=k;Ht++)wt.bl_count[Ht]=0;for(te[2*wt.heap[wt.heap_max]+1]=0,qt=wt.heap_max+1;qt<v;qt++)X<(Ht=te[2*te[2*(Ut=wt.heap[qt])+1]+1]+1)&&(Ht=X,De++),te[2*Ut+1]=Ht,Ke<Ut||(wt.bl_count[Ht]++,se=0,Ze<=Ut&&(se=ve[Ut-Ze]),kt=te[2*Ut],wt.opt_len+=kt*(Ht+se),Ur&&(wt.static_len+=kt*(pe[2*Ut+1]+se)));if(De!==0){do{for(Ht=X-1;wt.bl_count[Ht]===0;)Ht--;wt.bl_count[Ht]--,wt.bl_count[Ht+1]+=2,wt.bl_count[X]--,De-=2}while(0<De);for(Ht=X;Ht!==0;Ht--)for(Ut=wt.bl_count[Ht];Ut!==0;)Ke<(jt=wt.heap[--qt])||(te[2*jt+1]!==Ht&&(wt.opt_len+=(Ht-te[2*jt+1])*te[2*jt],te[2*jt+1]=Ht),Ut--)}})(w,O),_t(Q,It,w.bl_count)}function f(w,O,V){var Y,R,Q=-1,ut=O[1],ot=0,dt=7,It=4;for(ut===0&&(dt=138,It=3),O[2*(V+1)+1]=65535,Y=0;Y<=V;Y++)R=ut,ut=O[2*(Y+1)+1],++ot<dt&&R===ut||(ot<It?w.bl_tree[2*R]+=ot:R!==0?(R!==Q&&w.bl_tree[2*R]++,w.bl_tree[2*N]++):ot<=10?w.bl_tree[2*F]++:w.bl_tree[2*P]++,Q=R,It=(ot=0)===ut?(dt=138,3):R===ut?(dt=6,3):(dt=7,4))}function K(w,O,V){var Y,R,Q=-1,ut=O[1],ot=0,dt=7,It=4;for(ut===0&&(dt=138,It=3),Y=0;Y<=V;Y++)if(R=ut,ut=O[2*(Y+1)+1],!(++ot<dt&&R===ut)){if(ot<It)for(;at(w,R,w.bl_tree),--ot!=0;);else R!==0?(R!==Q&&(at(w,R,w.bl_tree),ot--),at(w,N,w.bl_tree),nt(w,ot-3,2)):ot<=10?(at(w,F,w.bl_tree),nt(w,ot-3,3)):(at(w,P,w.bl_tree),nt(w,ot-11,7));Q=R,It=(ot=0)===ut?(dt=138,3):R===ut?(dt=6,3):(dt=7,4)}}p(Z);var G=!1;function A(w,O,V,Y){nt(w,(s<<1)+(Y?1:0),3),(function(R,Q,ut,ot){mt(R),st(R,ut),st(R,~ut),l.arraySet(R.pending_buf,R.window,Q,ut,R.pending),R.pending+=ut})(w,O,V)}a._tr_init=function(w){G||((function(){var O,V,Y,R,Q,ut=new Array(k+1);for(R=Y=0;R<_-1;R++)for(B[R]=Y,O=0;O<1<<j[R];O++)h[Y++]=R;for(h[Y-1]=R,R=Q=0;R<16;R++)for(Z[R]=Q,O=0;O<1<<$[R];O++)U[Q++]=R;for(Q>>=7;R<m;R++)for(Z[R]=Q<<7,O=0;O<1<<$[R]-7;O++)U[256+Q++]=R;for(V=0;V<=k;V++)ut[V]=0;for(O=0;O<=143;)ft[2*O+1]=8,O++,ut[8]++;for(;O<=255;)ft[2*O+1]=9,O++,ut[9]++;for(;O<=279;)ft[2*O+1]=7,O++,ut[7]++;for(;O<=287;)ft[2*O+1]=8,O++,ut[8]++;for(_t(ft,b+1,ut),O=0;O<m;O++)T[2*O+1]=5,T[2*O]=gt(O,5);lt=new rt(ft,j,y+1,b,k),H=new rt(T,$,0,m,k),ht=new rt(new Array(0),z,0,g,S)})(),G=!0),w.l_desc=new L(w.dyn_ltree,lt),w.d_desc=new L(w.dyn_dtree,H),w.bl_desc=new L(w.bl_tree,ht),w.bi_buf=0,w.bi_valid=0,pt(w)},a._tr_stored_block=A,a._tr_flush_block=function(w,O,V,Y){var R,Q,ut=0;0<w.level?(w.strm.data_type===2&&(w.strm.data_type=(function(ot){var dt,It=4093624447;for(dt=0;dt<=31;dt++,It>>>=1)if(1&It&&ot.dyn_ltree[2*dt]!==0)return c;if(ot.dyn_ltree[18]!==0||ot.dyn_ltree[20]!==0||ot.dyn_ltree[26]!==0)return u;for(dt=32;dt<y;dt++)if(ot.dyn_ltree[2*dt]!==0)return u;return c})(w)),Pt(w,w.l_desc),Pt(w,w.d_desc),ut=(function(ot){var dt;for(f(ot,ot.dyn_ltree,ot.l_desc.max_code),f(ot,ot.dyn_dtree,ot.d_desc.max_code),Pt(ot,ot.bl_desc),dt=g-1;3<=dt&&ot.bl_tree[2*J[dt]+1]===0;dt--);return ot.opt_len+=3*(dt+1)+5+5+4,dt})(w),R=w.opt_len+3+7>>>3,(Q=w.static_len+3+7>>>3)<=R&&(R=Q)):R=Q=V+5,V+4<=R&&O!==-1?A(w,O,V,Y):w.strategy===4||Q===R?(nt(w,2+(Y?1:0),3),At(w,ft,T)):(nt(w,4+(Y?1:0),3),(function(ot,dt,It,wt){var Ct;for(nt(ot,dt-257,5),nt(ot,It-1,5),nt(ot,wt-4,4),Ct=0;Ct<wt;Ct++)nt(ot,ot.bl_tree[2*J[Ct]+1],3);K(ot,ot.dyn_ltree,dt-1),K(ot,ot.dyn_dtree,It-1)})(w,w.l_desc.max_code+1,w.d_desc.max_code+1,ut+1),At(w,w.dyn_ltree,w.dyn_dtree)),pt(w),Y&&mt(w)},a._tr_tally=function(w,O,V){return w.pending_buf[w.d_buf+2*w.last_lit]=O>>>8&255,w.pending_buf[w.d_buf+2*w.last_lit+1]=255&O,w.pending_buf[w.l_buf+w.last_lit]=255&V,w.last_lit++,O===0?w.dyn_ltree[2*V]++:(w.matches++,O--,w.dyn_ltree[2*(h[V]+y+1)]++,w.dyn_dtree[2*C(O)]++),w.last_lit===w.lit_bufsize-1},a._tr_align=function(w){nt(w,2,3),at(w,I,ft),(function(O){O.bi_valid===16?(st(O,O.bi_buf),O.bi_buf=0,O.bi_valid=0):8<=O.bi_valid&&(O.pending_buf[O.pending++]=255&O.bi_buf,O.bi_buf>>=8,O.bi_valid-=8)})(w)}},{"../utils/common":41}],53:[function(t,i,a){i.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,i,a){(function(l){(function(c,u){if(!c.setImmediate){var p,s,_,y,b=1,m={},g=!1,v=c.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(c);k=k&&k.setTimeout?k:c,p={}.toString.call(c.process)==="[object process]"?function(N){process.nextTick(function(){S(N)})}:(function(){if(c.postMessage&&!c.importScripts){var N=!0,F=c.onmessage;return c.onmessage=function(){N=!1},c.postMessage("","*"),c.onmessage=F,N}})()?(y="setImmediate$"+Math.random()+"$",c.addEventListener?c.addEventListener("message",I,!1):c.attachEvent("onmessage",I),function(N){c.postMessage(y+N,"*")}):c.MessageChannel?((_=new MessageChannel).port1.onmessage=function(N){S(N.data)},function(N){_.port2.postMessage(N)}):v&&"onreadystatechange"in v.createElement("script")?(s=v.documentElement,function(N){var F=v.createElement("script");F.onreadystatechange=function(){S(N),F.onreadystatechange=null,s.removeChild(F),F=null},s.appendChild(F)}):function(N){setTimeout(S,0,N)},k.setImmediate=function(N){typeof N!="function"&&(N=new Function(""+N));for(var F=new Array(arguments.length-1),P=0;P<F.length;P++)F[P]=arguments[P+1];var j={callback:N,args:F};return m[b]=j,p(b),b++},k.clearImmediate=x}function x(N){delete m[N]}function S(N){if(g)setTimeout(S,0,N);else{var F=m[N];if(F){g=!0;try{(function(P){var j=P.callback,$=P.args;switch($.length){case 0:j();break;case 1:j($[0]);break;case 2:j($[0],$[1]);break;case 3:j($[0],$[1],$[2]);break;default:j.apply(u,$)}})(F)}finally{x(N),g=!1}}}}function I(N){N.source===c&&typeof N.data=="string"&&N.data.indexOf(y)===0&&S(+N.data.slice(y.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof On<"u"?On:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(ba)),ba.exports}var pu=hu();const Ws=Hs(pu);var vu=ArrayBuffer,Yt=Uint8Array,Wn=Uint16Array,mu=Int16Array,ta=Int32Array,ka=function(r,e,t){if(Yt.prototype.slice)return Yt.prototype.slice.call(r,e,t);(e==null||e<0)&&(e=0),(t==null||t>r.length)&&(t=r.length);var i=new Yt(t-e);return i.set(r.subarray(e,t)),i},nn=function(r,e,t,i){if(Yt.prototype.fill)return Yt.prototype.fill.call(r,e,t,i);for((t==null||t<0)&&(t=0),(i==null||i>r.length)&&(i=r.length);t<i;++t)r[t]=e;return r},gu=function(r,e,t,i){if(Yt.prototype.copyWithin)return Yt.prototype.copyWithin.call(r,e,t,i);for((t==null||t<0)&&(t=0),(i==null||i>r.length)&&(i=r.length);t<i;)r[e++]=r[t++]},_u=["invalid zstd data","window size too large (>2046MB)","invalid block type","FSE accuracy too high","match distance too far back","unexpected EOF"],Qt=function(r,e,t){var i=new Error(e||_u[r]);if(i.code=r,Error.captureStackTrace&&Error.captureStackTrace(i,Qt),!t)throw i;return i},Zi=function(r,e,t){for(var i=0,a=0;i<t;++i)a|=r[e++]<<(i<<3);return a},yu=function(r,e){return(r[e]|r[e+1]<<8|r[e+2]<<16|r[e+3]<<24)>>>0},wu=function(r,e){var t=r[0]|r[1]<<8|r[2]<<16;if(t==3126568&&r[3]==253){var i=r[4],a=i>>5&1,l=i>>2&1,c=i&3,u=i>>6;i&8&&Qt(0);var p=6-a,s=c==3?4:c,_=Zi(r,p,s);p+=s;var y=u?1<<u:a,b=Zi(r,p,y)+(u==1&&256),m=b;if(!a){var g=1<<10+(r[5]>>3);m=g+(g>>3)*(r[5]&7)}m>2145386496&&Qt(1);var v=new Yt((e==1?b||m:e?0:m)+12);return v[0]=1,v[4]=4,v[8]=8,{b:p+y,y:0,l:0,d:_,w:e&&e!=1?e:v.subarray(12),e:m,o:new ta(v.buffer,0,3),u:b,c:l,m:Math.min(131072,m)}}else if((t>>4|r[3]<<20)==25481893)return yu(r,4)+8;Qt(0)},mr=function(r){for(var e=0;1<<e<=r;++e);return e-1},_n=function(r,e,t){var i=(e<<3)+4,a=(r[e]&15)+5;a>t&&Qt(3);for(var l=1<<a,c=l,u=-1,p=-1,s=-1,_=l,y=new vu(512+(l<<2)),b=new mu(y,0,256),m=new Wn(y,0,256),g=new Wn(y,512,l),v=512+(l<<1),k=new Yt(y,v,l),x=new Yt(y,v+l);u<255&&c>0;){var S=mr(c+1),I=i>>3,N=(1<<S+1)-1,F=(r[I]|r[I+1]<<8|r[I+2]<<16)>>(i&7)&N,P=(1<<S)-1,j=N-c-1,$=F&P;if($<j?(i+=S,F=$):(i+=S+1,F>P&&(F-=j)),b[++u]=--F,F==-1?(c+=F,k[--_]=u):c-=F,!F)do{var z=i>>3;p=(r[z]|r[z+1]<<8)>>(i&7)&3,i+=2,u+=p}while(p==3)}(u>255||c)&&Qt(0);for(var J=0,ft=(l>>1)+(l>>3)+3,T=l-1,U=0;U<=u;++U){var h=b[U];if(h<1){m[U]=-h;continue}for(s=0;s<h;++s){k[J]=U;do J=J+ft&T;while(J>=_)}}for(J&&Qt(0),s=0;s<l;++s){var B=m[k[s]]++,lt=x[s]=a-mr(B);g[s]=(B<<lt)-l}return[i+7>>3,{b:a,s:k,n:x,t:g}]},bu=function(r,e){var t=0,i=-1,a=new Yt(292),l=r[e],c=a.subarray(0,256),u=a.subarray(256,268),p=new Wn(a.buffer,268);if(l<128){var s=_n(r,e+1,6),_=s[0],y=s[1];e+=l;var b=_<<3,m=r[e];m||Qt(0);for(var g=0,v=0,k=y.b,x=k,S=(++e<<3)-8+mr(m);S-=k,!(S<b);){var I=S>>3;if(g+=(r[I]|r[I+1]<<8)>>(S&7)&(1<<k)-1,c[++i]=y.s[g],S-=x,S<b)break;I=S>>3,v+=(r[I]|r[I+1]<<8)>>(S&7)&(1<<x)-1,c[++i]=y.s[v],k=y.n[g],g=y.t[g],x=y.n[v],v=y.t[v]}++i>255&&Qt(0)}else{for(i=l-127;t<i;t+=2){var N=r[++e];c[t]=N>>4,c[t+1]=N&15}++e}var F=0;for(t=0;t<i;++t){var P=c[t];P>11&&Qt(0),F+=P&&1<<P-1}var j=mr(F)+1,$=1<<j,z=$-F;for(z&z-1&&Qt(0),c[i++]=mr(z)+1,t=0;t<i;++t){var P=c[t];++u[c[t]=P&&j+1-P]}var J=new Yt($<<1),ft=J.subarray(0,$),T=J.subarray($);for(p[j]=0,t=j;t>0;--t){var U=p[t];nn(T,t,U,p[t-1]=U+u[t]*(1<<j-t))}for(p[0]!=$&&Qt(0),t=0;t<i;++t){var h=c[t];if(h){var B=p[h];nn(ft,t,B,p[h]=B+(1<<j-h))}}return[e,{n:T,b:j,s:ft}]},ku=_n(new Yt([81,16,99,140,49,198,24,99,12,33,196,24,99,102,102,134,70,146,4]),0,6)[1],xu=_n(new Yt([33,20,196,24,99,140,33,132,16,66,8,33,132,16,66,8,33,68,68,68,68,68,68,68,68,36,9]),0,6)[1],Su=_n(new Yt([32,132,16,66,102,70,68,68,68,68,36,73,2]),0,5)[1],Ks=function(r,e){for(var t=r.length,i=new ta(t),a=0;a<t;++a)i[a]=e,e+=1<<r[a];return i},Oa=new Yt(new ta([0,0,0,0,16843009,50528770,134678020,202050057,269422093]).buffer,0,36),Eu=Ks(Oa,0),Na=new Yt(new ta([0,0,0,0,0,0,0,0,16843009,50528770,117769220,185207048,252579084,16]).buffer,0,53),Au=Ks(Na,3),Qr=function(r,e,t){var i=r.length,a=e.length,l=r[i-1],c=(1<<t.b)-1,u=-t.b;l||Qt(0);for(var p=0,s=t.b,_=(i<<3)-8+mr(l)-s,y=-1;_>u&&y<a;){var b=_>>3,m=(r[b]|r[b+1]<<8|r[b+2]<<16)>>(_&7);p=(p<<s|m)&c,e[++y]=t.s[p],_-=s=t.n[p]}(_!=u||y+1!=a)&&Qt(0)},Iu=function(r,e,t){var i=6,a=e.length,l=a+3>>2,c=l<<1,u=l+c;Qr(r.subarray(i,i+=r[0]|r[1]<<8),e.subarray(0,l),t),Qr(r.subarray(i,i+=r[2]|r[3]<<8),e.subarray(l,c),t),Qr(r.subarray(i,i+=r[4]|r[5]<<8),e.subarray(c,u),t),Qr(r.subarray(i),e.subarray(u),t)},Tu=function(r,e,t){var i,a=e.b,l=r[a],c=l>>1&3;e.l=l&1;var u=l>>3|r[a+1]<<5|r[a+2]<<13,p=(a+=3)+u;if(c==1)return a>=r.length?void 0:(e.b=a+1,t?(nn(t,r[a],e.y,e.y+=u),t):nn(new Yt(u),r[a]));if(!(p>r.length)){if(c==0)return e.b=p,t?(t.set(r.subarray(a,p),e.y),e.y+=u,t):ka(r,a,p);if(c==2){var s=r[a],_=s&3,y=s>>2&3,b=s>>4,m=0,g=0;_<2?y&1?b|=r[++a]<<4|(y&2&&r[++a]<<12):b=s>>3:(g=y,y<2?(b|=(r[++a]&63)<<4,m=r[a]>>6|r[++a]<<2):y==2?(b|=r[++a]<<4|(r[++a]&3)<<12,m=r[a]>>2|r[++a]<<6):(b|=r[++a]<<4|(r[++a]&63)<<12,m=r[a]>>6|r[++a]<<2|r[++a]<<10)),++a;var v=t?t.subarray(e.y,e.y+e.m):new Yt(e.m),k=v.length-b;if(_==0)v.set(r.subarray(a,a+=b),k);else if(_==1)nn(v,r[a++],k);else{var x=e.h;if(_==2){var S=bu(r,a);m+=a-(a=S[0]),e.h=x=S[1]}else x||Qt(0);(g?Iu:Qr)(r.subarray(a,a+=m),v.subarray(k),x)}var I=r[a++];if(I){I==255?I=(r[a++]|r[a++]<<8)+32512:I>127&&(I=I-128<<8|r[a++]);var N=r[a++];N&3&&Qt(0);for(var F=[xu,Su,ku],P=2;P>-1;--P){var j=N>>(P<<1)+2&3;if(j==1){var $=new Yt([0,0,r[a++]]);F[P]={s:$.subarray(2,3),n:$.subarray(0,1),t:new Wn($.buffer,0,1),b:0}}else j==2?(i=_n(r,a,9-(P&1)),a=i[0],F[P]=i[1]):j==3&&(e.t||Qt(0),F[P]=e.t[P])}var z=e.t=F,J=z[0],ft=z[1],T=z[2],U=r[p-1];U||Qt(0);var h=(p<<3)-8+mr(U)-T.b,B=h>>3,lt=0,H=(r[B]|r[B+1]<<8)>>(h&7)&(1<<T.b)-1;B=(h-=ft.b)>>3;var ht=(r[B]|r[B+1]<<8)>>(h&7)&(1<<ft.b)-1;B=(h-=J.b)>>3;var Z=(r[B]|r[B+1]<<8)>>(h&7)&(1<<J.b)-1;for(++I;--I;){var rt=T.s[H],L=T.n[H],C=J.s[Z],st=J.n[Z],nt=ft.s[ht],at=ft.n[ht];B=(h-=nt)>>3;var gt=1<<nt,_t=gt+((r[B]|r[B+1]<<8|r[B+2]<<16|r[B+3]<<24)>>>(h&7)&gt-1);B=(h-=Na[C])>>3;var pt=Au[C]+((r[B]|r[B+1]<<8|r[B+2]<<16)>>(h&7)&(1<<Na[C])-1);B=(h-=Oa[rt])>>3;var mt=Eu[rt]+((r[B]|r[B+1]<<8|r[B+2]<<16)>>(h&7)&(1<<Oa[rt])-1);if(B=(h-=L)>>3,H=T.t[H]+((r[B]|r[B+1]<<8)>>(h&7)&(1<<L)-1),B=(h-=st)>>3,Z=J.t[Z]+((r[B]|r[B+1]<<8)>>(h&7)&(1<<st)-1),B=(h-=at)>>3,ht=ft.t[ht]+((r[B]|r[B+1]<<8)>>(h&7)&(1<<at)-1),_t>3)e.o[2]=e.o[1],e.o[1]=e.o[0],e.o[0]=_t-=3;else{var yt=_t-(mt!=0);yt?(_t=yt==3?e.o[0]-1:e.o[yt],yt>1&&(e.o[2]=e.o[1]),e.o[1]=e.o[0],e.o[0]=_t):_t=e.o[0]}for(var P=0;P<mt;++P)v[lt+P]=v[k+P];lt+=mt,k+=mt;var bt=lt-_t;if(bt<0){var At=-bt,Pt=e.e+bt;At>pt&&(At=pt);for(var P=0;P<At;++P)v[lt+P]=e.w[Pt+P];lt+=At,pt-=At,bt=0}for(var P=0;P<pt;++P)v[lt+P]=v[bt+P];lt+=pt}if(lt!=k)for(;k<v.length;)v[lt++]=v[k++];else lt=v.length;t?e.y+=lt:v=ka(v,0,lt)}else if(t){if(e.y+=b,k)for(var P=0;P<b;++P)v[P]=v[k+P]}else k&&(v=ka(v,k));return e.b=p,v}Qt(2)}},Cu=function(r,e){if(r.length==1)return r[0];for(var t=new Yt(e),i=0,a=0;i<r.length;++i){var l=r[i];t.set(l,a),a+=l.length}return t};function Du(r,e){for(var t=[],i=+!e,a=0,l=0;r.length;){var c=wu(r,i||e);if(typeof c=="object"){for(i?(e=null,c.w.length==c.u&&(t.push(e=c.w),l+=c.u)):(t.push(e),c.e=0);!c.l;){var u=Tu(r,c,e);u||Qt(5),e?c.e=c.y:(t.push(u),l+=u.length,gu(c.w,0,u.length),c.w.set(u,c.w.length-u.length))}a=c.b+c.c*4}else a=c;r=r.subarray(a)}return Cu(t,l)}var xa={exports:{}};const Ou={},Nu=Object.freeze(Object.defineProperty({__proto__:null,default:Ou},Symbol.toStringTag,{value:"Module"})),Rn=du(Nu);var $i;function Ru(){return $i||($i=1,(function(r,e){var t=void 0,i=function(a){return t||(t=new Promise(function(l,c){var u=typeof a<"u"?a:{},p=u.onAbort;u.onAbort=function(n){c(new Error(n)),p&&p(n)},u.postRun=u.postRun||[],u.postRun.push(function(){l(u)}),r=void 0;var s;s||(s=typeof u<"u"?u:{}),s.onRuntimeInitialized=function(){function n(M,it){switch(typeof it){case"boolean":Do(M,it?1:0);break;case"number":Io(M,it);break;case"string":To(M,it,-1,-1);break;case"object":if(it===null)Ei(M);else if(it.length!=null){var vt=fa(it);Co(M,vt,it.length,-1),In(vt)}else Cn(M,"Wrong API use : tried to return a value of an unknown type ("+it+").",-1);break;default:Ei(M)}}function o(M,it){for(var vt=[],xt=0;xt<M;xt+=1){var Ot=Y(it+4*xt,"i32"),Bt=ko(Ot);if(Bt===1||Bt===2)Ot=Ao(Ot);else if(Bt===3)Ot=So(Ot);else if(Bt===4){Bt=Ot,Ot=xo(Bt),Bt=Eo(Bt);for(var Ne=new Uint8Array(Ot),me=0;me<Ot;me+=1)Ne[me]=H[Bt+me];Ot=Ne}else Ot=null;vt.push(Ot)}return vt}function d(M,it){this.La=M,this.db=it,this.Ja=1,this.fb=[]}function E(M,it){if(this.db=it,it=B(M)+1,this.Ya=An(it),this.Ya===null)throw Error("Unable to allocate memory for the SQL string");h(M,ht,this.Ya,it),this.eb=this.Ya,this.Ua=this.ib=null}function D(M){if(this.filename="dbfile_"+(4294967295*Math.random()>>>0),M!=null){var it=this.filename,vt="/",xt=it;if(vt&&(vt=typeof vt=="string"?vt:$e(vt),xt=it?ut(vt+"/"+it):vt),it=di(!0,!0),xt=yn(xt,(it!==void 0?it:438)&4095|32768,0),M){if(typeof M=="string"){vt=Array(M.length);for(var Ot=0,Bt=M.length;Ot<Bt;++Ot)vt[Ot]=M.charCodeAt(Ot);M=vt}bn(xt,it|146),vt=Er(xt,577),ui(vt,M,0,M.length,0),na(vt),bn(xt,it)}}this.handleError(Et(this.filename,W)),this.db=Y(W,"i32"),Oo(this.db),this.Za={},this.Na={}}var W=Ve(4),tt=s.cwrap,Et=tt("sqlite3_open","number",["string","number"]),Lt=tt("sqlite3_close_v2","number",["number"]),Rt=tt("sqlite3_exec","number",["number","string","number","number","number"]),Jt=tt("sqlite3_changes","number",["number"]),Me=tt("sqlite3_prepare_v2","number",["number","string","number","number","number"]),wi=tt("sqlite3_sql","string",["number"]),ao=tt("sqlite3_normalized_sql","string",["number"]),bi=tt("sqlite3_prepare_v2","number",["number","number","number","number","number"]),io=tt("sqlite3_bind_text","number",["number","number","number","number","number"]),ki=tt("sqlite3_bind_blob","number",["number","number","number","number","number"]),so=tt("sqlite3_bind_double","number",["number","number","number"]),oo=tt("sqlite3_bind_int","number",["number","number","number"]),lo=tt("sqlite3_bind_parameter_index","number",["number","string"]),uo=tt("sqlite3_step","number",["number"]),co=tt("sqlite3_errmsg","string",["number"]),fo=tt("sqlite3_column_count","number",["number"]),ho=tt("sqlite3_data_count","number",["number"]),po=tt("sqlite3_column_double","number",["number","number"]),xi=tt("sqlite3_column_text","string",["number","number"]),vo=tt("sqlite3_column_blob","number",["number","number"]),mo=tt("sqlite3_column_bytes","number",["number","number"]),go=tt("sqlite3_column_type","number",["number","number"]),_o=tt("sqlite3_column_name","string",["number","number"]),yo=tt("sqlite3_reset","number",["number"]),wo=tt("sqlite3_clear_bindings","number",["number"]),bo=tt("sqlite3_finalize","number",["number"]),Si=tt("sqlite3_create_function_v2","number","number string number number number number number number number".split(" ")),ko=tt("sqlite3_value_type","number",["number"]),xo=tt("sqlite3_value_bytes","number",["number"]),So=tt("sqlite3_value_text","string",["number"]),Eo=tt("sqlite3_value_blob","number",["number"]),Ao=tt("sqlite3_value_double","number",["number"]),Io=tt("sqlite3_result_double","",["number","number"]),Ei=tt("sqlite3_result_null","",["number"]),To=tt("sqlite3_result_text","",["number","string","number","number"]),Co=tt("sqlite3_result_blob","",["number","number","number","number"]),Do=tt("sqlite3_result_int","",["number","number"]),Cn=tt("sqlite3_result_error","",["number","string","number"]),Ai=tt("sqlite3_aggregate_context","number",["number","number"]),Oo=tt("RegisterExtensionFunctions","number",["number"]);d.prototype.bind=function(M){if(!this.La)throw"Statement closed";return this.reset(),Array.isArray(M)?this.xb(M):M!=null&&typeof M=="object"?this.yb(M):!0},d.prototype.step=function(){if(!this.La)throw"Statement closed";this.Ja=1;var M=uo(this.La);switch(M){case 100:return!0;case 101:return!1;default:throw this.db.handleError(M)}},d.prototype.sb=function(M){return M==null&&(M=this.Ja,this.Ja+=1),po(this.La,M)},d.prototype.Cb=function(M){if(M==null&&(M=this.Ja,this.Ja+=1),M=xi(this.La,M),typeof BigInt!="function")throw Error("BigInt is not supported");return BigInt(M)},d.prototype.Db=function(M){return M==null&&(M=this.Ja,this.Ja+=1),xi(this.La,M)},d.prototype.getBlob=function(M){M==null&&(M=this.Ja,this.Ja+=1);var it=mo(this.La,M);M=vo(this.La,M);for(var vt=new Uint8Array(it),xt=0;xt<it;xt+=1)vt[xt]=H[M+xt];return vt},d.prototype.get=function(M,it){it=it||{},M!=null&&this.bind(M)&&this.step(),M=[];for(var vt=ho(this.La),xt=0;xt<vt;xt+=1)switch(go(this.La,xt)){case 1:var Ot=it.useBigInt?this.Cb(xt):this.sb(xt);M.push(Ot);break;case 2:M.push(this.sb(xt));break;case 3:M.push(this.Db(xt));break;case 4:M.push(this.getBlob(xt));break;default:M.push(null)}return M},d.prototype.getColumnNames=function(){for(var M=[],it=fo(this.La),vt=0;vt<it;vt+=1)M.push(_o(this.La,vt));return M},d.prototype.getAsObject=function(M,it){M=this.get(M,it),it=this.getColumnNames();for(var vt={},xt=0;xt<it.length;xt+=1)vt[it[xt]]=M[xt];return vt},d.prototype.getSQL=function(){return wi(this.La)},d.prototype.getNormalizedSQL=function(){return ao(this.La)},d.prototype.run=function(M){return M!=null&&this.bind(M),this.step(),this.reset()},d.prototype.nb=function(M,it){it==null&&(it=this.Ja,this.Ja+=1),M=Ct(M);var vt=fa(M);this.fb.push(vt),this.db.handleError(io(this.La,it,vt,M.length-1,0))},d.prototype.wb=function(M,it){it==null&&(it=this.Ja,this.Ja+=1);var vt=fa(M);this.fb.push(vt),this.db.handleError(ki(this.La,it,vt,M.length,0))},d.prototype.mb=function(M,it){it==null&&(it=this.Ja,this.Ja+=1),this.db.handleError((M===(M|0)?oo:so)(this.La,it,M))},d.prototype.zb=function(M){M==null&&(M=this.Ja,this.Ja+=1),ki(this.La,M,0,0,0)},d.prototype.ob=function(M,it){switch(it==null&&(it=this.Ja,this.Ja+=1),typeof M){case"string":this.nb(M,it);return;case"number":this.mb(M,it);return;case"bigint":this.nb(M.toString(),it);return;case"boolean":this.mb(M+0,it);return;case"object":if(M===null){this.zb(it);return}if(M.length!=null){this.wb(M,it);return}}throw"Wrong API use : tried to bind a value of an unknown type ("+M+")."},d.prototype.yb=function(M){var it=this;return Object.keys(M).forEach(function(vt){var xt=lo(it.La,vt);xt!==0&&it.ob(M[vt],xt)}),!0},d.prototype.xb=function(M){for(var it=0;it<M.length;it+=1)this.ob(M[it],it+1);return!0},d.prototype.reset=function(){return this.freemem(),wo(this.La)===0&&yo(this.La)===0},d.prototype.freemem=function(){for(var M;(M=this.fb.pop())!==void 0;)In(M)},d.prototype.free=function(){this.freemem();var M=bo(this.La)===0;return delete this.db.Za[this.La],this.La=0,M},E.prototype.next=function(){if(this.Ya===null)return{done:!0};if(this.Ua!==null&&(this.Ua.free(),this.Ua=null),!this.db.db)throw this.gb(),Error("Database closed");var M=Kr(),it=Ve(4);R(W),R(it);try{this.db.handleError(bi(this.db.db,this.eb,-1,W,it)),this.eb=Y(it,"i32");var vt=Y(W,"i32");return vt===0?(this.gb(),{done:!0}):(this.Ua=new d(vt,this.db),this.db.Za[vt]=this.Ua,{value:this.Ua,done:!1})}catch(xt){throw this.ib=U(this.eb),this.gb(),xt}finally{Zr(M)}},E.prototype.gb=function(){In(this.Ya),this.Ya=null},E.prototype.getRemainingSQL=function(){return this.ib!==null?this.ib:U(this.eb)},typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"&&(E.prototype[Symbol.iterator]=function(){return this}),D.prototype.run=function(M,it){if(!this.db)throw"Database closed";if(it){M=this.prepare(M,it);try{M.step()}finally{M.free()}}else this.handleError(Rt(this.db,M,0,0,W));return this},D.prototype.exec=function(M,it,vt){if(!this.db)throw"Database closed";var xt=Kr(),Ot=null;try{var Bt=B(M)+1,Ne=Ve(Bt);h(M,H,Ne,Bt);var me=Ne,ye=Ve(4);for(M=[];Y(me,"i8")!==0;){R(W),R(ye),this.handleError(bi(this.db,me,-1,W,ye));var we=Y(W,"i32");if(me=Y(ye,"i32"),we!==0){for(Bt=null,Ot=new d(we,this),it!=null&&Ot.bind(it);Ot.step();)Bt===null&&(Bt={columns:Ot.getColumnNames(),values:[]},M.push(Bt)),Bt.values.push(Ot.get(null,vt));Ot.free()}}return M}catch($r){throw Ot&&Ot.free(),$r}finally{Zr(xt)}},D.prototype.each=function(M,it,vt,xt,Ot){typeof it=="function"&&(xt=vt,vt=it,it=void 0),M=this.prepare(M,it);try{for(;M.step();)vt(M.getAsObject(null,Ot))}finally{M.free()}if(typeof xt=="function")return xt()},D.prototype.prepare=function(M,it){if(R(W),this.handleError(Me(this.db,M,-1,W,0)),M=Y(W,"i32"),M===0)throw"Nothing to prepare";var vt=new d(M,this);return it!=null&&vt.bind(it),this.Za[M]=vt},D.prototype.iterateStatements=function(M){return new E(M,this)},D.prototype.export=function(){Object.values(this.Za).forEach(function(it){it.free()}),Object.values(this.Na).forEach(Wr),this.Na={},this.handleError(Lt(this.db));var M=to(this.filename);return this.handleError(Et(this.filename,W)),this.db=Y(W,"i32"),M},D.prototype.close=function(){this.db!==null&&(Object.values(this.Za).forEach(function(M){M.free()}),Object.values(this.Na).forEach(Wr),this.Na={},this.handleError(Lt(this.db)),ni("/"+this.filename),this.db=null)},D.prototype.handleError=function(M){if(M===0)return null;throw M=co(this.db),Error(M)},D.prototype.getRowsModified=function(){return Jt(this.db)},D.prototype.create_function=function(M,it){Object.prototype.hasOwnProperty.call(this.Na,M)&&(Wr(this.Na[M]),delete this.Na[M]);var vt=ca(function(xt,Ot,Bt){Ot=o(Ot,Bt);try{var Ne=it.apply(null,Ot)}catch(me){Cn(xt,me,-1);return}n(xt,Ne)},"viii");return this.Na[M]=vt,this.handleError(Si(this.db,M,it.length,1,0,vt,0,0,0)),this},D.prototype.create_aggregate=function(M,it){var vt=it.init||function(){return null},xt=it.finalize||function(ye){return ye},Ot=it.step;if(!Ot)throw"An aggregate function must have a step function in "+M;var Bt={};Object.hasOwnProperty.call(this.Na,M)&&(Wr(this.Na[M]),delete this.Na[M]),it=M+"__finalize",Object.hasOwnProperty.call(this.Na,it)&&(Wr(this.Na[it]),delete this.Na[it]);var Ne=ca(function(ye,we,$r){var lr=Ai(ye,1);Object.hasOwnProperty.call(Bt,lr)||(Bt[lr]=vt()),we=o(we,$r),we=[Bt[lr]].concat(we);try{Bt[lr]=Ot.apply(null,we)}catch(No){delete Bt[lr],Cn(ye,No,-1)}},"viii"),me=ca(function(ye){var we=Ai(ye,1);try{var $r=xt(Bt[we])}catch(lr){delete Bt[we],Cn(ye,lr,-1);return}n(ye,$r),delete Bt[we]},"vi");return this.Na[M]=Ne,this.Na[it]=me,this.handleError(Si(this.db,M,Ot.length-1,1,0,0,Ne,me,0)),this},s.Database=D};var _=Object.assign({},s),y="./this.program",b=typeof window=="object",m=typeof importScripts=="function",g=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string",v="",k,x,S,I,N,F;g?(v=m?Rn.dirname(v)+"/":__dirname+"/",F=()=>{N||(I=Rn,N=Rn)},k=function(n,o){return F(),n=N.normalize(n),I.readFileSync(n,o?void 0:"utf8")},S=n=>(n=k(n,!0),n.buffer||(n=new Uint8Array(n)),n),x=(n,o,d)=>{F(),n=N.normalize(n),I.readFile(n,function(E,D){E?d(E):o(D.buffer)})},1<process.argv.length&&(y=process.argv[1].replace(/\\/g,"/")),process.argv.slice(2),r.exports=s,s.inspect=function(){return"[Emscripten Module object]"}):(b||m)&&(m?v=self.location.href:typeof document<"u"&&document.currentScript&&(v=document.currentScript.src),v=v.indexOf("blob:")!==0?v.substr(0,v.replace(/[?#].*/,"").lastIndexOf("/")+1):"",k=n=>{var o=new XMLHttpRequest;return o.open("GET",n,!1),o.send(null),o.responseText},m&&(S=n=>{var o=new XMLHttpRequest;return o.open("GET",n,!1),o.responseType="arraybuffer",o.send(null),new Uint8Array(o.response)}),x=(n,o,d)=>{var E=new XMLHttpRequest;E.open("GET",n,!0),E.responseType="arraybuffer",E.onload=()=>{E.status==200||E.status==0&&E.response?o(E.response):d()},E.onerror=d,E.send(null)});var P=s.print||console.log.bind(console),j=s.printErr||console.warn.bind(console);Object.assign(s,_),_=null,s.thisProgram&&(y=s.thisProgram);var $;s.wasmBinary&&($=s.wasmBinary),s.noExitRuntime,typeof WebAssembly!="object"&&At("no native wasm support detected");var z,J=!1,ft=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function T(n,o,d){var E=o+d;for(d=o;n[d]&&!(d>=E);)++d;if(16<d-o&&n.buffer&&ft)return ft.decode(n.subarray(o,d));for(E="";o<d;){var D=n[o++];if(D&128){var W=n[o++]&63;if((D&224)==192)E+=String.fromCharCode((D&31)<<6|W);else{var tt=n[o++]&63;D=(D&240)==224?(D&15)<<12|W<<6|tt:(D&7)<<18|W<<12|tt<<6|n[o++]&63,65536>D?E+=String.fromCharCode(D):(D-=65536,E+=String.fromCharCode(55296|D>>10,56320|D&1023))}}else E+=String.fromCharCode(D)}return E}function U(n,o){return n?T(ht,n,o):""}function h(n,o,d,E){if(!(0<E))return 0;var D=d;E=d+E-1;for(var W=0;W<n.length;++W){var tt=n.charCodeAt(W);if(55296<=tt&&57343>=tt){var Et=n.charCodeAt(++W);tt=65536+((tt&1023)<<10)|Et&1023}if(127>=tt){if(d>=E)break;o[d++]=tt}else{if(2047>=tt){if(d+1>=E)break;o[d++]=192|tt>>6}else{if(65535>=tt){if(d+2>=E)break;o[d++]=224|tt>>12}else{if(d+3>=E)break;o[d++]=240|tt>>18,o[d++]=128|tt>>12&63}o[d++]=128|tt>>6&63}o[d++]=128|tt&63}}return o[d]=0,d-D}function B(n){for(var o=0,d=0;d<n.length;++d){var E=n.charCodeAt(d);127>=E?o++:2047>=E?o+=2:55296<=E&&57343>=E?(o+=4,++d):o+=3}return o}var lt,H,ht,Z,rt,L,C,st;function nt(){var n=z.buffer;lt=n,s.HEAP8=H=new Int8Array(n),s.HEAP16=Z=new Int16Array(n),s.HEAP32=rt=new Int32Array(n),s.HEAPU8=ht=new Uint8Array(n),s.HEAPU16=new Uint16Array(n),s.HEAPU32=L=new Uint32Array(n),s.HEAPF32=C=new Float32Array(n),s.HEAPF64=st=new Float64Array(n)}var at,gt=[],_t=[],pt=[];function mt(){var n=s.preRun.shift();gt.unshift(n)}var yt=0,bt=null;function At(n){throw s.onAbort&&s.onAbort(n),n="Aborted("+n+")",j(n),J=!0,new WebAssembly.RuntimeError(n+". Build with -sASSERTIONS for more info.")}function Pt(){return f.startsWith("data:application/octet-stream;base64,")}var f;if(f="sql-wasm.wasm",!Pt()){var K=f;f=s.locateFile?s.locateFile(K,v):v+K}function G(){var n=f;try{if(n==f&&$)return new Uint8Array($);if(S)return S(n);throw"both async and sync fetching of the wasm failed"}catch(o){At(o)}}function A(){if(!$&&(b||m)){if(typeof fetch=="function"&&!f.startsWith("file://"))return fetch(f,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+f+"'";return n.arrayBuffer()}).catch(function(){return G()});if(x)return new Promise(function(n,o){x(f,function(d){n(new Uint8Array(d))},o)})}return Promise.resolve().then(function(){return G()})}var w,O;function V(n){for(;0<n.length;)n.shift()(s)}function Y(n,o="i8"){switch(o.endsWith("*")&&(o="*"),o){case"i1":return H[n>>0];case"i8":return H[n>>0];case"i16":return Z[n>>1];case"i32":return rt[n>>2];case"i64":return rt[n>>2];case"float":return C[n>>2];case"double":return st[n>>3];case"*":return L[n>>2];default:At("invalid type for getValue: "+o)}return null}function R(n){var o="i32";switch(o.endsWith("*")&&(o="*"),o){case"i1":H[n>>0]=0;break;case"i8":H[n>>0]=0;break;case"i16":Z[n>>1]=0;break;case"i32":rt[n>>2]=0;break;case"i64":O=[0,(w=0,1<=+Math.abs(w)?0<w?(Math.min(+Math.floor(w/4294967296),4294967295)|0)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],rt[n>>2]=O[0],rt[n+4>>2]=O[1];break;case"float":C[n>>2]=0;break;case"double":st[n>>3]=0;break;case"*":L[n>>2]=0;break;default:At("invalid type for setValue: "+o)}}var Q=(n,o)=>{for(var d=0,E=n.length-1;0<=E;E--){var D=n[E];D==="."?n.splice(E,1):D===".."?(n.splice(E,1),d++):d&&(n.splice(E,1),d--)}if(o)for(;d;d--)n.unshift("..");return n},ut=n=>{var o=n.charAt(0)==="/",d=n.substr(-1)==="/";return(n=Q(n.split("/").filter(E=>!!E),!o).join("/"))||o||(n="."),n&&d&&(n+="/"),(o?"/":"")+n},ot=n=>{var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(n).slice(1);return n=o[0],o=o[1],!n&&!o?".":(o&&(o=o.substr(0,o.length-1)),n+o)},dt=n=>{if(n==="/")return"/";n=ut(n),n=n.replace(/\/$/,"");var o=n.lastIndexOf("/");return o===-1?n:n.substr(o+1)};function It(){if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function"){var n=new Uint8Array(1);return()=>(crypto.getRandomValues(n),n[0])}if(g)try{var o=Rn;return()=>o.randomBytes(1)[0]}catch{}return()=>At("randomDevice")}function wt(){for(var n="",o=!1,d=arguments.length-1;-1<=d&&!o;d--){if(o=0<=d?arguments[d]:"/",typeof o!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!o)return"";n=o+"/"+n,o=o.charAt(0)==="/"}return n=Q(n.split("/").filter(E=>!!E),!o).join("/"),(o?"/":"")+n||"."}function Ct(n,o){var d=Array(B(n)+1);return n=h(n,d,0,d.length),o&&(d.length=n),d}var qt=[];function Ut(n,o){qt[n]={input:[],output:[],Xa:o},ea(n,jt)}var jt={open:function(n){var o=qt[n.node.rdev];if(!o)throw new X(43);n.tty=o,n.seekable=!1},close:function(n){n.tty.Xa.fsync(n.tty)},fsync:function(n){n.tty.Xa.fsync(n.tty)},read:function(n,o,d,E){if(!n.tty||!n.tty.Xa.tb)throw new X(60);for(var D=0,W=0;W<E;W++){try{var tt=n.tty.Xa.tb(n.tty)}catch{throw new X(29)}if(tt===void 0&&D===0)throw new X(6);if(tt==null)break;D++,o[d+W]=tt}return D&&(n.node.timestamp=Date.now()),D},write:function(n,o,d,E){if(!n.tty||!n.tty.Xa.jb)throw new X(60);try{for(var D=0;D<E;D++)n.tty.Xa.jb(n.tty,o[d+D])}catch{throw new X(29)}return E&&(n.node.timestamp=Date.now()),D}},Ht={tb:function(n){if(!n.input.length){var o=null;if(g){var d=Buffer.alloc(256),E=0;try{E=I.readSync(process.stdin.fd,d,0,256,-1)}catch(D){if(D.toString().includes("EOF"))E=0;else throw D}0<E?o=d.slice(0,E).toString("utf-8"):o=null}else typeof window<"u"&&typeof window.prompt=="function"?(o=window.prompt("Input: "),o!==null&&(o+=`
`)):typeof readline=="function"&&(o=readline(),o!==null&&(o+=`
`));if(!o)return null;n.input=Ct(o,!0)}return n.input.shift()},jb:function(n,o){o===null||o===10?(P(T(n.output,0)),n.output=[]):o!=0&&n.output.push(o)},fsync:function(n){n.output&&0<n.output.length&&(P(T(n.output,0)),n.output=[])}},se={jb:function(n,o){o===null||o===10?(j(T(n.output,0)),n.output=[]):o!=0&&n.output.push(o)},fsync:function(n){n.output&&0<n.output.length&&(j(T(n.output,0)),n.output=[])}},kt={Qa:null,Ra:function(){return kt.createNode(null,"/",16895,0)},createNode:function(n,o,d,E){if((d&61440)===24576||(d&61440)===4096)throw new X(63);return kt.Qa||(kt.Qa={dir:{node:{Pa:kt.Ga.Pa,Oa:kt.Ga.Oa,lookup:kt.Ga.lookup,ab:kt.Ga.ab,rename:kt.Ga.rename,unlink:kt.Ga.unlink,rmdir:kt.Ga.rmdir,readdir:kt.Ga.readdir,symlink:kt.Ga.symlink},stream:{Ta:kt.Ha.Ta}},file:{node:{Pa:kt.Ga.Pa,Oa:kt.Ga.Oa},stream:{Ta:kt.Ha.Ta,read:kt.Ha.read,write:kt.Ha.write,lb:kt.Ha.lb,bb:kt.Ha.bb,cb:kt.Ha.cb}},link:{node:{Pa:kt.Ga.Pa,Oa:kt.Ga.Oa,readlink:kt.Ga.readlink},stream:{}},pb:{node:{Pa:kt.Ga.Pa,Oa:kt.Ga.Oa},stream:Qs}}),d=Va(n,o,d,E),(d.mode&61440)===16384?(d.Ga=kt.Qa.dir.node,d.Ha=kt.Qa.dir.stream,d.Ia={}):(d.mode&61440)===32768?(d.Ga=kt.Qa.file.node,d.Ha=kt.Qa.file.stream,d.Ma=0,d.Ia=null):(d.mode&61440)===40960?(d.Ga=kt.Qa.link.node,d.Ha=kt.Qa.link.stream):(d.mode&61440)===8192&&(d.Ga=kt.Qa.pb.node,d.Ha=kt.Qa.pb.stream),d.timestamp=Date.now(),n&&(n.Ia[o]=d,n.timestamp=d.timestamp),d},Jb:function(n){return n.Ia?n.Ia.subarray?n.Ia.subarray(0,n.Ma):new Uint8Array(n.Ia):new Uint8Array(0)},qb:function(n,o){var d=n.Ia?n.Ia.length:0;d>=o||(o=Math.max(o,d*(1048576>d?2:1.125)>>>0),d!=0&&(o=Math.max(o,256)),d=n.Ia,n.Ia=new Uint8Array(o),0<n.Ma&&n.Ia.set(d.subarray(0,n.Ma),0))},Gb:function(n,o){if(n.Ma!=o)if(o==0)n.Ia=null,n.Ma=0;else{var d=n.Ia;n.Ia=new Uint8Array(o),d&&n.Ia.set(d.subarray(0,Math.min(o,n.Ma))),n.Ma=o}},Ga:{Pa:function(n){var o={};return o.dev=(n.mode&61440)===8192?n.id:1,o.ino=n.id,o.mode=n.mode,o.nlink=1,o.uid=0,o.gid=0,o.rdev=n.rdev,(n.mode&61440)===16384?o.size=4096:(n.mode&61440)===32768?o.size=n.Ma:(n.mode&61440)===40960?o.size=n.link.length:o.size=0,o.atime=new Date(n.timestamp),o.mtime=new Date(n.timestamp),o.ctime=new Date(n.timestamp),o.Ab=4096,o.blocks=Math.ceil(o.size/o.Ab),o},Oa:function(n,o){o.mode!==void 0&&(n.mode=o.mode),o.timestamp!==void 0&&(n.timestamp=o.timestamp),o.size!==void 0&&kt.Gb(n,o.size)},lookup:function(){throw De[44]},ab:function(n,o,d,E){return kt.createNode(n,o,d,E)},rename:function(n,o,d){if((n.mode&61440)===16384){try{var E=sr(o,d)}catch{}if(E)for(var D in E.Ia)throw new X(55)}delete n.parent.Ia[n.name],n.parent.timestamp=Date.now(),n.name=d,o.Ia[d]=n,o.timestamp=n.parent.timestamp,n.parent=o},unlink:function(n,o){delete n.Ia[o],n.timestamp=Date.now()},rmdir:function(n,o){var d=sr(n,o),E;for(E in d.Ia)throw new X(55);delete n.Ia[o],n.timestamp=Date.now()},readdir:function(n){var o=[".",".."],d;for(d in n.Ia)n.Ia.hasOwnProperty(d)&&o.push(d);return o},symlink:function(n,o,d){return n=kt.createNode(n,o,41471,0),n.link=d,n},readlink:function(n){if((n.mode&61440)!==40960)throw new X(28);return n.link}},Ha:{read:function(n,o,d,E,D){var W=n.node.Ia;if(D>=n.node.Ma)return 0;if(n=Math.min(n.node.Ma-D,E),8<n&&W.subarray)o.set(W.subarray(D,D+n),d);else for(E=0;E<n;E++)o[d+E]=W[D+E];return n},write:function(n,o,d,E,D,W){if(o.buffer===H.buffer&&(W=!1),!E)return 0;if(n=n.node,n.timestamp=Date.now(),o.subarray&&(!n.Ia||n.Ia.subarray)){if(W)return n.Ia=o.subarray(d,d+E),n.Ma=E;if(n.Ma===0&&D===0)return n.Ia=o.slice(d,d+E),n.Ma=E;if(D+E<=n.Ma)return n.Ia.set(o.subarray(d,d+E),D),E}if(kt.qb(n,D+E),n.Ia.subarray&&o.subarray)n.Ia.set(o.subarray(d,d+E),D);else for(W=0;W<E;W++)n.Ia[D+W]=o[d+W];return n.Ma=Math.max(n.Ma,D+E),E},Ta:function(n,o,d){if(d===1?o+=n.position:d===2&&(n.node.mode&61440)===32768&&(o+=n.node.Ma),0>o)throw new X(28);return o},lb:function(n,o,d){kt.qb(n.node,o+d),n.node.Ma=Math.max(n.node.Ma,o+d)},bb:function(n,o,d,E,D){if((n.node.mode&61440)!==32768)throw new X(43);if(n=n.node.Ia,D&2||n.buffer!==lt){if((0<d||d+o<n.length)&&(n.subarray?n=n.subarray(d,d+o):n=Array.prototype.slice.call(n,d,d+o)),d=!0,o=65536*Math.ceil(o/65536),(D=_i(65536,o))?(ht.fill(0,D,D+o),o=D):o=0,!o)throw new X(48);H.set(n,o)}else d=!1,o=n.byteOffset;return{Fb:o,vb:d}},cb:function(n,o,d,E,D){if((n.node.mode&61440)!==32768)throw new X(43);return D&2||kt.Ha.write(n,o,0,E,d,!1),0}}},te=null,Ke={},pe=[],Ur=1,ve=null,Ze=!0,X=null,De={},ae=(n,o={})=>{if(n=wt("/",n),!n)return{path:"",node:null};if(o=Object.assign({rb:!0,kb:0},o),8<o.kb)throw new X(32);n=Q(n.split("/").filter(tt=>!!tt),!1);for(var d=te,E="/",D=0;D<n.length;D++){var W=D===n.length-1;if(W&&o.parent)break;if(d=sr(d,n[D]),E=ut(E+"/"+n[D]),d.Va&&(!W||W&&o.rb)&&(d=d.Va.root),!W||o.Sa){for(W=0;(d.mode&61440)===40960;)if(d=ai(E),E=wt(ot(E),d),d=ae(E,{kb:o.kb+1}).node,40<W++)throw new X(32)}}return{path:E,node:d}},$e=n=>{for(var o;;){if(n===n.parent)return n=n.Ra.ub,o?n[n.length-1]!=="/"?n+"/"+o:n+o:n;o=o?n.name+"/"+o:n.name,n=n.parent}},jr=(n,o)=>{for(var d=0,E=0;E<o.length;E++)d=(d<<5)-d+o.charCodeAt(E)|0;return(n+d>>>0)%ve.length},Ja=n=>{var o=jr(n.parent.id,n.name);if(ve[o]===n)ve[o]=n.Wa;else for(o=ve[o];o;){if(o.Wa===n){o.Wa=n.Wa;break}o=o.Wa}},sr=(n,o)=>{var d;if(d=(d=Sr(n,"x"))?d:n.Ga.lookup?0:2)throw new X(d,n);for(d=ve[jr(n.id,o)];d;d=d.Wa){var E=d.name;if(d.parent.id===n.id&&E===o)return d}return n.Ga.lookup(n,o)},Va=(n,o,d,E)=>(n=new mi(n,o,d,E),o=jr(n.parent.id,n.name),n.Wa=ve[o],ve[o]=n),Ys={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090},Ya=n=>{var o=["r","w","rw"][n&3];return n&512&&(o+="w"),o},Sr=(n,o)=>{if(Ze)return 0;if(!o.includes("r")||n.mode&292){if(o.includes("w")&&!(n.mode&146)||o.includes("x")&&!(n.mode&73))return 2}else return 2;return 0},Xa=(n,o)=>{try{return sr(n,o),20}catch{}return Sr(n,"wx")},Qa=(n,o,d)=>{try{var E=sr(n,o)}catch(D){return D.Ka}if(n=Sr(n,"wx"))return n;if(d){if((E.mode&61440)!==16384)return 54;if(E===E.parent||$e(E)==="/")return 10}else if((E.mode&61440)===16384)return 31;return 0},Xs=(n=0)=>{for(;4096>=n;n++)if(!pe[n])return n;throw new X(33)},ti=(n,o)=>(Hr||(Hr=function(){this.$a={}},Hr.prototype={},Object.defineProperties(Hr.prototype,{object:{get:function(){return this.node},set:function(d){this.node=d}},flags:{get:function(){return this.$a.flags},set:function(d){this.$a.flags=d}},position:{get:function(){return this.$a.position},set:function(d){this.$a.position=d}}})),n=Object.assign(new Hr,n),o=Xs(o),n.fd=o,pe[o]=n),Qs={open:n=>{n.Ha=Ke[n.node.rdev].Ha,n.Ha.open&&n.Ha.open(n)},Ta:()=>{throw new X(70)}},ea=(n,o)=>{Ke[n]={Ha:o}},ei=(n,o)=>{var d=o==="/",E=!o;if(d&&te)throw new X(10);if(!d&&!E){var D=ae(o,{rb:!1});if(o=D.path,D=D.node,D.Va)throw new X(10);if((D.mode&61440)!==16384)throw new X(54)}o={type:n,Kb:{},ub:o,Eb:[]},n=n.Ra(o),n.Ra=o,o.root=n,d?te=n:D&&(D.Va=o,D.Ra&&D.Ra.Eb.push(o))},yn=(n,o,d)=>{var E=ae(n,{parent:!0}).node;if(n=dt(n),!n||n==="."||n==="..")throw new X(28);var D=Xa(E,n);if(D)throw new X(D);if(!E.Ga.ab)throw new X(63);return E.Ga.ab(E,n,o,d)},Oe=(n,o)=>yn(n,(o!==void 0?o:511)&1023|16384,0),wn=(n,o,d)=>{typeof d>"u"&&(d=o,o=438),yn(n,o|8192,d)},ra=(n,o)=>{if(!wt(n))throw new X(44);var d=ae(o,{parent:!0}).node;if(!d)throw new X(44);o=dt(o);var E=Xa(d,o);if(E)throw new X(E);if(!d.Ga.symlink)throw new X(63);d.Ga.symlink(d,o,n)},ri=n=>{var o=ae(n,{parent:!0}).node;n=dt(n);var d=sr(o,n),E=Qa(o,n,!0);if(E)throw new X(E);if(!o.Ga.rmdir)throw new X(63);if(d.Va)throw new X(10);o.Ga.rmdir(o,n),Ja(d)},ni=n=>{var o=ae(n,{parent:!0}).node;if(!o)throw new X(44);n=dt(n);var d=sr(o,n),E=Qa(o,n,!1);if(E)throw new X(E);if(!o.Ga.unlink)throw new X(63);if(d.Va)throw new X(10);o.Ga.unlink(o,n),Ja(d)},ai=n=>{if(n=ae(n).node,!n)throw new X(44);if(!n.Ga.readlink)throw new X(28);return wt($e(n.parent),n.Ga.readlink(n))},qr=(n,o)=>{if(n=ae(n,{Sa:!o}).node,!n)throw new X(44);if(!n.Ga.Pa)throw new X(63);return n.Ga.Pa(n)},ii=n=>qr(n,!0),bn=(n,o)=>{if(n=typeof n=="string"?ae(n,{Sa:!0}).node:n,!n.Ga.Oa)throw new X(63);n.Ga.Oa(n,{mode:o&4095|n.mode&-4096,timestamp:Date.now()})},si=(n,o)=>{if(0>o)throw new X(28);if(n=typeof n=="string"?ae(n,{Sa:!0}).node:n,!n.Ga.Oa)throw new X(63);if((n.mode&61440)===16384)throw new X(31);if((n.mode&61440)!==32768)throw new X(28);var d=Sr(n,"w");if(d)throw new X(d);n.Ga.Oa(n,{size:o,timestamp:Date.now()})},Er=(n,o,d)=>{if(n==="")throw new X(44);if(typeof o=="string"){var E=Ys[o];if(typeof E>"u")throw Error("Unknown file open mode: "+o);o=E}if(d=o&64?(typeof d>"u"?438:d)&4095|32768:0,typeof n=="object")var D=n;else{n=ut(n);try{D=ae(n,{Sa:!(o&131072)}).node}catch{}}if(E=!1,o&64)if(D){if(o&128)throw new X(20)}else D=yn(n,d,0),E=!0;if(!D)throw new X(44);if((D.mode&61440)===8192&&(o&=-513),o&65536&&(D.mode&61440)!==16384)throw new X(54);if(!E&&(d=D?(D.mode&61440)===40960?32:(D.mode&61440)===16384&&(Ya(o)!=="r"||o&512)?31:Sr(D,Ya(o)):44))throw new X(d);return o&512&&!E&&si(D,0),o&=-131713,D=ti({node:D,path:$e(D),flags:o,seekable:!0,position:0,Ha:D.Ha,Ib:[],error:!1}),D.Ha.open&&D.Ha.open(D),!s.logReadFiles||o&1||(kn||(kn={}),n in kn||(kn[n]=1)),D},na=n=>{if(n.fd===null)throw new X(8);n.hb&&(n.hb=null);try{n.Ha.close&&n.Ha.close(n)}catch(o){throw o}finally{pe[n.fd]=null}n.fd=null},oi=(n,o,d)=>{if(n.fd===null)throw new X(8);if(!n.seekable||!n.Ha.Ta)throw new X(70);if(d!=0&&d!=1&&d!=2)throw new X(28);n.position=n.Ha.Ta(n,o,d),n.Ib=[]},li=(n,o,d,E,D)=>{if(0>E||0>D)throw new X(28);if(n.fd===null)throw new X(8);if((n.flags&2097155)===1)throw new X(8);if((n.node.mode&61440)===16384)throw new X(31);if(!n.Ha.read)throw new X(28);var W=typeof D<"u";if(!W)D=n.position;else if(!n.seekable)throw new X(70);return o=n.Ha.read(n,o,d,E,D),W||(n.position+=o),o},ui=(n,o,d,E,D)=>{if(0>E||0>D)throw new X(28);if(n.fd===null)throw new X(8);if((n.flags&2097155)===0)throw new X(8);if((n.node.mode&61440)===16384)throw new X(31);if(!n.Ha.write)throw new X(28);n.seekable&&n.flags&1024&&oi(n,0,2);var W=typeof D<"u";if(!W)D=n.position;else if(!n.seekable)throw new X(70);return o=n.Ha.write(n,o,d,E,D,void 0),W||(n.position+=o),o},to=n=>{var o,d=Er(n,d||0);n=qr(n).size;var E=new Uint8Array(n);return li(d,E,0,n,0),o=E,na(d),o},ci=()=>{X||(X=function(n,o){this.node=o,this.Hb=function(d){this.Ka=d},this.Hb(n),this.message="FS error"},X.prototype=Error(),X.prototype.constructor=X,[44].forEach(n=>{De[n]=new X(n),De[n].stack="<generic error, no stack>"}))},fi,di=(n,o)=>{var d=0;return n&&(d|=365),o&&(d|=146),d},Gr=(n,o,d)=>{n=ut("/dev/"+n);var E=di(!!o,!!d);aa||(aa=64);var D=aa++<<8|0;ea(D,{open:W=>{W.seekable=!1},close:()=>{d&&d.buffer&&d.buffer.length&&d(10)},read:(W,tt,Et,Lt)=>{for(var Rt=0,Jt=0;Jt<Lt;Jt++){try{var Me=o()}catch{throw new X(29)}if(Me===void 0&&Rt===0)throw new X(6);if(Me==null)break;Rt++,tt[Et+Jt]=Me}return Rt&&(W.node.timestamp=Date.now()),Rt},write:(W,tt,Et,Lt)=>{for(var Rt=0;Rt<Lt;Rt++)try{d(tt[Et+Rt])}catch{throw new X(29)}return Lt&&(W.node.timestamp=Date.now()),Rt}}),wn(n,E,D)},aa,Wt={},Hr,kn;function or(n,o,d){if(o.charAt(0)==="/")return o;if(n=n===-100?"/":Ee(n).path,o.length==0){if(!d)throw new X(44);return n}return ut(n+"/"+o)}function xn(n,o,d){try{var E=n(o)}catch(D){if(D&&D.node&&ut(o)!==ut($e(D.node)))return-54;throw D}return rt[d>>2]=E.dev,rt[d+8>>2]=E.ino,rt[d+12>>2]=E.mode,L[d+16>>2]=E.nlink,rt[d+20>>2]=E.uid,rt[d+24>>2]=E.gid,rt[d+28>>2]=E.rdev,O=[E.size>>>0,(w=E.size,1<=+Math.abs(w)?0<w?(Math.min(+Math.floor(w/4294967296),4294967295)|0)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],rt[d+40>>2]=O[0],rt[d+44>>2]=O[1],rt[d+48>>2]=4096,rt[d+52>>2]=E.blocks,O=[Math.floor(E.atime.getTime()/1e3)>>>0,(w=Math.floor(E.atime.getTime()/1e3),1<=+Math.abs(w)?0<w?(Math.min(+Math.floor(w/4294967296),4294967295)|0)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],rt[d+56>>2]=O[0],rt[d+60>>2]=O[1],L[d+64>>2]=0,O=[Math.floor(E.mtime.getTime()/1e3)>>>0,(w=Math.floor(E.mtime.getTime()/1e3),1<=+Math.abs(w)?0<w?(Math.min(+Math.floor(w/4294967296),4294967295)|0)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],rt[d+72>>2]=O[0],rt[d+76>>2]=O[1],L[d+80>>2]=0,O=[Math.floor(E.ctime.getTime()/1e3)>>>0,(w=Math.floor(E.ctime.getTime()/1e3),1<=+Math.abs(w)?0<w?(Math.min(+Math.floor(w/4294967296),4294967295)|0)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],rt[d+88>>2]=O[0],rt[d+92>>2]=O[1],L[d+96>>2]=0,O=[E.ino>>>0,(w=E.ino,1<=+Math.abs(w)?0<w?(Math.min(+Math.floor(w/4294967296),4294967295)|0)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],rt[d+104>>2]=O[0],rt[d+108>>2]=O[1],0}var Sn=void 0;function En(){return Sn+=4,rt[Sn-4>>2]}function Ee(n){if(n=pe[n],!n)throw new X(8);return n}function ia(n){return L[n>>2]+4294967296*rt[n+4>>2]}function hi(n){var o=B(n)+1,d=An(o);return d&&h(n,H,d,o),d}function eo(n,o,d){function E(Lt){return(Lt=Lt.toTimeString().match(/\(([A-Za-z ]+)\)$/))?Lt[1]:"GMT"}var D=new Date().getFullYear(),W=new Date(D,0,1),tt=new Date(D,6,1);D=W.getTimezoneOffset();var Et=tt.getTimezoneOffset();rt[n>>2]=60*Math.max(D,Et),rt[o>>2]=+(D!=Et),n=E(W),o=E(tt),n=hi(n),o=hi(o),Et<D?(L[d>>2]=n,L[d+4>>2]=o):(L[d>>2]=o,L[d+4>>2]=n)}function sa(n,o,d){sa.Bb||(sa.Bb=!0,eo(n,o,d))}var pi;pi=g?()=>{var n=process.hrtime();return 1e3*n[0]+n[1]/1e6}:()=>performance.now();var oa={};function vi(){if(!la){var n={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:y||"./this.program"},o;for(o in oa)oa[o]===void 0?delete n[o]:n[o]=oa[o];var d=[];for(o in n)d.push(o+"="+n[o]);la=d}return la}var la,Je=void 0,ua=[];function ca(n,o){if(!Je){Je=new WeakMap;var d=at.length;if(Je)for(var E=0;E<0+d;E++){var D=at.get(E);D&&Je.set(D,E)}}if(Je.has(n))return Je.get(n);if(ua.length)d=ua.pop();else{try{at.grow(1)}catch(Et){throw Et instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":Et}d=at.length-1}try{at.set(d,n)}catch(Et){if(!(Et instanceof TypeError))throw Et;if(typeof WebAssembly.Function=="function"){E=WebAssembly.Function,D={i:"i32",j:"i64",f:"f32",d:"f64",p:"i32"};for(var W={parameters:[],results:o[0]=="v"?[]:[D[o[0]]]},tt=1;tt<o.length;++tt)W.parameters.push(D[o[tt]]);o=new E(W,n)}else{for(E=[1,96],D=o.slice(0,1),o=o.slice(1),W={i:127,p:127,j:126,f:125,d:124},tt=o.length,128>tt?E.push(tt):E.push(tt%128|128,tt>>7),tt=0;tt<o.length;++tt)E.push(W[o[tt]]);D=="v"?E.push(0):E.push(1,W[D]),o=[0,97,115,109,1,0,0,0,1],D=E.length,128>D?o.push(D):o.push(D%128|128,D>>7),o.push.apply(o,E),o.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0),o=new WebAssembly.Module(new Uint8Array(o)),o=new WebAssembly.Instance(o,{e:{f:n}}).exports.f}at.set(d,o)}return Je.set(n,d),d}function Wr(n){Je.delete(at.get(n)),ua.push(n)}function fa(n){var o=An(n.length);return n.subarray||n.slice||(n=new Uint8Array(n)),ht.set(n,o),o}function ro(n,o,d,E){var D={string:Rt=>{var Jt=0;if(Rt!=null&&Rt!==0){var Me=(Rt.length<<2)+1;Jt=Ve(Me),h(Rt,ht,Jt,Me)}return Jt},array:Rt=>{var Jt=Ve(Rt.length);return H.set(Rt,Jt),Jt}};n=s["_"+n];var W=[],tt=0;if(E)for(var Et=0;Et<E.length;Et++){var Lt=D[d[Et]];Lt?(tt===0&&(tt=Kr()),W[Et]=Lt(E[Et])):W[Et]=E[Et]}return d=n.apply(null,W),d=(function(Rt){return tt!==0&&Zr(tt),o==="string"?U(Rt):o==="boolean"?!!Rt:Rt})(d)}function mi(n,o,d,E){n||(n=this),this.parent=n,this.Ra=n.Ra,this.Va=null,this.id=Ur++,this.name=o,this.mode=d,this.Ga={},this.Ha={},this.rdev=E}Object.defineProperties(mi.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(n){n?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(n){n?this.mode|=146:this.mode&=-147}}}),ci(),ve=Array(4096),ei(kt,"/"),Oe("/tmp"),Oe("/home"),Oe("/home/web_user"),(()=>{Oe("/dev"),ea(259,{read:()=>0,write:(o,d,E,D)=>D}),wn("/dev/null",259),Ut(1280,Ht),Ut(1536,se),wn("/dev/tty",1280),wn("/dev/tty1",1536);var n=It();Gr("random",n),Gr("urandom",n),Oe("/dev/shm"),Oe("/dev/shm/tmp")})(),(()=>{Oe("/proc");var n=Oe("/proc/self");Oe("/proc/self/fd"),ei({Ra:()=>{var o=Va(n,"fd",16895,73);return o.Ga={lookup:(d,E)=>{var D=pe[+E];if(!D)throw new X(8);return d={parent:null,Ra:{ub:"fake"},Ga:{readlink:()=>D.path}},d.parent=d}},o}},"/proc/self/fd")})();var no={a:function(n,o,d,E){At("Assertion failed: "+U(n)+", at: "+[o?U(o):"unknown filename",d,E?U(E):"unknown function"])},h:function(n,o){try{return n=U(n),bn(n,o),0}catch(d){if(typeof Wt>"u"||!(d instanceof X))throw d;return-d.Ka}},H:function(n,o,d){try{if(o=U(o),o=or(n,o),d&-8)return-28;var E=ae(o,{Sa:!0}).node;return E?(n="",d&4&&(n+="r"),d&2&&(n+="w"),d&1&&(n+="x"),n&&Sr(E,n)?-2:0):-44}catch(D){if(typeof Wt>"u"||!(D instanceof X))throw D;return-D.Ka}},i:function(n,o){try{var d=pe[n];if(!d)throw new X(8);return bn(d.node,o),0}catch(E){if(typeof Wt>"u"||!(E instanceof X))throw E;return-E.Ka}},g:function(n){try{var o=pe[n];if(!o)throw new X(8);var d=o.node,E=typeof d=="string"?ae(d,{Sa:!0}).node:d;if(!E.Ga.Oa)throw new X(63);return E.Ga.Oa(E,{timestamp:Date.now()}),0}catch(D){if(typeof Wt>"u"||!(D instanceof X))throw D;return-D.Ka}},b:function(n,o,d){Sn=d;try{var E=Ee(n);switch(o){case 0:var D=En();return 0>D?-28:ti(E,D).fd;case 1:case 2:return 0;case 3:return E.flags;case 4:return D=En(),E.flags|=D,0;case 5:return D=En(),Z[D+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return rt[gi()>>2]=28,-1;default:return-28}}catch(W){if(typeof Wt>"u"||!(W instanceof X))throw W;return-W.Ka}},G:function(n,o){try{var d=Ee(n);return xn(qr,d.path,o)}catch(E){if(typeof Wt>"u"||!(E instanceof X))throw E;return-E.Ka}},l:function(n,o,d){try{if(o=d+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*d:NaN,isNaN(o))return-61;var E=pe[n];if(!E)throw new X(8);if((E.flags&2097155)===0)throw new X(28);return si(E.node,o),0}catch(D){if(typeof Wt>"u"||!(D instanceof X))throw D;return-D.Ka}},B:function(n,o){try{if(o===0)return-28;var d=B("/")+1;return o<d?-68:(h("/",ht,n,o),d)}catch(E){if(typeof Wt>"u"||!(E instanceof X))throw E;return-E.Ka}},E:function(n,o){try{return n=U(n),xn(ii,n,o)}catch(d){if(typeof Wt>"u"||!(d instanceof X))throw d;return-d.Ka}},y:function(n,o,d){try{return o=U(o),o=or(n,o),o=ut(o),o[o.length-1]==="/"&&(o=o.substr(0,o.length-1)),Oe(o,d),0}catch(E){if(typeof Wt>"u"||!(E instanceof X))throw E;return-E.Ka}},D:function(n,o,d,E){try{o=U(o);var D=E&256;return o=or(n,o,E&4096),xn(D?ii:qr,o,d)}catch(W){if(typeof Wt>"u"||!(W instanceof X))throw W;return-W.Ka}},v:function(n,o,d,E){Sn=E;try{o=U(o),o=or(n,o);var D=E?En():0;return Er(o,d,D).fd}catch(W){if(typeof Wt>"u"||!(W instanceof X))throw W;return-W.Ka}},t:function(n,o,d,E){try{if(o=U(o),o=or(n,o),0>=E)return-28;var D=ai(o),W=Math.min(E,B(D)),tt=H[d+W];return h(D,ht,d,E+1),H[d+W]=tt,W}catch(Et){if(typeof Wt>"u"||!(Et instanceof X))throw Et;return-Et.Ka}},s:function(n){try{return n=U(n),ri(n),0}catch(o){if(typeof Wt>"u"||!(o instanceof X))throw o;return-o.Ka}},F:function(n,o){try{return n=U(n),xn(qr,n,o)}catch(d){if(typeof Wt>"u"||!(d instanceof X))throw d;return-d.Ka}},p:function(n,o,d){try{return o=U(o),o=or(n,o),d===0?ni(o):d===512?ri(o):At("Invalid flags passed to unlinkat"),0}catch(E){if(typeof Wt>"u"||!(E instanceof X))throw E;return-E.Ka}},o:function(n,o,d){try{if(o=U(o),o=or(n,o,!0),d){var E=ia(d),D=rt[d+8>>2];W=1e3*E+D/1e6,d+=16,E=ia(d),D=rt[d+8>>2],tt=1e3*E+D/1e6}else var W=Date.now(),tt=W;n=W;var Et=ae(o,{Sa:!0}).node;return Et.Ga.Oa(Et,{timestamp:Math.max(n,tt)}),0}catch(Lt){if(typeof Wt>"u"||!(Lt instanceof X))throw Lt;return-Lt.Ka}},e:function(){return Date.now()},j:function(n,o){n=new Date(1e3*ia(n)),rt[o>>2]=n.getSeconds(),rt[o+4>>2]=n.getMinutes(),rt[o+8>>2]=n.getHours(),rt[o+12>>2]=n.getDate(),rt[o+16>>2]=n.getMonth(),rt[o+20>>2]=n.getFullYear()-1900,rt[o+24>>2]=n.getDay();var d=new Date(n.getFullYear(),0,1);rt[o+28>>2]=(n.getTime()-d.getTime())/864e5|0,rt[o+36>>2]=-(60*n.getTimezoneOffset());var E=new Date(n.getFullYear(),6,1).getTimezoneOffset();d=d.getTimezoneOffset(),rt[o+32>>2]=(E!=d&&n.getTimezoneOffset()==Math.min(d,E))|0},w:function(n,o,d,E,D,W){try{var tt=Ee(E);if((o&2)!==0&&(d&2)===0&&(tt.flags&2097155)!==2)throw new X(2);if((tt.flags&2097155)===1)throw new X(2);if(!tt.Ha.bb)throw new X(43);var Et=tt.Ha.bb(tt,n,D,o,d),Lt=Et.Fb;return rt[W>>2]=Et.vb,Lt}catch(Rt){if(typeof Wt>"u"||!(Rt instanceof X))throw Rt;return-Rt.Ka}},x:function(n,o,d,E,D,W){try{var tt=Ee(D);if(d&2){var Et=ht.slice(n,n+o);tt&&tt.Ha.cb&&tt.Ha.cb(tt,Et,W,o,E)}}catch(Lt){if(typeof Wt>"u"||!(Lt instanceof X))throw Lt;return-Lt.Ka}},n:sa,q:function(){return 2147483648},d:pi,c:function(n){var o=ht.length;if(n>>>=0,2147483648<n)return!1;for(var d=1;4>=d;d*=2){var E=o*(1+.2/d);E=Math.min(E,n+100663296);var D=Math;E=Math.max(n,E),D=D.min.call(D,2147483648,E+(65536-E%65536)%65536);t:{try{z.grow(D-lt.byteLength+65535>>>16),nt();var W=1;break t}catch{}W=void 0}if(W)return!0}return!1},z:function(n,o){var d=0;return vi().forEach(function(E,D){var W=o+d;for(D=L[n+4*D>>2]=W,W=0;W<E.length;++W)H[D++>>0]=E.charCodeAt(W);H[D>>0]=0,d+=E.length+1}),0},A:function(n,o){var d=vi();L[n>>2]=d.length;var E=0;return d.forEach(function(D){E+=D.length+1}),L[o>>2]=E,0},f:function(n){try{var o=Ee(n);return na(o),0}catch(d){if(typeof Wt>"u"||!(d instanceof X))throw d;return d.Ka}},m:function(n,o){try{var d=Ee(n);return H[o>>0]=d.tty?2:(d.mode&61440)===16384?3:(d.mode&61440)===40960?7:4,0}catch(E){if(typeof Wt>"u"||!(E instanceof X))throw E;return E.Ka}},u:function(n,o,d,E){try{t:{var D=Ee(n);n=o;for(var W=o=0;W<d;W++){var tt=L[n>>2],Et=L[n+4>>2];n+=8;var Lt=li(D,H,tt,Et);if(0>Lt){var Rt=-1;break t}if(o+=Lt,Lt<Et)break}Rt=o}return L[E>>2]=Rt,0}catch(Jt){if(typeof Wt>"u"||!(Jt instanceof X))throw Jt;return Jt.Ka}},k:function(n,o,d,E,D){try{if(o=d+2097152>>>0<4194305-!!o?(o>>>0)+4294967296*d:NaN,isNaN(o))return 61;var W=Ee(n);return oi(W,o,E),O=[W.position>>>0,(w=W.position,1<=+Math.abs(w)?0<w?(Math.min(+Math.floor(w/4294967296),4294967295)|0)>>>0:~~+Math.ceil((w-+(~~w>>>0))/4294967296)>>>0:0)],rt[D>>2]=O[0],rt[D+4>>2]=O[1],W.hb&&o===0&&E===0&&(W.hb=null),0}catch(tt){if(typeof Wt>"u"||!(tt instanceof X))throw tt;return tt.Ka}},C:function(n){try{var o=Ee(n);return o.Ha&&o.Ha.fsync?o.Ha.fsync(o):0}catch(d){if(typeof Wt>"u"||!(d instanceof X))throw d;return d.Ka}},r:function(n,o,d,E){try{t:{var D=Ee(n);n=o;for(var W=o=0;W<d;W++){var tt=L[n>>2],Et=L[n+4>>2];n+=8;var Lt=ui(D,H,tt,Et);if(0>Lt){var Rt=-1;break t}o+=Lt}Rt=o}return L[E>>2]=Rt,0}catch(Jt){if(typeof Wt>"u"||!(Jt instanceof X))throw Jt;return Jt.Ka}}};(function(){function n(D){s.asm=D.exports,z=s.asm.I,nt(),at=s.asm.Aa,_t.unshift(s.asm.J),yt--,s.monitorRunDependencies&&s.monitorRunDependencies(yt),yt==0&&bt&&(D=bt,bt=null,D())}function o(D){n(D.instance)}function d(D){return A().then(function(W){return WebAssembly.instantiate(W,E)}).then(function(W){return W}).then(D,function(W){j("failed to asynchronously prepare wasm: "+W),At(W)})}var E={a:no};if(yt++,s.monitorRunDependencies&&s.monitorRunDependencies(yt),s.instantiateWasm)try{return s.instantiateWasm(E,n)}catch(D){return j("Module.instantiateWasm callback failed with error: "+D),!1}return(function(){return $||typeof WebAssembly.instantiateStreaming!="function"||Pt()||f.startsWith("file://")||g||typeof fetch!="function"?d(o):fetch(f,{credentials:"same-origin"}).then(function(D){return WebAssembly.instantiateStreaming(D,E).then(o,function(W){return j("wasm streaming compile failed: "+W),j("falling back to ArrayBuffer instantiation"),d(o)})})})(),{}})(),s.___wasm_call_ctors=function(){return(s.___wasm_call_ctors=s.asm.J).apply(null,arguments)},s._sqlite3_free=function(){return(s._sqlite3_free=s.asm.K).apply(null,arguments)},s._sqlite3_value_double=function(){return(s._sqlite3_value_double=s.asm.L).apply(null,arguments)},s._sqlite3_value_text=function(){return(s._sqlite3_value_text=s.asm.M).apply(null,arguments)};var gi=s.___errno_location=function(){return(gi=s.___errno_location=s.asm.N).apply(null,arguments)};s._sqlite3_prepare_v2=function(){return(s._sqlite3_prepare_v2=s.asm.O).apply(null,arguments)},s._sqlite3_step=function(){return(s._sqlite3_step=s.asm.P).apply(null,arguments)},s._sqlite3_finalize=function(){return(s._sqlite3_finalize=s.asm.Q).apply(null,arguments)},s._sqlite3_reset=function(){return(s._sqlite3_reset=s.asm.R).apply(null,arguments)},s._sqlite3_value_int=function(){return(s._sqlite3_value_int=s.asm.S).apply(null,arguments)},s._sqlite3_clear_bindings=function(){return(s._sqlite3_clear_bindings=s.asm.T).apply(null,arguments)},s._sqlite3_value_blob=function(){return(s._sqlite3_value_blob=s.asm.U).apply(null,arguments)},s._sqlite3_value_bytes=function(){return(s._sqlite3_value_bytes=s.asm.V).apply(null,arguments)},s._sqlite3_value_type=function(){return(s._sqlite3_value_type=s.asm.W).apply(null,arguments)},s._sqlite3_result_blob=function(){return(s._sqlite3_result_blob=s.asm.X).apply(null,arguments)},s._sqlite3_result_double=function(){return(s._sqlite3_result_double=s.asm.Y).apply(null,arguments)},s._sqlite3_result_error=function(){return(s._sqlite3_result_error=s.asm.Z).apply(null,arguments)},s._sqlite3_result_int=function(){return(s._sqlite3_result_int=s.asm._).apply(null,arguments)},s._sqlite3_result_int64=function(){return(s._sqlite3_result_int64=s.asm.$).apply(null,arguments)},s._sqlite3_result_null=function(){return(s._sqlite3_result_null=s.asm.aa).apply(null,arguments)},s._sqlite3_result_text=function(){return(s._sqlite3_result_text=s.asm.ba).apply(null,arguments)},s._sqlite3_sql=function(){return(s._sqlite3_sql=s.asm.ca).apply(null,arguments)},s._sqlite3_aggregate_context=function(){return(s._sqlite3_aggregate_context=s.asm.da).apply(null,arguments)},s._sqlite3_column_count=function(){return(s._sqlite3_column_count=s.asm.ea).apply(null,arguments)},s._sqlite3_data_count=function(){return(s._sqlite3_data_count=s.asm.fa).apply(null,arguments)},s._sqlite3_column_blob=function(){return(s._sqlite3_column_blob=s.asm.ga).apply(null,arguments)},s._sqlite3_column_bytes=function(){return(s._sqlite3_column_bytes=s.asm.ha).apply(null,arguments)},s._sqlite3_column_double=function(){return(s._sqlite3_column_double=s.asm.ia).apply(null,arguments)},s._sqlite3_column_text=function(){return(s._sqlite3_column_text=s.asm.ja).apply(null,arguments)},s._sqlite3_column_type=function(){return(s._sqlite3_column_type=s.asm.ka).apply(null,arguments)},s._sqlite3_column_name=function(){return(s._sqlite3_column_name=s.asm.la).apply(null,arguments)},s._sqlite3_bind_blob=function(){return(s._sqlite3_bind_blob=s.asm.ma).apply(null,arguments)},s._sqlite3_bind_double=function(){return(s._sqlite3_bind_double=s.asm.na).apply(null,arguments)},s._sqlite3_bind_int=function(){return(s._sqlite3_bind_int=s.asm.oa).apply(null,arguments)},s._sqlite3_bind_text=function(){return(s._sqlite3_bind_text=s.asm.pa).apply(null,arguments)},s._sqlite3_bind_parameter_index=function(){return(s._sqlite3_bind_parameter_index=s.asm.qa).apply(null,arguments)},s._sqlite3_normalized_sql=function(){return(s._sqlite3_normalized_sql=s.asm.ra).apply(null,arguments)},s._sqlite3_errmsg=function(){return(s._sqlite3_errmsg=s.asm.sa).apply(null,arguments)},s._sqlite3_exec=function(){return(s._sqlite3_exec=s.asm.ta).apply(null,arguments)},s._sqlite3_changes=function(){return(s._sqlite3_changes=s.asm.ua).apply(null,arguments)},s._sqlite3_close_v2=function(){return(s._sqlite3_close_v2=s.asm.va).apply(null,arguments)},s._sqlite3_create_function_v2=function(){return(s._sqlite3_create_function_v2=s.asm.wa).apply(null,arguments)},s._sqlite3_open=function(){return(s._sqlite3_open=s.asm.xa).apply(null,arguments)};var An=s._malloc=function(){return(An=s._malloc=s.asm.ya).apply(null,arguments)},In=s._free=function(){return(In=s._free=s.asm.za).apply(null,arguments)};s._RegisterExtensionFunctions=function(){return(s._RegisterExtensionFunctions=s.asm.Ba).apply(null,arguments)};var _i=s._emscripten_builtin_memalign=function(){return(_i=s._emscripten_builtin_memalign=s.asm.Ca).apply(null,arguments)},Kr=s.stackSave=function(){return(Kr=s.stackSave=s.asm.Da).apply(null,arguments)},Zr=s.stackRestore=function(){return(Zr=s.stackRestore=s.asm.Ea).apply(null,arguments)},Ve=s.stackAlloc=function(){return(Ve=s.stackAlloc=s.asm.Fa).apply(null,arguments)};s.UTF8ToString=U,s.stackAlloc=Ve,s.stackSave=Kr,s.stackRestore=Zr,s.cwrap=function(n,o,d,E){d=d||[];var D=d.every(W=>W==="number"||W==="boolean");return o!=="string"&&D&&!E?s["_"+n]:function(){return ro(n,o,d,arguments)}};var Tn;bt=function n(){Tn||yi(),Tn||(bt=n)};function yi(){function n(){if(!Tn&&(Tn=!0,s.calledRun=!0,!J)){if(s.noFSInit||fi||(fi=!0,ci(),s.stdin=s.stdin,s.stdout=s.stdout,s.stderr=s.stderr,s.stdin?Gr("stdin",s.stdin):ra("/dev/tty","/dev/stdin"),s.stdout?Gr("stdout",null,s.stdout):ra("/dev/tty","/dev/stdout"),s.stderr?Gr("stderr",null,s.stderr):ra("/dev/tty1","/dev/stderr"),Er("/dev/stdin",0),Er("/dev/stdout",1),Er("/dev/stderr",1)),Ze=!1,V(_t),s.onRuntimeInitialized&&s.onRuntimeInitialized(),s.postRun)for(typeof s.postRun=="function"&&(s.postRun=[s.postRun]);s.postRun.length;){var o=s.postRun.shift();pt.unshift(o)}V(pt)}}if(!(0<yt)){if(s.preRun)for(typeof s.preRun=="function"&&(s.preRun=[s.preRun]);s.preRun.length;)mt();V(gt),0<yt||(s.setStatus?(s.setStatus("Running..."),setTimeout(function(){setTimeout(function(){s.setStatus("")},1),n()},1)):n())}}if(s.preInit)for(typeof s.preInit=="function"&&(s.preInit=[s.preInit]);0<s.preInit.length;)s.preInit.pop()();return yi(),u}),t)};r.exports=i,r.exports.default=i})(xa)),xa.exports}var Fu=Ru();const Zs=Hs(Fu);class $s{async parseAPKG(e){try{console.log("APKG file size:",e.byteLength),console.log("First 16 bytes:",Array.from(new Uint8Array(e.slice(0,16))));const t=await Ws.loadAsync(e),i=t.file("collection.anki21b")||t.file("collection.anki2");if(!i)throw new Error("No collection file found in APKG");let a;if(i.name.endsWith(".anki21b")){const l=await i.async("uint8array");a=Du(l)}else a=await i.async("uint8array");return await this.parseSQLite(a)}catch(t){throw console.error("APKG parsing failed:",t),new Error(`Failed to parse APKG file: ${t instanceof Error?t.message:"Unknown error"}`)}}async parseSQLite(e){const t=new Date,i=[],a=[];try{console.log("Loading SQLite database with sql.js...");const l=await Zs({locateFile:_=>_.endsWith(".wasm")?`https://cdn.jsdelivr.net/npm/sql.js@1.8.0/dist/${_}`:_}),c=new l.Database(e);console.log("SQLite database loaded successfully");let u="Imported Deck";try{const _=c.exec("SELECT decks FROM col LIMIT 1");if(_.length>0&&_[0].values.length>0){const y=_[0].values[0][0];if(y)try{const b=JSON.parse(y),m=Object.keys(b);if(m.length>0){const g=b[m[0]];g&&g.name&&(u=g.name)}}catch(b){console.warn("Could not parse decks JSON:",b)}}}catch(_){console.warn("Could not read col table:",_)}console.log(`Deck name: ${u}`);try{const _=c.exec("SELECT n.flds FROM notes n");if(_.length>0){const y=_[0].values;console.log(`Found ${y.length} notes`);for(const b of y){const m=b[0],g=this.parseFieldsString(m);if(g.length>=2){const v={id:(Date.now()+Math.random()).toString(),front:this.cleanHtml(g[0]||"No front content"),back:this.cleanHtml(g[1]||"No back content"),deckId:Date.now().toString(),createdAt:t,updatedAt:t,interval:1,repetitions:0,easeFactor:2.5,dueDate:t};a.push(v)}}}}catch(_){throw console.warn("Could not read notes table:",_),new Error("Could not read notes from the database")}if(console.log(`Created ${a.length} cards`),a.length===0)throw new Error("No cards found in the APKG file");const p=Date.now().toString(),s={id:p,name:u,description:"Imported from APKG file",createdAt:t,updatedAt:t,cardCount:a.length};return a.forEach(_=>{_.deckId=p}),i.push(s),console.log(`Final result: ${i.length} decks, ${a.length} cards`),console.log(`Deck name: ${s.name}`),c.close(),{decks:i,cards:a,settings:{}}}catch(l){throw console.error("SQLite parsing failed:",l),new Error(`Failed to parse APKG file: ${l instanceof Error?l.message:"Unknown error"}`)}}parseFieldsString(e){if(e.includes(""))return e.split("").map(a=>this.cleanField(a));if(e.includes("|"))return e.split("|").map(a=>this.cleanField(a));try{const i=JSON.parse(e);if(Array.isArray(i))return i.map(a=>this.cleanField(a))}catch{}return[this.cleanField(e)]}cleanField(e){return e?e.replace(/^'|'$/g,"").replace(/''/g,"'").replace(/\\n/g,`
`).replace(/\\t/g,"	").replace(/\\r/g,"\r").replace(/\\\\/g,"\\").trim():""}cleanHtml(e){return e.replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&nbsp;/g," ").replace(/\s+/g," ").trim()}}class Js{constructor(){Xt(this,"sqlJs",null)}async initialize(){this.sqlJs||(this.sqlJs=await Zs({locateFile:e=>e.endsWith(".wasm")?`https://cdn.jsdelivr.net/npm/sql.js@1.8.0/dist/${e}`:e}))}async generateAPKG(e,t,i={}){await this.initialize();const a=new this.sqlJs.Database;this.initializeAnkiSchema(a),this.insertDecks(a,e),this.insertCardsAndNotes(a,e,t),i.includeSettings&&this.insertSettings(a);const c=a.export(),u=new Ws;return u.file("collection.anki21b",c),await u.generateAsync({type:"uint8array"})}initializeAnkiSchema(e){const t=`
      -- Decks table
      CREATE TABLE IF NOT EXISTS decks (
        id INTEGER PRIMARY KEY,
        name TEXT NOT NULL,
        mtime_secs INTEGER NOT NULL,
        usn INTEGER NOT NULL,
        config TEXT,
        desc TEXT
      );

      -- Notes table
      CREATE TABLE IF NOT EXISTS notes (
        id INTEGER PRIMARY KEY,
        guid TEXT NOT NULL UNIQUE,
        mid INTEGER NOT NULL,
        mod INTEGER NOT NULL,
        usn INTEGER NOT NULL,
        tags TEXT,
        flds TEXT NOT NULL,
        sfld INTEGER NOT NULL,
        csum INTEGER NOT NULL,
        flags INTEGER NOT NULL,
        data TEXT
      );

      -- Cards table
      CREATE TABLE IF NOT EXISTS cards (
        id INTEGER PRIMARY KEY,
        nid INTEGER NOT NULL,
        did INTEGER NOT NULL,
        ord INTEGER NOT NULL,
        mod INTEGER NOT NULL,
        usn INTEGER NOT NULL,
        type INTEGER NOT NULL,
        queue INTEGER NOT NULL,
        due INTEGER NOT NULL,
        ivl INTEGER NOT NULL,
        factor REAL NOT NULL,
        reps INTEGER NOT NULL,
        lapses INTEGER NOT NULL,
        left INTEGER NOT NULL,
        odue INTEGER NOT NULL,
        odid INTEGER NOT NULL,
        flags INTEGER NOT NULL,
        data TEXT
      );

      -- Models table (card templates)
      CREATE TABLE IF NOT EXISTS col (
        id INTEGER PRIMARY KEY,
        crt INTEGER NOT NULL,
        mod INTEGER NOT NULL,
        scm INTEGER NOT NULL,
        ver INTEGER NOT NULL,
        dty INTEGER NOT NULL,
        usn INTEGER NOT NULL,
        ls INTEGER NOT NULL,
        conf TEXT,
        models TEXT,
        decks TEXT,
        dconf TEXT,
        tags TEXT
      );

      -- Insert default collection data
      INSERT OR REPLACE INTO col VALUES (
        1, -- id
        ${Math.floor(Date.now()/1e3)}, -- crt (creation time)
        ${Math.floor(Date.now()/1e3)}, -- mod (modification time)
        ${Math.floor(Date.now()/1e3)}, -- scm (schema modification time)
        11, -- ver (version)
        0, -- dty (dirty flag)
        0, -- usn (update sequence number)
        0, -- ls (last sync)
        '{}', -- conf (configuration)
        '{}', -- models (card templates)
        '{}', -- decks (deck configuration)
        '{}', -- dconf (deck configuration)
        '{}' -- tags
      );
    `;e.exec(t)}insertDecks(e,t){const i=e.prepare(`
      INSERT OR REPLACE INTO decks (id, name, mtime_secs, usn, config, desc)
      VALUES (?, ?, ?, ?, ?, ?)
    `);for(const a of t){const l=JSON.stringify({new:{perDay:20,delays:[1,10]},rev:{perDay:200,fuzz:.1,ivlFct:1,maxIvl:36500,ease4:1.3,bury:!0},lapse:{leechFails:8,delays:[10],leechAction:0},dyn:!1,autoplay:!0,timer:0,replayq:!0,mod:0});i.run([a.id,a.name,Math.floor(a.updatedAt.getTime()/1e3),0,l,a.description||""])}i.free()}insertCardsAndNotes(e,t,i){this.insertModel(e,1);const l=e.prepare(`
      INSERT OR REPLACE INTO notes (id, guid, mid, mod, usn, tags, flds, sfld, csum, flags, data)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `),c=e.prepare(`
      INSERT OR REPLACE INTO cards (id, nid, did, ord, mod, usn, type, queue, due, ivl, factor, reps, lapses, left, odue, odid, flags, data)
      VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)
    `);for(const u of i){const p=u.id,s=u.id,_=u.deckId,y=`${u.front}${u.back}`,b=u.front,m=this.calculateChecksum(b);l.run([p,this.generateGuid(),1,Math.floor(u.updatedAt.getTime()/1e3),0,"",y,b,m,0,""]);const g=this.calculateDue(u),v=Math.max(1,u.interval);c.run([s,p,_,0,Math.floor(u.updatedAt.getTime()/1e3),0,0,this.calculateQueue(u),g,v,u.easeFactor,u.repetitions,0,0,0,0,0,""])}l.free(),c.free()}insertModel(e,t){const i={id:t,name:"Basic",type:0,mod:Math.floor(Date.now()/1e3),usn:0,sortf:0,did:1,tmpls:[{name:"Card 1",ord:0,qfmt:"{{Front}}",afmt:`{{FrontSide}}

<hr id=answer>

{{Back}}`,did:null,bqfmt:"",bafmt:""}],req:[[[0,"all",[0]]]],flds:[{name:"Front",ord:0,sticky:!1,rtl:!1,font:"Arial",size:20,media:[]},{name:"Back",ord:1,sticky:!1,rtl:!1,font:"Arial",size:20,media:[]}],css:`.card {
 font-family: arial;
 font-size: 20px;
 text-align: center;
 color: black;
 background-color: white;
}
`,latexPre:`\\documentclass[12pt]{article}
\\special{papersize=3in,5in}
\\usepackage[utf8]{inputenc}
\\usepackage{amssymb,amsmath}
\\pagestyle{empty}
\\setlength{\\parindent}{0in}
\\begin{document}
`,latexPost:"\\end{document}",latexsvg:!1,vers:[]},a=e.prepare("UPDATE col SET models = ? WHERE id = 1");a.run([JSON.stringify({[t]:i})]),a.free()}insertSettings(e){const t={nextPos:1,estTimes:!0,activeDecks:[1],curDeck:1,newBury:!0,timeLim:0,newSpread:0,dueCounts:!0,curModel:1,collapseTime:1200,addToCur:!0,dayLearnFirst:!1,newMix:0,learnCutoff:20,leechFails:8,disp:0,maxTaken:60,newSort:0,newPerDayMinimum:0},i=e.prepare("UPDATE col SET conf = ? WHERE id = 1");i.run([JSON.stringify(t)]),i.free()}generateGuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}calculateChecksum(e){let t=0;for(let i=0;i<e.length;i++){const a=e.charCodeAt(i);t=(t<<5)-t+a,t=t&t}return Math.abs(t)}calculateDue(e){if(e.repetitions===0)return 0;const t=Date.now(),i=Math.floor((t-e.updatedAt.getTime())/(1e3*60*60*24));return Math.max(0,i+e.interval)}calculateQueue(e){return e.repetitions===0?0:e.interval<1?1:2}}const Ji=new $s;class Vs{constructor(){Xt(this,"prefix","blonki_")}getKey(e){return`${this.prefix}${e}`}async saveDecks(e){localStorage.setItem(this.getKey("decks"),JSON.stringify(e))}async loadDecks(){const e=localStorage.getItem(this.getKey("decks"));return e?JSON.parse(e).map(i=>({...i,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt)})):[]}async saveCards(e){localStorage.setItem(this.getKey("cards"),JSON.stringify(e))}async loadCards(){const e=localStorage.getItem(this.getKey("cards"));return e?JSON.parse(e).map(i=>({...i,createdAt:new Date(i.createdAt),updatedAt:new Date(i.updatedAt),dueDate:new Date(i.dueDate),lastReviewed:i.lastReviewed?new Date(i.lastReviewed):void 0})):[]}async saveSettings(e){localStorage.setItem(this.getKey("settings"),JSON.stringify(e))}async loadSettings(){const e=localStorage.getItem(this.getKey("settings"));return e?JSON.parse(e):this.getDefaultSettings()}async saveReviewResults(e){localStorage.setItem(this.getKey("reviewResults"),JSON.stringify(e))}async loadReviewResults(){const e=localStorage.getItem(this.getKey("reviewResults"));return e?JSON.parse(e).map(i=>({...i,timestamp:new Date(i.timestamp)})):[]}getDefaultSettings(){return{storageType:"localStorage",srsAlgorithm:"sm2",sm2InitialInterval:1,sm2EasyInterval:4,sm2MinInterval:1,sm2MaxInterval:36500,theme:"auto",cardsPerSession:20}}}class Vi{constructor(){Xt(this,"localStorageAdapter");Xt(this,"fileHandles",new Map);Xt(this,"filePaths",new Map);Xt(this,"hasUnsavedChanges",new Map);Xt(this,"apkgGenerator");this.localStorageAdapter=new Vs,this.apkgGenerator=new Js}async linkDeckToFile(e,t){console.log("Linking deck to file:",e,t.name),this.fileHandles.set(e,t);try{const i=await t.getFile(),a=i.path||i.name;this.filePaths.set(e,a),console.log("File path set to:",a)}catch{this.filePaths.set(e,"[File Permission Error]")}}unlinkDeckFromFile(e){this.fileHandles.delete(e),this.filePaths.delete(e)}getDeckFilePath(e){return this.filePaths.get(e)||"Browser Storage"}isDeckLinkedToFile(e){return this.fileHandles.has(e)}async saveDeckToFile(e,t,i){console.log("saveDeckToFile called for deck:",e,"with",i.length,"cards");const a=this.fileHandles.get(e);if(!a)throw new Error("Deck is not linked to a file");try{console.log("Generating APKG file for deck:",t.name);const l=await this.apkgGenerator.generateAPKG([t],i,{includeSettings:!1});console.log("Writing APKG to file handle:",a.name);const c=await a.createWritable();await c.write(l),await c.close(),console.log("Successfully saved deck to APKG file")}catch(l){throw console.error("Failed to save deck to file:",l),this.filePaths.set(e,"[File Permission Error]"),new Error(`Failed to save deck to file: ${l.message}`)}}async loadDeckFromFile(e){try{const t=await e.getFile();console.log("File System Access - File name:",t.name),console.log("File System Access - File size:",t.size),console.log("File System Access - File type:",t.type);const i=await t.arrayBuffer();console.log("File System Access - ArrayBuffer size:",i.byteLength);try{const l=await new $s().parseAPKG(i);if(l.decks.length===0)throw new Error("No decks found in APKG file");const c=l.decks[0],u=l.cards.filter(p=>p.deckId===c.id);if(c.name==="Imported Deck"||c.name==="Default"){const p=t.name.replace(".apkg","");c.name=p}return{deck:c,cards:u}}catch(a){throw new Error(`Failed to parse APKG file: ${a instanceof Error?a.message:"Unknown error"}`)}}catch(t){throw console.error("Failed to load deck from file:",t),new Error(`Failed to load deck from file: ${t.message}`)}}async saveDecks(e){console.log("FileSystemAccessAdapter.saveDecks called with",e.length,"decks"),console.log("Deck IDs:",e.map(t=>t.id)),await this.localStorageAdapter.saveDecks(e),console.log("Decks saved to localStorage")}async loadDecks(){return(await this.localStorageAdapter.loadDecks()).map(t=>({...t,filePath:this.getDeckFilePath(t.id),isLinkedToFile:this.isDeckLinkedToFile(t.id)}))}async saveCards(e){console.log("FileSystemAccessAdapter.saveCards called with",e.length,"cards"),console.log("Available file handles:",Array.from(this.fileHandles.keys())),await this.localStorageAdapter.saveCards(e);const t=new Set(e.map(i=>i.deckId));console.log("Deck IDs from cards:",Array.from(t));for(const i of t)if(console.log(`Checking deck ${i}: has file handle = ${this.fileHandles.has(i)}`),this.fileHandles.has(i)){this.hasUnsavedChanges.set(i,!0),console.log("Saving cards for linked deck:",i);const a=(await this.localStorageAdapter.loadDecks()).find(l=>l.id===i);if(a){const l=e.filter(c=>c.deckId===i);await this.saveDeckToFile(i,a,l),this.hasUnsavedChanges.set(i,!1)}else console.log("Deck not found in localStorage:",i)}else console.log("No file handle for deck:",i)}async loadCards(){return await this.localStorageAdapter.loadCards()}async saveSettings(e){await this.localStorageAdapter.saveSettings(e)}async loadSettings(){return await this.localStorageAdapter.loadSettings()}async saveReviewResults(e){await this.localStorageAdapter.saveReviewResults(e)}async loadReviewResults(){return await this.localStorageAdapter.loadReviewResults()}async saveCardsToLocalStorageOnly(e){await this.localStorageAdapter.saveCards(e)}}function Ra(){return"showOpenFilePicker"in window}const Ae=xr([]),Re=xr(null),oe=xr([]),tn=xr(null),Yr=xr({isActive:!1,currentCardIndex:0,showBack:!1,deckId:null});class zu{constructor(){Xt(this,"adapter",null);Xt(this,"localStorageAdapter");this.localStorageAdapter=new Vs}async initialize(){const e=await this.localStorageAdapter.loadSettings();ue.set(e),e.storageType==="fileSystemAccess"&&Ra()&&(this.adapter=new Vi),await this.loadDecks(),await this.loadCards()}async linkDeckToFile(e,t){if(!this.adapter)throw new Error("File System Access API not supported");return await this.adapter.linkDeckToFile(e,t)}async unlinkDeckFromFile(e){if(!this.adapter)throw new Error("File System Access API not supported");this.adapter.unlinkDeckFromFile(e)}getDeckFilePath(e){return this.adapter?this.adapter.getDeckFilePath(e):"Browser Storage"}isDeckLinkedToFile(e){return this.adapter?this.adapter.isDeckLinkedToFile(e):!1}async loadDeckFromFile(e){if(!this.adapter)throw new Error("File System Access API not supported");return await this.adapter.loadDeckFromFile(e)}async exportData(){return{decks:Zt(Ae),cards:Zt(oe),settings:Zt(ue),version:"1.0.0"}}async importData(e){e.decks&&await this.saveDecks(e.decks),e.cards&&await this.saveCards(e.cards),e.settings&&await this.saveSettings(e.settings)}async createBackup(){const e=await this.exportData();return new Blob([JSON.stringify(e,null,2)],{type:"application/json"})}async downloadBackup(){const e=await this.createBackup(),t=URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download=`blonki-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(t)}async restoreFromBackup(e){const t=await e.text(),i=JSON.parse(t);await this.importData(i)}async migrateFromLocalStorage(){const e=localStorage.getItem("blonki-data");if(e){const t=JSON.parse(e);await this.importData(t)}}async clearAllData(){Ae.set([]),oe.set([]),ue.set(this.getDefaultSettings())}async loadSettings(){if(this.adapter){const e=await this.adapter.loadSettings();ue.set(e)}else{const e=await this.localStorageAdapter.loadSettings();ue.set(e)}}async saveSettings(e){this.adapter?await this.adapter.saveSettings(e):await this.localStorageAdapter.saveSettings(e),ue.set(e),e.storageType==="fileSystemAccess"&&Ra()&&!this.adapter?this.adapter=new Vi:e.storageType==="localStorage"&&this.adapter&&(this.adapter=null)}async loadDecks(){if(this.adapter){const e=await this.adapter.loadDecks();Ae.set(e)}else{const e=await this.localStorageAdapter.loadDecks();Ae.set(e)}}async saveDecks(e){this.adapter?await this.adapter.saveDecks(e):await this.localStorageAdapter.saveDecks(e),Ae.set(e)}async loadCards(){if(this.adapter){const e=await this.adapter.loadCards();oe.set(e)}else{const e=await this.localStorageAdapter.loadCards();oe.set(e)}}async saveCards(e){this.adapter?await this.adapter.saveCards(e):await this.localStorageAdapter.saveCards(e),oe.set(e)}async addCard(e){const i=[...Zt(oe),e];await this.saveCards(i)}async updateCard(e){const i=Zt(oe).map(a=>a.id===e.id?e:a);await this.saveCards(i)}async deleteCard(e){const i=Zt(oe).filter(a=>a.id!==e);await this.saveCards(i)}async addDeck(e){const i=[...Zt(Ae),e];await this.saveDecks(i)}async updateDeck(e){const i=Zt(Ae).map(a=>a.id===e.id?e:a);await this.saveDecks(i)}async deleteDeck(e){const t=Zt(Ae),i=Zt(oe);this.adapter&&this.isDeckLinkedToFile(e)&&this.unlinkDeckFromFile(e);const a=i.filter(c=>c.deckId!==e);await this.saveCards(a);const l=t.filter(c=>c.id!==e);await this.saveDecks(l)}async getCardsForDeck(e){return Zt(oe).filter(i=>i.deckId===e)}async saveCardsToLocalStorageOnly(e){this.adapter&&"saveCardsToLocalStorageOnly"in this.adapter?await this.adapter.saveCardsToLocalStorageOnly(e):await this.localStorageAdapter.saveCards(e),oe.set(e)}getDefaultSettings(){return{storageType:"localStorage",srsAlgorithm:"sm2",sm2InitialInterval:1,sm2EasyInterval:4,sm2MinInterval:1,sm2MaxInterval:36500,theme:"auto",cardsPerSession:20}}}const $t=new zu;class Lu{constructor(){Xt(this,"handlers",[]);Xt(this,"currentView","learn");Xt(this,"selectedDeck",null);Xt(this,"currentCard",null);fr.subscribe(e=>{this.currentView=e.currentView}),Re.subscribe(e=>{this.selectedDeck=e}),tn.subscribe(e=>{this.currentCard=e})}registerHandler(e){this.handlers.push(e)}unregisterHandler(e){const t=this.handlers.indexOf(e);t>-1&&this.handlers.splice(t,1)}handleKeydown(e){for(const t of this.handlers)if(t.handleKeydown(e))return!0;return this.handleGlobalShortcuts(e)}handleGlobalShortcuts(e){if(e.target instanceof HTMLInputElement||e.target instanceof HTMLTextAreaElement||e.target instanceof HTMLSelectElement)return!1;if(e.key>="1"&&e.key<="5"){const t=parseInt(e.key)-1,i=["learn","stats","settings","extras","info"];if(t<i.length)return this.switchToTab(i[t]),!0}return e.key==="Escape"?(this.goBack(),!0):e.key===" "&&this.currentView==="learn"&&this.currentCard?(this.handleCorrectAnswer(),!0):e.key.toLowerCase()==="f"&&this.currentView==="learn"&&this.currentCard?(this.handleIncorrectAnswer(),!0):!1}switchToTab(e){const t=Zt(fr);if(e!==t.currentView){const i=[...t.viewHistory,t.currentView];fr.update(a=>({...a,currentView:e,viewHistory:i}))}}goBack(){const e=Zt(fr);if(e.viewHistory.length>0){const t=e.viewHistory.pop();t&&fr.update(i=>({...i,currentView:t,viewHistory:[...i.viewHistory]}))}}handleCorrectAnswer(){window.dispatchEvent(new CustomEvent("keyboard-correct"))}handleIncorrectAnswer(){window.dispatchEvent(new CustomEvent("keyboard-incorrect"))}}const Fa=new Lu;class Pu{constructor(){Xt(this,"currentTheme","auto");ue.subscribe(e=>{this.currentTheme=e.theme,this.applyTheme(e.theme)}),this.initializeTheme()}initializeTheme(){const e=Zt(ue);this.currentTheme=e.theme,this.applyTheme(e.theme)}applyTheme(e){const t=document.documentElement;if(t.classList.remove("light","dark"),e==="auto"){const i=window.matchMedia("(prefers-color-scheme: dark)").matches;t.classList.add(i?"dark":"light")}else t.classList.add(e)}async setTheme(e){try{const i={...Zt(ue),theme:e};ue.set(i)}catch(t){console.error("Failed to set theme:",t)}}getCurrentTheme(){return this.currentTheme}setupSystemThemeListener(){const e=window.matchMedia("(prefers-color-scheme: dark)"),t=i=>{this.currentTheme==="auto"&&this.applyTheme("auto")};return e.addEventListener("change",t),()=>e.removeEventListener("change",t)}}const Bu=new Pu;class Mu{async importFile(e,t=!1){var i;try{const a=(i=e.name.split(".").pop())==null?void 0:i.toLowerCase();switch(a){case"json":return await this.importJSON(e,t);case"apkg":return await this.importAPKG(e,t);default:throw new Error(`Unsupported file format: ${a}`)}}catch(a){return console.error("Import failed:",a),{success:!1,message:a instanceof Error?a.message:"Unknown error occurred",decksImported:0,cardsImported:0}}}async importJSON(e,t=!1){try{const i=await e.text(),a=JSON.parse(i);if(!a.decks||!Array.isArray(a.decks))throw new Error("Invalid JSON format: missing or invalid decks array");if(!a.cards||!Array.isArray(a.cards))throw new Error("Invalid JSON format: missing or invalid cards array");const l=a.decks.map(u=>({...u,createdAt:new Date(u.createdAt),updatedAt:new Date(u.updatedAt)})),c=a.cards.map(u=>({...u,createdAt:new Date(u.createdAt),updatedAt:new Date(u.updatedAt),dueDate:new Date(u.dueDate),lastReviewed:u.lastReviewed?new Date(u.lastReviewed):void 0}));return await $t.importData({decks:l,cards:c,settings:a.settings},t),{success:!0,message:`Successfully imported ${l.length} decks and ${c.length} cards`,decksImported:l.length,cardsImported:c.length}}catch(i){throw new Error(`Failed to import JSON file: ${i instanceof Error?i.message:"Unknown error"}`)}}async importAPKG(e,t=!1){try{if(e.size===0)throw new Error("File is empty");if(!e.name.toLowerCase().endsWith(".apkg"))throw new Error("File does not have .apkg extension");const i=await e.arrayBuffer();console.log("Browser Storage - File name:",e.name),console.log("Browser Storage - File size:",e.size),console.log("Browser Storage - File type:",e.type),console.log("Browser Storage - ArrayBuffer size:",i.byteLength),console.log("Browser Storage - First 16 bytes:",Array.from(new Uint8Array(i.slice(0,16))));const a=new Uint8Array(i);if(a.length<4||a[0]!==80||a[1]!==75)throw new Error("File does not appear to be a valid ZIP/APKG file");const l=await Ji.parseAPKG(i);if(l.decks.length>0&&l.decks[0].name==="Imported Deck"){const c=e.name.replace(/\.[^/.]+$/,"");l.decks[0].name=c}return await $t.importData(l,t),{success:!0,message:`Successfully imported ${l.decks.length} decks and ${l.cards.length} cards from APKG`,decksImported:l.decks.length,cardsImported:l.cards.length}}catch(i){throw new Error(`Failed to import APKG file: ${i instanceof Error?i.message:"Unknown error"}`)}}async importFromURL(e,t=!1){try{const i=await fetch(e);if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const a=i.headers.get("content-type");if(!a)throw new Error("No content type specified");if(a.includes("application/json")){const l=await i.json();return await this.importJSONData(l,t)}else if(a.includes("application/zip")||e.endsWith(".apkg")){const l=await i.arrayBuffer(),c=await Ji.parseAPKG(l);return await $t.importData(c,t),{success:!0,message:`Successfully imported from URL: ${c.decks.length} decks and ${c.cards.length} cards`,decksImported:c.decks.length,cardsImported:c.cards.length}}else throw new Error(`Unsupported content type: ${a}`)}catch(i){throw new Error(`Failed to import from URL: ${i instanceof Error?i.message:"Unknown error"}`)}}async importJSONData(e,t=!1){if(!e.decks||!Array.isArray(e.decks))throw new Error("Invalid JSON format: missing or invalid decks array");if(!e.cards||!Array.isArray(e.cards))throw new Error("Invalid JSON format: missing or invalid cards array");const i=e.decks.map(l=>({...l,createdAt:new Date(l.createdAt),updatedAt:new Date(l.updatedAt)})),a=e.cards.map(l=>({...l,createdAt:new Date(l.createdAt),updatedAt:new Date(l.updatedAt),dueDate:new Date(l.dueDate),lastReviewed:l.lastReviewed?new Date(l.lastReviewed):void 0}));return await $t.importData({decks:i,cards:a,settings:e.settings},t),{success:!0,message:`Successfully imported ${i.length} decks and ${a.length} cards from URL`,decksImported:i.length,cardsImported:a.length}}}const Yi=new Mu;class Uu{constructor(){Xt(this,"apkgGenerator",new Js)}async exportData(e){try{const{deckIds:t,format:i,includeSettings:a=!0}=e,l=Zt(Ae),c=Zt(oe),u=Zt(ue),p=t?l.filter(_=>t.includes(_.id)):l,s=t?c.filter(_=>t.includes(_.deckId)):c;if(p.length===0)throw new Error("No decks selected for export");switch(i){case"json":return await this.exportJSON(p,s,a?u:void 0);case"apkg":return await this.exportAPKG(p,s);default:throw new Error(`Unsupported export format: ${i}`)}}catch(t){return console.error("Export failed:",t),{success:!1,message:t instanceof Error?t.message:"Unknown error occurred"}}}async exportJSON(e,t,i){const a={decks:e,cards:t,settings:i,exportedAt:new Date().toISOString(),version:"1.0.0"},l=JSON.stringify(a,null,2),c=new Blob([l],{type:"application/json"}),u=`blonki-export-${new Date().toISOString().split("T")[0]}.json`;return{success:!0,message:`Successfully exported ${e.length} decks and ${t.length} cards`,data:c,filename:u}}async exportAPKG(e,t){try{const i=await this.apkgGenerator.generateAPKG(e,t,{includeSettings:!0}),a=new Blob([i],{type:"application/zip"}),l=`blonki-export-${new Date().toISOString().split("T")[0]}.apkg`;return{success:!0,message:`Successfully exported ${e.length} decks and ${t.length} cards as APKG`,data:a,filename:l}}catch(i){throw console.error("APKG generation failed:",i),new Error(`Failed to generate APKG file: ${i instanceof Error?i.message:"Unknown error"}`)}}async downloadExport(e){const t=await this.exportData(e);if(!t.success)throw new Error(t.message);if(!t.data||!t.filename)throw new Error("Export data or filename missing");const i=URL.createObjectURL(t.data),a=document.createElement("a");a.href=i,a.download=t.filename,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}async exportDeck(e,t="json"){await this.downloadExport({deckIds:[e],format:t,includeSettings:!1})}async exportAllDecks(e="json"){await this.downloadExport({format:e,includeSettings:!0})}async exportSelectedDecks(e,t="json"){await this.downloadExport({deckIds:e,format:t,includeSettings:!1})}}const Xi=new Uu;var ju=zt('<div class="table-container svelte-o5c6w6"><table class="min-w-full divide-y divide-gray-200"><!></table></div>');function Qi(r,e){wr(e,!1);let t=wa(e,"items",24,()=>[]),i=wa(e,"selectedIndex",12,0),a=wa(e,"onSelect",8,()=>{}),l=re();const c={handleKeydown:_=>!q(l)||q(l).offsetParent===null?!1:_.key==="ArrowUp"||_.key.toLowerCase()==="j"?(_.preventDefault(),i()>0&&(Wi(i,-1),a()(i())),!0):_.key==="ArrowDown"||_.key.toLowerCase()==="k"?(_.preventDefault(),i()<t().length-1&&(Wi(i),a()(i())),!0):_.key==="Enter"?(_.preventDefault(),a()(i()),!0):!1};Mr(()=>{Fa.registerHandler(c)}),Gs(()=>{Fa.unregisterHandler(c)}),Br();var u=ju(),p=et(u),s=et(p);Xl(s,e,"default",{}),iu(p,_=>Dt(l,_),()=>q(l)),Tt(r,u),br()}var qu=zt('<div class="text-center py-12"><div class="text-gray-500 mb-4">No decks available</div> <p class="text-sm text-gray-400">Import a deck or create one in the Edit tab</p></div>'),Gu=zt('<tr><td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500"> </td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><div class="flex space-x-2"><button class="text-green-600 hover:text-green-900 dark:text-green-400 dark:hover:text-green-300">Study</button> <button class="text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300" title="Edit deck">Edit</button> <button class="text-purple-600 hover:text-purple-900 dark:text-purple-400 dark:hover:text-purple-300">Export</button> <button class="text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300" title="Delete deck">Delete</button></div></td></tr>'),Hu=zt('<thead class="bg-gray-200"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Deck Name</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Location</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Cards</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Actions</th></tr></thead> <tbody class="bg-white divide-y divide-gray-200"></tbody>',1),Wu=zt('<div class="space-y-6"><div class="flex justify-between items-center"><h2 class="text-xl font-semibold text-gray-900 dark:text-white">Select a Deck to Study</h2> <div class="flex space-x-2"><button class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors">Open from File</button> <button class="px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 transition-colors">Export All</button></div></div> <!></div>'),Ku=zt('<div class="text-2xl font-medium text-gray-900"> </div>'),Zu=zt('<div class="text-2xl font-medium text-gray-900"> </div>'),$u=zt('<button class="px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors flex items-center gap-2">Show Answer <span class="text-xs bg-blue-500 px-1.5 py-0.5 rounded font-mono">SPC</span></button>'),Ju=zt('<button class="px-6 py-3 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors flex items-center gap-2">Incorrect <span class="text-xs bg-red-500 px-1.5 py-0.5 rounded font-mono">F</span></button> <button class="px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors flex items-center gap-2">Correct <span class="text-xs bg-green-500 px-1.5 py-0.5 rounded font-mono">SPC</span></button>',1),Vu=zt('<div class="max-w-2xl mx-auto"><div class="bg-white rounded-lg shadow-lg p-8"><div class="mb-4"><button class="flex items-center text-gray-600 hover:text-gray-900 dark:text-gray-300 dark:hover:text-white transition-colors"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg> Back to Decks</button></div> <div class="mb-6"><div class="flex justify-between text-sm text-gray-600 mb-2"><span> </span> <span> </span></div> <div class="w-full bg-gray-200 rounded-full h-2"><div class="bg-blue-600 h-2 rounded-full transition-all duration-300"></div></div></div> <div class="text-center mb-8"><div class="min-h-[200px] flex items-center justify-center"><!></div></div> <div class="flex justify-center space-x-4"><!></div></div></div>'),Yu=zt('<div class="max-w-2xl mx-auto"><div class="bg-white rounded-lg shadow-lg p-8"><h3 class="text-lg font-semibold text-gray-900 mb-6">Edit Card</h3> <div class="space-y-6"><div><label for="card-front" class="block text-sm font-medium text-gray-700 mb-2">Front</label> <textarea id="card-front" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" rows="4" placeholder="Enter the front of the card..."></textarea></div> <div><label for="card-back" class="block text-sm font-medium text-gray-700 mb-2">Back</label> <textarea id="card-back" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" rows="4" placeholder="Enter the back of the card..."></textarea></div></div> <div class="flex justify-end space-x-4 mt-8"><button class="px-4 py-2 text-gray-600 hover:text-gray-900">Cancel</button> <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">Save Card</button></div></div></div>'),Xu=zt('<div class="text-center py-12"><div class="text-gray-500 mb-4">No cards in this deck</div> <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">Create First Card</button></div>'),Qu=zt('<tr><td class="px-6 py-4 text-sm font-medium text-gray-900 dark:text-white overflow-hidden"><div class="truncate"> </div></td><td class="px-6 py-4 text-sm text-gray-500 dark:text-gray-300 overflow-hidden"><div class="truncate"> </div></td><td class="px-6 py-4 whitespace-nowrap text-sm font-medium"><div class="flex space-x-2"><button class="text-blue-600 hover:text-blue-900 dark:text-blue-400 dark:hover:text-blue-300">Edit</button> <button class="text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300" title="Delete card">Delete</button></div></td></tr>'),tc=zt('<table class="min-w-full table-fixed"><thead class="bg-gray-200 dark:bg-gray-700"><tr><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-2/5">Front</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-2/5">Back</th><th class="px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-1/5">Actions</th></tr></thead><tbody class="bg-white dark:bg-gray-800 divide-y divide-gray-200"></tbody></table>'),ec=zt('<div class="overflow-x-auto"><!></div>'),rc=zt('<div class="space-y-6"><div class="flex justify-between items-center"><h2 class="text-xl font-semibold text-gray-900">Cards in Deck</h2> <div class="flex space-x-2"><button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">Add New Card</button> <button class="px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 transition-colors">Back to Decks</button></div></div> <!></div>'),nc=zt('<div class="text-center py-12"><div class="text-gray-500 mb-4">No cards available in this deck</div> <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">Back to Decks</button></div>');function ac(r,e){wr(e,!1);let t=re([]),i=re(null),a=re([]),l=re(null),c=re(!1),u=re(0),p=re(0),s=re(!1),_=null,y=re(null),b=re(!1),m=re(0);Ae.subscribe(C=>Dt(t,C)),Re.subscribe(C=>Dt(i,C)),oe.subscribe(C=>Dt(a,C)),tn.subscribe(C=>Dt(l,C)),Yr.subscribe(C=>{_=C,Dt(s,C.isActive),Dt(u,C.currentCardIndex),Dt(c,C.showBack),C.isActive&&q(a).length>0&&C.currentCardIndex<q(a).length&&tn.set(q(a)[C.currentCardIndex])}),Mr(()=>{Re.set(null),_&&_.isActive&&_.deckId&&(Re.set(_.deckId),I(_.deckId)),window.addEventListener("keyboard-correct",x),window.addEventListener("keyboard-incorrect",S)}),Gs(()=>{window.removeEventListener("keyboard-correct",x),window.removeEventListener("keyboard-incorrect",S)});function g(C){Re.set(C),I(C),Yr.set({isActive:!0,currentCardIndex:0,showBack:!1,deckId:C})}function v(C){Re.set(C),I(C)}function k(C){C>=0&&C<q(t).length&&(Dt(p,C),g(q(t)[C].id))}function x(){q(l)&&(q(c)?F():N())}function S(){q(l)&&(q(c)?F():N())}async function I(C){try{const st=await $t.getCardsForDeck(C);oe.set(st),st.length>0&&(tn.set(st[0]),Dt(u,0))}catch(st){console.error("Failed to load cards for deck:",st)}}function N(){Yr.update(C=>({...C,showBack:!0}))}function F(C){q(l)&&P()}function P(){if(q(u)<q(a).length-1){const C=q(u)+1;Yr.update(st=>({...st,currentCardIndex:C,showBack:!1}))}else j()}function j(){Re.set(null),tn.set(null),Yr.set({isActive:!1,currentCardIndex:0,showBack:!1,deckId:null})}function $(C){C>=0&&C<q(a).length&&(Dt(m,C),z(q(a)[C]))}function z(C){Dt(y,{...C}),Dt(b,!0)}function J(){if(!q(i))return;const C={front:"",back:"",deckId:q(i),interval:1,repetitions:0,easeFactor:2.5,dueDate:new Date};Dt(y,C),Dt(b,!0)}async function ft(){if(!(!q(y)||!q(i)))try{q(y).id?await $t.updateCard(q(y)):await $t.addCard(q(y)),await I(q(i)),Dt(b,!1),Dt(y,null)}catch(C){console.error("Save failed:",C),alert(`Failed to save card: ${C instanceof Error?C.message:"Unknown error"}`)}}function T(){Dt(b,!1),Dt(y,null)}async function U(C,st){if(confirm(`Are you sure you want to delete this card?

Front: "${st}"`))try{await $t.deleteCard(C),q(i)&&await I(q(i))}catch(nt){console.error("Delete failed:",nt),alert(`Failed to delete card: ${nt instanceof Error?nt.message:"Unknown error"}`)}}async function h(){var C;try{if(!("showOpenFilePicker"in window)){const gt=document.createElement("input");gt.type="file",gt.accept=".apkg",gt.onchange=async _t=>{var mt;const pt=(mt=_t.target.files)==null?void 0:mt[0];if(pt)try{const yt=await Yi.importFile(pt);yt.success||alert(`Import failed: ${yt.message}`)}catch(yt){console.error("Import failed:",yt),alert(`Import failed: ${yt instanceof Error?yt.message:"Unknown error"}`)}},gt.click();return}const st=await((C=window.showOpenFilePicker)==null?void 0:C.call(window,{types:[{description:"Anki Package files",accept:{"application/zip":[".apkg"]}}],multiple:!1}));if(!st||st.length===0)return;const nt=st[0];if(Zt(ue).storageType==="fileSystemAccess"){const{deck:gt,cards:_t}=await $t.loadDeckFromFile(nt);console.log("Loaded deck with ID:",gt.id),await $t.linkDeckToFile(gt.id,nt);const pt={...gt,isLinkedToFile:!0,filePath:$t.getDeckFilePath(gt.id)},mt=Zt(Ae),yt=Zt(oe);await $t.saveDecks([...mt,pt]),await $t.saveCardsToLocalStorageOnly([...yt,..._t])}else{const gt=await nt.getFile(),_t=await Yi.importFile(gt);_t.success||alert(`Import failed: ${_t.message}`)}}catch(st){console.error("Failed to open file:",st),st instanceof Error&&st.name!=="AbortError"&&alert(`Failed to open file: ${st.message}`)}}async function B(C){try{await Xi.exportDeck(C)}catch(st){console.error("Export failed:",st),alert(`Export failed: ${st instanceof Error?st.message:"Unknown error"}`)}}async function lt(){try{await Xi.exportAllDecks()}catch(C){console.error("Export failed:",C),alert(`Export failed: ${C instanceof Error?C.message:"Unknown error"}`)}}async function H(C,st){if(confirm(`Are you sure you want to delete the deck "${st}"? This will also delete all cards in this deck.`))try{const nt=q(a).filter(at=>at.deckId===C);for(const at of nt)await $t.deleteCard(at.id);await $t.deleteDeck(C),q(i)===C&&(Dt(i,null),Re.set(null))}catch(nt){console.error("Delete failed:",nt),alert(`Failed to delete deck: ${nt instanceof Error?nt.message:"Unknown error"}`)}}Br();var ht=je(),Z=Ie(ht);{var rt=C=>{var st=Wu(),nt=et(st),at=ct(et(nt),2),gt=et(at),_t=ct(gt,2),pt=ct(nt,2);{var mt=bt=>{var At=qu();Tt(bt,At)},yt=bt=>{Qi(bt,{get items(){return q(t)},get selectedIndex(){return q(p)},onSelect:k,children:(At,Pt)=>{var f=Hu(),K=ct(Ie(f),2);Hn(K,5,()=>q(t),Gn,(G,A,w)=>{var O=Gu(),V=et(O),Y=et(V),R=ct(V),Q=et(R),ut=ct(R),ot=et(ut),dt=ct(ut),It=et(dt),wt=et(It),Ct=ct(wt,2),qt=ct(Ct,2),Ut=ct(qt,2);de(()=>{cr(O,1,`hover:bg-gray-200 ${q(p)===w?"selected":""}`),Kt(Y,q(A).name),Kt(Q,q(A).filePath||"Browser Storage"),Kt(ot,q(A).cardCount)}),St("click",wt,()=>g(q(A).id)),St("click",Ct,Vr(()=>v(q(A).id))),St("click",qt,Vr(()=>B(q(A).id))),St("click",Ut,Vr(()=>H(q(A).id,q(A).name))),St("click",O,()=>g(q(A).id)),St("mouseenter",O,()=>Dt(p,w)),Tt(G,O)}),Tt(At,f)},$$slots:{default:!0}})};ee(pt,bt=>{q(t).length===0?bt(mt):bt(yt,!1)})}St("click",gt,h),St("click",_t,lt),Tt(C,st)},L=C=>{var st=je(),nt=Ie(st);{var at=_t=>{var pt=Vu(),mt=et(pt),yt=et(mt),bt=et(yt),At=ct(yt,2),Pt=et(At),f=et(Pt),K=et(f),G=ct(f,2),A=et(G),w=ct(Pt,2),O=et(w),V=ct(At,2),Y=et(V),R=et(Y);{var Q=Ct=>{var qt=Ku(),Ut=et(qt);de(()=>Kt(Ut,q(l).front)),Tt(Ct,qt)},ut=Ct=>{var qt=Zu(),Ut=et(qt);de(()=>Kt(Ut,q(l).back)),Tt(Ct,qt)};ee(R,Ct=>{q(c)?Ct(ut,!1):Ct(Q)})}var ot=ct(V,2),dt=et(ot);{var It=Ct=>{var qt=$u();St("click",qt,N),Tt(Ct,qt)},wt=Ct=>{var qt=Ju(),Ut=Ie(qt),jt=ct(Ut,2);St("click",Ut,()=>F()),St("click",jt,()=>F()),Tt(Ct,qt)};ee(dt,Ct=>{q(c)?Ct(wt,!1):Ct(It)})}de(Ct=>{Kt(K,`Card ${q(u)+1} of ${q(a).length??""}`),Kt(A,`${Ct??""}%`),Us(O,`width: ${(q(u)+1)/q(a).length*100}%`)},[()=>Math.round((q(u)+1)/q(a).length*100)]),St("click",bt,j),Tt(_t,pt)},gt=_t=>{var pt=je(),mt=Ie(pt);{var yt=At=>{var Pt=Yu(),f=et(Pt),K=ct(et(f),2),G=et(K),A=ct(et(G),2),w=ct(G,2),O=ct(et(w),2),V=ct(K,2),Y=et(V),R=ct(Y,2);de(()=>{var Q,ut;Ui(A,((Q=q(y))==null?void 0:Q.front)||""),Ui(O,((ut=q(y))==null?void 0:ut.back)||"")}),St("input",A,Q=>q(y)&&Fe(y,q(y).front=Q.target.value)),St("input",O,Q=>q(y)&&Fe(y,q(y).back=Q.target.value)),St("click",Y,T),St("click",R,ft),Tt(At,Pt)},bt=At=>{var Pt=je(),f=Ie(Pt);{var K=A=>{var w=rc(),O=et(w),V=ct(et(O),2),Y=et(V),R=ct(Y,2),Q=ct(O,2);{var ut=dt=>{var It=Xu(),wt=ct(et(It),2);St("click",wt,J),Tt(dt,It)},ot=dt=>{var It=ec(),wt=et(It);Qi(wt,{get items(){return q(a)},get selectedIndex(){return q(m)},onSelect:$,children:(Ct,qt)=>{var Ut=tc(),jt=ct(et(Ut));Hn(jt,5,()=>q(a),Gn,(Ht,se,kt)=>{var te=Qu(),Ke=et(te),pe=et(Ke),Ur=et(pe),ve=ct(Ke),Ze=et(ve),X=et(Ze),De=ct(ve),ae=et(De),$e=et(ae),jr=ct($e,2);de(()=>{cr(te,1,`hover:bg-gray-200 dark:hover:bg-gray-700 ${q(m)===kt?"selected":""}`),ji(pe,"title",q(se).front),Kt(Ur,q(se).front),ji(Ze,"title",q(se).back),Kt(X,q(se).back)}),St("click",$e,Vr(()=>z(q(se)))),St("click",jr,Vr(()=>U(q(se).id,q(se).front))),St("click",te,()=>z(q(se))),St("mouseenter",te,()=>Dt(m,kt)),Tt(Ht,te)}),Tt(Ct,Ut)},$$slots:{default:!0}}),Tt(dt,It)};ee(Q,dt=>{q(a).length===0?dt(ut):dt(ot,!1)})}St("click",Y,J),St("click",R,()=>Re.set(null)),Tt(A,w)},G=A=>{var w=nc(),O=ct(et(w),2);St("click",O,()=>Re.set(null)),Tt(A,w)};ee(f,A=>{q(i)?A(K):A(G,!1)},!0)}Tt(At,Pt)};ee(mt,At=>{q(b)?At(yt):At(bt,!1)},!0)}Tt(_t,pt)};ee(nt,_t=>{q(s)&&q(l)?_t(at):_t(gt,!1)},!0)}Tt(C,st)};ee(Z,C=>{q(i)?C(L,!1):C(rt)})}Tt(r,ht),br()}var ic=zt('<div class="flex items-center space-x-4"><div class="w-20 text-sm text-gray-600"> </div> <div class="flex-1 bg-gray-200 rounded-full h-4 relative"><div class="bg-blue-500 h-4 rounded-full"></div> <div class="absolute inset-0 flex items-center justify-center text-xs text-gray-700 font-medium"> </div></div> <div class="w-16 text-sm text-gray-600 text-right"> </div></div>'),sc=zt('<div class="space-y-4"></div>'),oc=zt('<div class="text-center py-8 text-gray-500">No review data available</div>'),lc=zt('<div class="border border-gray-200 rounded-lg p-4"><div class="text-sm font-medium text-gray-900 mb-2"> </div> <div class="space-y-2"><div class="flex justify-between text-xs text-gray-600"><span>Repetitions:</span> <span> </span></div> <div class="flex justify-between text-xs text-gray-600"><span>Interval:</span> <span> </span></div> <div class="flex justify-between text-xs text-gray-600"><span>Ease Factor:</span> <span> </span></div> <div class="flex justify-between text-xs text-gray-600"><span>Due:</span> <span> </span></div></div></div>'),uc=zt('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4"></div>'),cc=zt('<div class="text-center py-8 text-gray-500">No cards available</div>'),fc=zt('<div class="space-y-6"><h2 class="text-xl font-semibold text-gray-900">Statistics</h2> <div class="grid grid-cols-1 md:grid-cols-4 gap-6"><div class="bg-white rounded-lg shadow p-6"><div class="text-2xl font-bold text-blue-600"> </div> <div class="text-sm text-gray-500">Total Reviews</div></div> <div class="bg-white rounded-lg shadow p-6"><div class="text-2xl font-bold text-green-600"> </div> <div class="text-sm text-gray-500">Correct Answers</div></div> <div class="bg-white rounded-lg shadow p-6"><div class="text-2xl font-bold text-purple-600"> </div> <div class="text-sm text-gray-500">Accuracy</div></div> <div class="bg-white rounded-lg shadow p-6"><div class="text-2xl font-bold text-orange-600"> </div> <div class="text-sm text-gray-500">Cards Due</div></div></div> <div class="bg-white rounded-lg shadow p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Review History (Last 30 Days)</h3> <!></div> <div class="bg-white rounded-lg shadow p-6"><h3 class="text-lg font-semibold text-gray-900 mb-4">Card Performance</h3> <!></div></div>');function dc(r,e){wr(e,!1);let t=re([]),i=re([]);Mr(()=>{a()});async function a(){Dt(t,[{id:"1",front:"Hello",back:"Hola",deckId:"1",createdAt:new Date,updatedAt:new Date,interval:1,repetitions:5,easeFactor:2.5,dueDate:new Date,lastReviewed:new Date},{id:"2",front:"Goodbye",back:"Adis",deckId:"1",createdAt:new Date,updatedAt:new Date,interval:3,repetitions:3,easeFactor:2.3,dueDate:new Date,lastReviewed:new Date}]),Dt(i,l())}function l(){const lt=[],H=new Date;for(let ht=29;ht>=0;ht--){const Z=new Date(H);Z.setDate(Z.getDate()-ht),lt.push({date:Z.toISOString().split("T")[0],reviews:Math.floor(Math.random()*20)+5,correct:Math.floor(Math.random()*15)+3,incorrect:Math.floor(Math.random()*5)+1})}return lt}function c(){return q(i).reduce((lt,H)=>lt+H.reviews,0)}function u(){return q(i).reduce((lt,H)=>lt+H.correct,0)}function p(){const lt=c(),H=u();return lt>0?Math.round(H/lt*100):0}function s(){const lt=new Date;return q(t).filter(H=>new Date(H.dueDate)<=lt).length}Br();var _=fc(),y=ct(et(_),2),b=et(y),m=et(b),g=et(m),v=ct(b,2),k=et(v),x=et(k),S=ct(v,2),I=et(S),N=et(I),F=ct(S,2),P=et(F),j=et(P),$=ct(y,2),z=ct(et($),2);{var J=lt=>{var H=sc();Hn(H,5,()=>q(i),Gn,(ht,Z)=>{var rt=ic(),L=et(rt),C=et(L),st=ct(L,2),nt=et(st),at=ct(nt,2),gt=et(at),_t=ct(st,2),pt=et(_t);de(mt=>{Kt(C,mt),Us(nt,`width: ${q(Z).reviews/25*100}%`),Kt(gt,q(Z).reviews),Kt(pt,`${q(Z).correct??""}/${q(Z).reviews??""}`)},[()=>new Date(q(Z).date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]),Tt(ht,rt)}),Tt(lt,H)},ft=lt=>{var H=oc();Tt(lt,H)};ee(z,lt=>{q(i).length>0?lt(J):lt(ft,!1)})}var T=ct($,2),U=ct(et(T),2);{var h=lt=>{var H=uc();Hn(H,5,()=>q(t),Gn,(ht,Z)=>{var rt=lc(),L=et(rt),C=et(L),st=ct(L,2),nt=et(st),at=ct(et(nt),2),gt=et(at),_t=ct(nt,2),pt=ct(et(_t),2),mt=et(pt),yt=ct(_t,2),bt=ct(et(yt),2),At=et(bt),Pt=ct(yt,2),f=ct(et(Pt),2),K=et(f);de((G,A)=>{Kt(C,q(Z).front),Kt(gt,q(Z).repetitions),Kt(mt,`${q(Z).interval??""} days`),Kt(At,G),Kt(K,A)},[()=>q(Z).easeFactor.toFixed(2),()=>new Date(q(Z).dueDate).toLocaleDateString()]),Tt(ht,rt)}),Tt(lt,H)},B=lt=>{var H=cc();Tt(lt,H)};ee(U,lt=>{q(t).length>0?lt(h):lt(B,!1)})}de((lt,H,ht,Z)=>{Kt(g,lt),Kt(x,H),Kt(N,`${ht??""}%`),Kt(j,Z)},[c,u,p,s]),Tt(r,_),br()}var hc=zt('<p class="text-sm text-yellow-600 dark:text-yellow-400 mt-1">File System Access API is not supported in this browser. Using Local Storage instead.</p>'),pc=zt(`<div class="mt-4 space-y-2"><p class="text-sm text-gray-600 dark:text-gray-400">File System Access allows you to link decks to .apkg files on your disk. 
                Changes are automatically saved to the linked files.</p></div>`),vc=zt('<div class="grid grid-cols-2 gap-4"><div><label for="initial-interval" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Initial Interval (days)</label> <input id="initial-interval" type="number" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" min="1"/></div> <div><label for="easy-interval" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Easy Interval (days)</label> <input id="easy-interval" type="number" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" min="1"/></div> <div><label for="min-interval" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Min Interval (days)</label> <input id="min-interval" type="number" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" min="1"/></div> <div><label for="max-interval" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Max Interval (days)</label> <input id="max-interval" type="number" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" min="1"/></div></div>'),mc=zt('<div class="max-w-2xl mx-auto space-y-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-white">Settings</h2> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 space-y-6"><div><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Data Storage</h3> <div class="space-y-4"><div><label for="storage-type" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Storage Type</label> <select id="storage-type" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>Browser Local Storage</option><option> </option></select> <!></div></div></div> <div><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Spaced Repetition Algorithm</h3> <div class="space-y-4"><div><label for="srs-algorithm" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Algorithm</label> <select id="srs-algorithm" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>SM-2 (Anki Default)</option><option>SM-17 (Anki 2.1+)</option><option>Custom</option></select></div> <!></div></div> <div><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">User Interface</h3> <div class="space-y-4"><div><label for="theme" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Theme</label> <select id="theme" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"><option>Auto (System)</option><option>Light</option><option>Dark</option></select></div> <div><label for="cards-per-session" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Cards per Session</label> <input id="cards-per-session" type="number" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white" min="1" max="100"/></div></div></div> <div><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-4">Backup & Migration</h3> <div class="space-y-4"><div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Backup Data</h4> <button class="w-full px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors">Download Backup</button></div> <div><h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Restore Data</h4> <input type="file" accept=".json" class="w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white dark:bg-gray-700 text-gray-900 dark:text-white"/></div></div> <div class="grid grid-cols-1 md:grid-cols-2 gap-4"><div><h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Migration</h4> <button class="w-full px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">Migrate from localStorage</button></div> <div><h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2">Danger Zone</h4> <button class="w-full px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors">Clear All Data</button></div></div></div></div> <div class="flex justify-between pt-6 border-t border-gray-200 dark:border-gray-600"><button class="px-4 py-2 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white">Reset to Defaults</button> <button class="px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors">Save Settings</button></div></div></div>');function gc(r,e){wr(e,!1);let t=re({storageType:"localStorage",srsAlgorithm:"sm2",sm2InitialInterval:1,sm2EasyInterval:4,sm2MinInterval:1,sm2MaxInterval:36500,theme:"auto",cardsPerSession:20}),i=re(!1);Mr(()=>{a(),l()});async function a(){const R=Zt(ue);R&&Object.keys(R).length>0&&Dt(t,R)}function l(){Dt(i,Ra())}async function c(){try{await $t.downloadBackup()}catch(R){console.error("Failed to download backup:",R),alert("Failed to download backup. Please try again.")}}async function u(R){var ot;const Q=R.target,ut=(ot=Q.files)==null?void 0:ot[0];if(ut)try{await $t.restoreFromBackup(ut),Q.value=""}catch(dt){console.error("Failed to restore backup:",dt),alert("Failed to restore backup. Please try again.")}}async function p(){if(confirm("This will copy all data from localStorage to the current storage. Continue?"))try{await $t.migrateFromLocalStorage()}catch(R){console.error("Failed to migrate data:",R),alert("Failed to migrate data. Please try again.")}}async function s(){if(confirm("This will permanently delete all your data. Are you sure?")&&confirm("This action cannot be undone. Are you absolutely sure?"))try{await $t.clearAllData()}catch(R){console.error("Failed to clear data:",R),alert("Failed to clear data. Please try again.")}}async function _(R,Q){Dt(t,{...q(t),[R]:Q}),ue.set(q(t));try{await $t.saveSettings(q(t)),R==="theme"&&await Bu.setTheme(Q)}catch(ut){console.error("Failed to save settings:",ut)}}async function y(){try{await $t.saveSettings(q(t))}catch(R){console.error("Failed to save settings:",R),alert("Failed to save settings. Please try again.")}}function b(){Dt(t,{storageType:"localStorage",srsAlgorithm:"sm2",sm2InitialInterval:1,sm2EasyInterval:4,sm2MinInterval:1,sm2MaxInterval:36500,theme:"auto",cardsPerSession:20}),ue.set(q(t))}Br();var m=mc(),g=ct(et(m),2),v=et(g),k=ct(et(v),2),x=et(k),S=ct(et(x),2);de(()=>{q(t),va(()=>{q(i)})});var I=et(S);I.value=I.__value="localStorage";var N=ct(I),F=et(N);N.value=N.__value="fileSystemAccess";var P=ct(S,2);{var j=R=>{var Q=hc();Tt(R,Q)},$=R=>{var Q=je(),ut=Ie(Q);{var ot=dt=>{var It=pc();Tt(dt,It)};ee(ut,dt=>{q(t).storageType==="fileSystemAccess"&&dt(ot)},!0)}Tt(R,Q)};ee(P,R=>{q(i)?R($,!1):R(j)})}var z=ct(v,2),J=ct(et(z),2),ft=et(J),T=ct(et(ft),2);de(()=>{q(t),va(()=>{})});var U=et(T);U.value=U.__value="sm2";var h=ct(U);h.value=h.__value="sm17";var B=ct(h);B.value=B.__value="custom";var lt=ct(ft,2);{var H=R=>{var Q=vc(),ut=et(Q),ot=ct(et(ut),2),dt=ct(ut,2),It=ct(et(dt),2),wt=ct(dt,2),Ct=ct(et(wt),2),qt=ct(wt,2),Ut=ct(et(qt),2);Jr(ot,()=>q(t).sm2InitialInterval,jt=>Fe(t,q(t).sm2InitialInterval=jt)),St("change",ot,jt=>_("sm2InitialInterval",parseInt(jt.target.value))),Jr(It,()=>q(t).sm2EasyInterval,jt=>Fe(t,q(t).sm2EasyInterval=jt)),St("change",It,jt=>_("sm2EasyInterval",parseInt(jt.target.value))),Jr(Ct,()=>q(t).sm2MinInterval,jt=>Fe(t,q(t).sm2MinInterval=jt)),St("change",Ct,jt=>_("sm2MinInterval",parseInt(jt.target.value))),Jr(Ut,()=>q(t).sm2MaxInterval,jt=>Fe(t,q(t).sm2MaxInterval=jt)),St("change",Ut,jt=>_("sm2MaxInterval",parseInt(jt.target.value))),Tt(R,Q)};ee(lt,R=>{(q(t).srsAlgorithm==="sm2"||q(t).srsAlgorithm==="custom")&&R(H)})}var ht=ct(z,2),Z=ct(et(ht),2),rt=et(Z),L=ct(et(rt),2);de(()=>{q(t),va(()=>{})});var C=et(L);C.value=C.__value="auto";var st=ct(C);st.value=st.__value="light";var nt=ct(st);nt.value=nt.__value="dark";var at=ct(rt,2),gt=ct(et(at),2),_t=ct(ht,2),pt=ct(et(_t),2),mt=et(pt),yt=et(mt),bt=ct(et(yt),2),At=ct(yt,2),Pt=ct(et(At),2),f=ct(mt,2),K=et(f),G=ct(et(K),2),A=ct(K,2),w=ct(et(A),2),O=ct(_t,2),V=et(O),Y=ct(V,2);de(()=>{N.disabled=!q(i),Kt(F,`File System Access ${q(i)?"":"(Not Supported)"}`)}),ga(S,()=>q(t).storageType,R=>Fe(t,q(t).storageType=R)),St("change",S,R=>_("storageType",R.target.value)),ga(T,()=>q(t).srsAlgorithm,R=>Fe(t,q(t).srsAlgorithm=R)),St("change",T,R=>_("srsAlgorithm",R.target.value)),ga(L,()=>q(t).theme,R=>Fe(t,q(t).theme=R)),St("change",L,R=>_("theme",R.target.value)),Jr(gt,()=>q(t).cardsPerSession,R=>Fe(t,q(t).cardsPerSession=R)),St("change",gt,R=>_("cardsPerSession",parseInt(R.target.value))),St("click",bt,c),St("change",Pt,u),St("click",G,p),St("click",w,s),St("click",V,b),St("click",Y,y),Tt(r,m),br()}var _c=zt('<div class="max-w-2xl mx-auto"><div class="text-center py-12"><div class="text-gray-500 mb-4">Extras</div> <p class="text-sm text-gray-400">This section will be used for plugins and additional features in the future.</p></div></div>');function yc(r){var e=_c();Tt(r,e)}var wc=zt(`<div class="max-w-4xl mx-auto p-6"><div class="space-y-8"><div class="text-center"><h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-2">Blonki</h1> <p class="text-xl text-gray-600 dark:text-gray-300">Web-based Anki Client</p> <p class="text-sm text-gray-500 dark:text-gray-400 mt-2">Version 1.0.0</p></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"><h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">About</h2> <p class="text-gray-700 dark:text-gray-300 leading-relaxed">Blonki is a modern, web-based Anki client built with Svelte 5 and TypeScript. 
        It provides a responsive interface for spaced repetition learning with full support 
        for importing and exporting Anki decks (.apkg files) and comprehensive data management.</p></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"><h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">FAQ</h2> <div class="grid md:grid-cols-2 gap-6"><div><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-3">How do I sync?</h3> Files are currently either saved in browser storage on the host filesystem (Chrome only).  With filesystem storage, you can use Syncthing/Dropbox or an equivalent service for syncing files.</div> <div><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-3">Can I sync with Ankiweb?</h3> No, Blonki is not designed to sync with Ankiweb.  It is designed to sync with your own files on your own device.</div> <div><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-3">What files are supported?</h3> Currently only .apkg files are supported.</div></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow-md p-6"><h2 class="text-2xl font-semibold text-gray-900 dark:text-white mb-4">Keyboard Shortcuts</h2> <div class="grid md:grid-cols-2 gap-6"><div><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-3">Study Interface</h3> <div class="space-y-2"><div class="flex justify-between items-center"><span class="text-gray-700 dark:text-gray-300">Show Answer / Mark Correct</span> <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm font-mono">Spacebar</kbd></div> <div class="flex justify-between items-center"><span class="text-gray-700 dark:text-gray-300">Show Answer / Mark Incorrect</span> <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm font-mono">F</kbd></div></div></div> <div><h3 class="text-lg font-medium text-gray-900 dark:text-white mb-3">Navigation</h3> <div class="space-y-2"><div class="flex justify-between items-center"><span class="text-gray-700 dark:text-gray-300">Switch to Deck tab</span> <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm font-mono">1</kbd></div> <div class="flex justify-between items-center"><span class="text-gray-700 dark:text-gray-300">Switch to Stats tab</span> <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm font-mono">2</kbd></div> <div class="flex justify-between items-center"><span class="text-gray-700 dark:text-gray-300">Switch to Settings tab</span> <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm font-mono">3</kbd></div> <div class="flex justify-between items-center"><span class="text-gray-700 dark:text-gray-300">Switch to Extras tab</span> <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm font-mono">4</kbd></div> <div class="flex justify-between items-center"><span class="text-gray-700 dark:text-gray-300">Switch to Info tab</span> <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm font-mono">5</kbd></div> <div class="flex justify-between items-center"><span class="text-gray-700 dark:text-gray-300">Go Back</span> <kbd class="px-2 py-1 bg-gray-200 dark:bg-gray-700 rounded text-sm font-mono">Esc</kbd></div></div></div></div></div></div></div>`);function bc(r,e){wr(e,!1),Br();var t=wc();Tt(r,t),br()}var kc=zt('<div class="fixed bottom-4 left-4"><button class="bg-white dark:bg-gray-800 shadow-lg rounded-full p-3 text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors" title="Go back (ESC)" aria-label="Go back"><svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button></div>'),xc=zt('<div class="min-h-screen bg-gray-200 dark:bg-gray-900 flex flex-col w-full max-w-full overflow-x-hidden"><header class="bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700 w-full"><div class="w-full max-w-4xl mx-auto px-4 py-4"><div class="flex items-center justify-between"><button class="text-2xl font-bold text-gray-900 dark:text-white hover:text-blue-600 dark:hover:text-blue-400 transition-colors bg-transparent border-none p-0 cursor-pointer" title="Click to view app information" aria-label="Blonki - Click to view app information">Blonki</button> <nav class="flex space-x-1"><button>Deck</button> <button>Stats</button> <button>Settings</button> <button>Extras</button> <button title="App Information">Info</button></nav></div></div></header> <main class="flex-1 flex justify-center w-full"><div class="w-full max-w-4xl px-4 py-6 overflow-x-hidden"><!></div></main> <!></div>');function Sc(r,e){wr(e,!1);let t=re("learn"),i=[];function a(z){Fa.handleKeydown(z)}function l(z){z!==q(t)&&(i.push(q(t)),Dt(t,z),fr.update(J=>({...J,currentView:q(t),viewHistory:i})))}function c(){if(i.length>0){const z=i.pop();z&&(Dt(t,z),fr.update(J=>({...J,currentView:q(t),viewHistory:i})))}}Mr(()=>(document.addEventListener("keydown",a),$t.initialize().catch(console.error),()=>document.removeEventListener("keydown",a))),Br();var u=xc(),p=et(u),s=et(p),_=et(s),y=et(_),b=ct(y,2),m=et(b),g=ct(m,2),v=ct(g,2),k=ct(v,2),x=ct(k,2),S=ct(p,2),I=et(S),N=et(I);{var F=z=>{ac(z,{})},P=z=>{var J=je(),ft=Ie(J);{var T=h=>{dc(h,{})},U=h=>{var B=je(),lt=Ie(B);{var H=Z=>{gc(Z,{})},ht=Z=>{var rt=je(),L=Ie(rt);{var C=nt=>{yc(nt)},st=nt=>{var at=je(),gt=Ie(at);{var _t=pt=>{bc(pt,{})};ee(gt,pt=>{q(t)==="info"&&pt(_t)},!0)}Tt(nt,at)};ee(L,nt=>{q(t)==="extras"?nt(C):nt(st,!1)},!0)}Tt(Z,rt)};ee(lt,Z=>{q(t)==="settings"?Z(H):Z(ht,!1)},!0)}Tt(h,B)};ee(ft,h=>{q(t)==="stats"?h(T):h(U,!1)},!0)}Tt(z,J)};ee(N,z=>{q(t)==="learn"?z(F):z(P,!1)})}var j=ct(S,2);{var $=z=>{var J=kc(),ft=et(J);St("click",ft,c),Tt(z,J)};ee(j,z=>{i.length>0&&z($)})}de(()=>{cr(m,1,`px-3 py-2 rounded-md text-sm font-medium transition-colors
              ${q(t)==="learn"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}`),cr(g,1,`px-3 py-2 rounded-md text-sm font-medium transition-colors
              ${q(t)==="stats"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}`),cr(v,1,`px-3 py-2 rounded-md text-sm font-medium transition-colors
              ${q(t)==="settings"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}`),cr(k,1,`px-3 py-2 rounded-md text-sm font-medium transition-colors
              ${q(t)==="extras"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}`),cr(x,1,`px-3 py-2 rounded-md text-sm font-medium transition-colors
              ${q(t)==="info"?"bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300":"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700"}`)}),St("click",y,()=>l("info")),St("click",m,()=>l("learn")),St("click",g,()=>l("stats")),St("click",v,()=>l("settings")),St("click",k,()=>l("extras")),St("click",x,()=>l("info")),Tt(r,u),br()}Zl(Sc,{target:document.getElementById("app")});
